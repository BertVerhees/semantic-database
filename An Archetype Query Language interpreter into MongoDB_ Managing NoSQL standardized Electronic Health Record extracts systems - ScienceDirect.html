<!DOCTYPE html>
<!-- saved from url=(0067)https://www.sciencedirect.com/science/article/pii/S1532046419302588 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="citation_pii" content="S1532046419302588">
<meta name="citation_id" content="103339">
<meta name="citation_issn" content="1532-0464">
<meta name="citation_volume" content="101">
<meta name="citation_publisher" content="Academic Press">
<meta name="citation_firstpage" content="103339">
<meta name="citation_fulltext_world_readable" content="">
<meta name="citation_journal_title" content="Journal of Biomedical Informatics">
<meta name="citation_type" content="JOUR">
<meta name="citation_doi" content="10.1016/j.jbi.2019.103339">
<meta name="dc.identifier" content="10.1016/j.jbi.2019.103339">
<meta name="citation_article_type" content="Full-length article">
<meta property="og:description" content="The fast development of today’s healthcare and the need to extract new medical knowledge from exponentially-growing volumes of standardized Electronic…">
<meta property="og:image" content="https://ars.els-cdn.com/content/image/1-s2.0-S1532046419302588-ga1.jpg">
<meta name="citation_title" content="An Archetype Query Language interpreter into MongoDB: Managing NoSQL standardized Electronic Health Record extracts systems">
<meta property="og:title" content="An Archetype Query Language interpreter into MongoDB: Managing NoSQL standardized Electronic Health Record extracts systems">
<meta name="citation_publication_date" content="2020/01/01">
<meta name="citation_online_date" content="2019/11/13">
<meta name="robots" content="INDEX,FOLLOW,NOARCHIVE,NOODP,NOYDIR">
<title>An Archetype Query Language interpreter into MongoDB: Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect</title>
<link rel="canonical" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588">
<meta property="og:type" content="article">
<meta name="viewport" content="initial-scale=1">
<meta name="SDTech" content="Proudly brought to you by the SD Technology team in London, Dayton, and Amsterdam">
<script type="text/javascript" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/7ac4127487"></script><script async="" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/pendo.js.download"></script><script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/nr-spa-1194.min.js.download"></script><script type="text/javascript">(function newRelicBrowserProSPA(){window.NREUM||(NREUM={}),NREUM.init={privacy:{cookies_enabled:!0}},window.NREUM||(NREUM={}),__nr_require=function(a,b,c){function d(c){if(!b[c]){var e=b[c]={exports:{}};a[c][0].call(e.exports,function(b){var e=a[c][1][b];return d(e||b)},e,e.exports)}return b[c].exports}if('function'==typeof __nr_require)return __nr_require;for(var e=0;e<c.length;e++)d(c[e]);return d}({1:[function(b){function d(b){try{a.console&&console.log(b)}catch(a){}}var e,f=b('ee'),g=b(27),a={};try{e=localStorage.getItem('__nr_flags').split(','),console&&'function'==typeof console.log&&(a.console=!0,-1!==e.indexOf('dev')&&(a.dev=!0),-1!==e.indexOf('nr_dev')&&(a.nrDev=!0))}catch(a){}a.nrDev&&f.on('internal-error',function(a){d(a.stack)}),a.dev&&f.on('fn-err',function(a,b,c){d(c.stack)}),a.dev&&(d('NR AGENT IN DEVELOPMENT MODE'),d('flags: '+g(a,function(a){return a}).join(', ')))},{}],2:[function(b){function e(a,b,d,e,f){try{o?o-=1:h(f||new g(a,b,d),!0)}catch(a){try{j('ierr',[a,c.now(),!0])}catch(a){}}return'function'==typeof m&&m.apply(this,i(arguments))}function g(a,b,c){this.message=a||'Uncaught error with no additional information',this.sourceURL=b,this.line=c}function h(a,b){var d=b?null:c.now();j('err',[a,d])}var j=b('handle'),i=b(28),a=b('ee'),c=b('loader'),k=b('gos'),m=window.onerror,f=!1,o=0;c.features.err=!0,b(1),window.onerror=e;try{throw new Error}catch(a){'stack'in a&&(b(13),b(12),'addEventListener'in window&&b(6),c.xhrWrappable&&b(14),f=!0)}a.on('fn-start',function(){f&&(o+=1)}),a.on('fn-err',function(a,b,c){f&&!c['nr@seenError']&&(k(c,'nr@seenError',function(){return!0}),this.thrown=!0,h(c))}),a.on('fn-end',function(){f&&!this.thrown&&0<o&&(o-=1)}),a.on('internal-error',function(a){j('ierr',[a,c.now(),!0])})},{}],3:[function(a){a('loader').features.ins=!0},{}],4:[function(c){function e(){w++,v=l.hash,this[a]=g.now()}function j(){w--,l.hash!==v&&k(0,!0);var b=g.now();this[d]=~~this[d]+b-this[a],this[f]=b}function k(a,c){b.emit('newURL',[''+l,c])}function i(a,b){a.on(b,function(){this[b]=g.now()})}var a='fn-start',f='fn-end',d='jsTime',h=window,l=h.location,g=c('loader');if(h.addEventListener&&g.xhrWrappable){var m=c(10),n=c(11),b=c(8),o=c(6),p=c(13),q=c(7),r=c(14),s=c(9),t=c('ee'),u=t.get('tracer');c(16),g.features.spa=!0;var v,w=0;t.on('fn-start',e),n.on('cb-start',e),s.on('cb-start',e),t.on('fn-end',j),n.on('cb-end',j),s.on('cb-end',j),t.buffer(['fn-start','fn-end','xhr-done','xhr-resolved']),o.buffer(['fn-start']),p.buffer(['setTimeout-end','clearTimeout-start','fn-start']),r.buffer(['fn-start','new-xhr','send-xhr-start']),q.buffer(['fetch-start','fetch-done','fetch-body-start','fetch-body-end']),b.buffer(['newURL']),m.buffer(['fn-start']),n.buffer(['propagate','cb-start','cb-end','executor-err','resolve-start']),u.buffer(['fn-start','no-fn-start']),s.buffer(['new-jsonp','cb-start','jsonp-error','jsonp-end']),i(r,'send-xhr-start'),i(t,'xhr-resolved'),i(t,'xhr-done'),i(q,'fetch-start'),i(q,'fetch-done'),i(s,'new-jsonp'),i(s,'jsonp-end'),i(s,'cb-start'),b.on('pushState-end',k),b.on('replaceState-end',k),h.addEventListener('hashchange',k,!0),h.addEventListener('load',k,!0),h.addEventListener('popstate',function(){k(0,1<w)},!0)}},{}],5:[function(b){function d(){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var e=b('ee'),f=b('handle'),g=b(13),a=b(12),c=b('loader');c.features.stn=!0,b(8),'addEventListener'in window&&b(6);var h=NREUM.o.EV;e.on('fn-start',function(a){var b=a[0];b instanceof h&&(this.bstStart=c.now())}),e.on('fn-end',function(a,b){var d=a[0];d instanceof h&&f('bst',[d,b,this.bstStart,c.now()])}),g.on('fn-start',function(a,b,d){this.bstStart=c.now(),this.bstType=d}),g.on('fn-end',function(a,b){f('bstTimer',[b,this.bstStart,c.now(),this.bstType])}),a.on('fn-start',function(){this.bstStart=c.now()}),a.on('fn-end',function(a,b){f('bstTimer',[b,this.bstStart,c.now(),'requestAnimationFrame'])}),e.on('pushState-start',function(){this.time=c.now(),this.startPath=location.pathname+location.hash}),e.on('pushState-end',function(){f('bstHist',[location.pathname+location.hash,this.startPath,this.time])}),'addEventListener'in window.performance&&(window.performance.clearResourceTimings?window.performance.addEventListener('resourcetimingbufferfull',function(){f('bstResource',[window.performance.getEntriesByType('resource')]),window.performance.clearResourceTimings()},!1):window.performance.addEventListener('webkitresourcetimingbufferfull',function(){f('bstResource',[window.performance.getEntriesByType('resource')]),window.performance.webkitClearResourceTimings()},!1)),document.addEventListener('scroll',d,{passive:!0}),document.addEventListener('keypress',d,!1),document.addEventListener('click',d,!1)}},{}],6:[function(b,g){function e(a){for(var b=a;b&&!b.hasOwnProperty(l);)b=Object.getPrototypeOf(b);b&&h(b)}function h(b){a.inPlace(b,[l,f],'-',j)}function j(a){return a[1]}var i=b('ee').get('events'),a=b('wrap-function')(i,!0),c=b('gos'),k=XMLHttpRequest,l='addEventListener',f='removeEventListener';g.exports=i,'getPrototypeOf'in Object?(e(document),e(window),e(k.prototype)):k.prototype.hasOwnProperty('addEventListener')&&(h(window),h(k.prototype)),i.on('addEventListener-start',function(b){var d=b[1],e=c(d,'nr@wrapped',function(){var b={object:function(){if('function'==typeof d.handleEvent)return d.handleEvent.apply(d,arguments)},function:d}[typeof d];return b?a(b,'fn-',null,b.name||'anonymous'):d});this.wrapped=b[1]=e}),i.on('removeEventListener-start',function(a){a[1]=this.wrapped||a[1]})},{}],7:[function(b,f){function g(a,b,d){var f=a[b];'function'==typeof f&&(a[b]=function(){var b=j(arguments),g={};h.emit(d+'before-start',[b],g);var e;g[k]&&g[k].dt&&(e=g[k].dt);var i=f.apply(this,b);return h.emit(d+'start',[b,e],i),i.then(function(a){return h.emit(d+'end',[null,a],i),a},function(a){throw h.emit(d+'end',[a],i),a})})}var h=b('ee').get('fetch'),j=b(28),e=b(27);f.exports=h;var a=window,c=a.Request,d=a.Response,i=a.fetch,k='nr@context';c&&d&&i&&(e(['arrayBuffer','blob','json','text','formData'],function(a,b){g(c.prototype,b,'fetch-body-'),g(d.prototype,b,'fetch-body-')}),g(a,'fetch','fetch-'),h.on('fetch-end',function(a,b){var c=this;if(b){var d=b.headers.get('content-length');null!==d&&(c.rxSize=d),h.emit('fetch-done',[null,b],c)}else h.emit('fetch-done',[a],c)}))},{}],8:[function(b,c){var d=b('ee').get('history'),e=b('wrap-function')(d);c.exports=d;var f=window.history&&window.history.constructor&&window.history.constructor.prototype,g=window.history;f&&f.pushState&&f.replaceState&&(g=f),e.inPlace(g,['pushState','replaceState'],'-')},{}],9:[function(b,g){function e(b){function g(){a.emit('jsonp-end',[],d),b.removeEventListener('load',g,!1),b.removeEventListener('error',e,!1)}function e(){a.emit('jsonp-error',[],d),a.emit('jsonp-end',[],d),b.removeEventListener('load',g,!1),b.removeEventListener('error',e,!1)}var h=b&&'string'==typeof b.nodeName&&'script'===b.nodeName.toLowerCase();if(h){var i='function'==typeof b.addEventListener;if(i){var l=j(b.src);if(l){var m=k(l),f='function'==typeof m.parent[m.key];if(f){var d={};c.inPlace(m.parent,[m.key],'cb-',d),b.addEventListener('load',g,!1),b.addEventListener('error',e,!1),a.emit('new-jsonp',[b.src],d)}}}}}function h(){return'addEventListener'in window}function j(a){var b=a.match(m);return b?b[1]:null}function i(a,b){var c=a.match(d),e=c[1],f=c[3];return f?i(f,b[e]):b[e]}function k(a){var b=a.match(f);return b&&3<=b.length?{key:b[2],parent:i(b[1],window)}:{key:a,parent:window}}var a=b('ee').get('jsonp'),c=b('wrap-function')(a);if(g.exports=a,h()){var m=/[?&](?:callback|cb)=([^&#]+)/,f=/(.*)\.([^.]+)/,d=/^(\w+)(\.|$)(.*)$/,n=['appendChild','insertBefore','replaceChild'];Node&&Node.prototype&&Node.prototype.appendChild?c.inPlace(Node.prototype,n,'dom-'):(c.inPlace(HTMLElement.prototype,n,'dom-'),c.inPlace(HTMLHeadElement.prototype,n,'dom-'),c.inPlace(HTMLBodyElement.prototype,n,'dom-')),a.on('dom-start',function(a){e(a[0])})}},{}],10:[function(a,b){var c=a('ee').get('mutation'),d=a('wrap-function')(c),e=NREUM.o.MO;b.exports=c,e&&(window.MutationObserver=function(a){return this instanceof e?new e(d(a,'fn-')):e.apply(this,arguments)},MutationObserver.prototype=e.prototype)},{}],11:[function(b,d){function f(b){var c=h.context(),d=a(b,'executor-',c,null,!1),e=new k(d);return h.context(e).getCtx=function(){return c},e}var g=b('wrap-function'),h=b('ee').get('promise'),i=b('ee').getOrSetContext,a=g(h),j=b(27),k=NREUM.o.PR;d.exports=h,k&&(window.Promise=f,['all','race'].forEach(function(a){var b=k[a];k[a]=function(d){function f(a){return function(){h.emit('propagate',[null,!e],g,!1,!1),e=e||!a}}var e=!1;j(d,function(b,c){Promise.resolve(c).then(f('all'===a),f(!1))});var g=b.apply(k,arguments),i=k.resolve(g);return i}}),['resolve','reject'].forEach(function(a){var b=k[a];k[a]=function(a){var c=b.apply(k,arguments);return a!==c&&h.emit('propagate',[a,!0],c,!1,!1),c}}),k.prototype['catch']=function(a){return this.then(null,a)},k.prototype=Object.create(k.prototype,{constructor:{value:f}}),j(Object.getOwnPropertyNames(k),function(a,b){try{f[b]=k[b]}catch(a){}}),g.wrapInPlace(k.prototype,'then',function(b){return function(){var c=this,d=g.argsToArray.apply(this,arguments),e=i(c);e.promise=c,d[0]=a(d[0],'cb-',e,null,!1),d[1]=a(d[1],'cb-',e,null,!1);var f=b.apply(this,d);return e.nextPromise=f,h.emit('propagate',[c,!0],f,!1,!1),f}}),h.on('executor-start',function(b){b[0]=a(b[0],'resolve-',this,null,!1),b[1]=a(b[1],'resolve-',this,null,!1)}),h.on('executor-err',function(a,b,c){a[1](c)}),h.on('cb-end',function(a,b,c){h.emit('propagate',[c,!0],this.nextPromise,!1,!1)}),h.on('propagate',function(a,b){this.getCtx&&!b||(this.getCtx=function(){if(a instanceof Promise)var b=h.context(a);return b&&b.getCtx?b.getCtx():this})}),f.toString=function(){return''+k})},{}],12:[function(a,b){var c=a('ee').get('raf'),d=a('wrap-function')(c);b.exports=c,d.inPlace(window,['requestAnimationFrame','mozRequestAnimationFrame','webkitRequestAnimationFrame','msRequestAnimationFrame'],'raf-'),c.on('raf-start',function(a){a[0]=d(a[0],'fn-')})},{}],13:[function(b,c){var d=b('ee').get('timer'),f=b('wrap-function')(d);c.exports=d,f.inPlace(window,['setTimeout','setImmediate'],'setTimeout-'),f.inPlace(window,['setInterval'],'setInterval-'),f.inPlace(window,['clearTimeout','clearImmediate'],'clearTimeout-'),d.on('setInterval-start',function(a,b,c){a[0]=f(a[0],'fn-',null,c)}),d.on('setTimeout-start',function(a,b,c){this.method=c,this.timerDuration=isNaN(a[1])?0:+a[1],a[0]=f(a[0],'fn-',this,c)})},{}],14:[function(j,k){function n(b,c){f.inPlace(c,['onreadystatechange'],'fn-',a)}function q(){var b=this,c=i.context(b);3<b.readyState&&!c.resolved&&(c.resolved=!0,i.emit('xhr-resolved',[],b)),f.inPlace(b,r,'fn-',a)}function o(a){g.push(a),l&&(u?u.then(e):m?m(e):(b=-b,v.data=b))}function e(){for(var a=0;a<g.length;a++)n([],g[a]);g.length&&(g=[])}function a(a,b){return b}j(6);var c=j('ee'),i=c.get('xhr'),f=j('wrap-function')(i),d=NREUM.o,p=d.XHR,l=d.MO,h=d.PR,m=d.SI,r=['onload','onerror','onabort','onloadstart','onloadend','onprogress','ontimeout'],g=[];k.exports=i;var s=window.XMLHttpRequest=function(a){var b=new p(a);try{i.emit('new-xhr',[b],b),b.addEventListener('readystatechange',q,!1)}catch(a){try{i.emit('internal-error',[a])}catch(a){}}return b};if(function(a,b){for(var c in a)b[c]=a[c];return b}(p,s),s.prototype=p.prototype,f.inPlace(s.prototype,['open','send'],'-xhr-',a),i.on('send-xhr-start',function(a,b){n(a,b),o(b)}),i.on('open-xhr-start',n),l){var u=h&&h.resolve();if(!m&&!h){var b=1,v=document.createTextNode(b);new l(e).observe(v,{characterData:!0})}}else c.on('fn-end',function(a){a[0]&&a[0].type==='readystatechange'||e()})},{}],15:[function(b,g){function e(b){if(!a(b))return null;var g=window.NREUM;if(!g.loader_config)return null;var e=(g.loader_config.accountID||'').toString()||null,l=(g.loader_config.agentID||'').toString()||null,n=(g.loader_config.trustKey||'').toString()||null;if(!e||!l)return null;var q=p.generateSpanId(),h=p.generateTraceId(),m=Date.now(),r={spanId:q,traceId:h,timestamp:m};return(b.sameOrigin||c(b)&&d())&&(r.traceContextParentHeader=j(q,h),r.traceContextStateHeader=k(q,m,e,l,n)),(b.sameOrigin&&!o()||!b.sameOrigin&&c(b)&&f())&&(r.newrelicHeader=i(q,h,m,e,l,n)),r}function j(a,b){return'00-'+b+'-'+a+'-01'}function k(a,b,c,d,e){return e+'@nr='+0+'-'+1+'-'+c+'-'+d+'-'+a+'-'+''+'-'+''+'-'+''+'-'+b}function i(b,d,e,f,g,h){var i='btoa'in window&&'function'==typeof window.btoa;if(!i)return null;var a={v:[0,1],d:{ty:'Browser',ac:f,ap:g,id:b,tr:d,ti:e}};return h&&f!==h&&(a.d.tk=h),btoa(JSON.stringify(a))}function a(a){return m()&&c(a)}function c(a){var b=!1,c={};if('init'in NREUM&&'distributed_tracing'in NREUM.init&&(c=NREUM.init.distributed_tracing),a.sameOrigin)b=!0;else if(c.allowed_origins instanceof Array)for(var d,f=0;f<c.allowed_origins.length;f++)if(d=l(c.allowed_origins[f]),a.hostname===d.hostname&&a.protocol===d.protocol&&a.port===d.port){b=!0;break}return b}function m(){return'init'in NREUM&&'distributed_tracing'in NREUM.init&&!!NREUM.init.distributed_tracing.enabled}function o(){return'init'in NREUM&&'distributed_tracing'in NREUM.init&&!!NREUM.init.distributed_tracing.exclude_newrelic_header}function f(){return'init'in NREUM&&'distributed_tracing'in NREUM.init&&!1!==NREUM.init.distributed_tracing.cors_use_newrelic_header}function d(){return'init'in NREUM&&'distributed_tracing'in NREUM.init&&!!NREUM.init.distributed_tracing.cors_use_tracecontext_headers}var p=b(24),l=b(17);g.exports={generateTracePayload:e,shouldGenerateTrace:a}},{}],16:[function(b){function g(b){var c=this.params,e=this.metrics;if(!this.ended){this.ended=!0;for(var g=0;g<d;g++)b.removeEventListener(f[g],this.listener,!1);c.aborted||(e.duration=k.now()-this.startTime,this.loadCaptureCalled||4!==b.readyState?null==c.status&&(c.status=0):j(this,b),e.cbTime=this.cbTime,i.emit('xhr-done',[b],b),a('xhr',[c,e,this.startTime]))}}function e(a,b){var d=c(b),e=a.params;e.host=d.hostname+':'+d.port,e.pathname=d.pathname,a.parsedOrigin=c(b),a.sameOrigin=a.parsedOrigin.sameOrigin}function j(a,b){a.params.status=b.status;var c=m(b,a.lastSize);if(c&&(a.metrics.rxSize=c),a.sameOrigin){var d=b.getResponseHeader('X-NewRelic-App-Data');d&&(a.params.cat=d.split(', ').pop())}a.loadCaptureCalled=!0}var k=b('loader');if(k.xhrWrappable){var a=b('handle'),c=b(17),q=b(15).generateTracePayload,i=b('ee'),f=['load','error','abort','timeout'],d=f.length,o=b('id'),l=b(21),h=b(20),m=b(18),p=window.XMLHttpRequest;k.features.xhr=!0,b(14),b(7),i.on('new-xhr',function(a){var b=this;b.totalCbs=0,b.called=0,b.cbTime=0,b.end=g,b.ended=!1,b.xhrGuids={},b.lastSize=null,b.loadCaptureCalled=!1,a.addEventListener('load',function(){j(b,a)},!1),l&&(34<l||10>l)||window.opera||a.addEventListener('progress',function(a){b.lastSize=a.loaded},!1)}),i.on('open-xhr-start',function(a){this.params={method:a[0]},e(this,a[1]),this.metrics={}}),i.on('open-xhr-end',function(a,b){'loader_config'in NREUM&&'xpid'in NREUM.loader_config&&this.sameOrigin&&b.setRequestHeader('X-NewRelic-ID',NREUM.loader_config.xpid);var c=q(this.parsedOrigin);if(c){var d=!1;c.newrelicHeader&&(b.setRequestHeader('newrelic',c.newrelicHeader),d=!0),c.traceContextParentHeader&&(b.setRequestHeader('traceparent',c.traceContextParentHeader),c.traceContextStateHeader&&b.setRequestHeader('tracestate',c.traceContextStateHeader),d=!0),d&&(this.dt=c)}}),i.on('send-xhr-start',function(a,b){var e=this.metrics,g=a[0],j=this;if(e&&g){var l=h(g);l&&(e.txSize=l)}this.startTime=k.now(),this.listener=function(a){try{'abort'!==a.type||j.loadCaptureCalled||(j.params.aborted=!0),('load'!==a.type||j.called===j.totalCbs&&(j.onloadCalled||'function'!=typeof b.onload))&&j.end(b)}catch(a){try{i.emit('internal-error',[a])}catch(a){}}};for(var m=0;m<d;m++)b.addEventListener(f[m],this.listener,!1)}),i.on('xhr-cb-time',function(a,b,c){this.cbTime+=a,b?this.onloadCalled=!0:this.called+=1,this.called===this.totalCbs&&(this.onloadCalled||'function'!=typeof c.onload)&&this.end(c)}),i.on('xhr-load-added',function(a,b){var c=''+o(a)+!!b;this.xhrGuids&&!this.xhrGuids[c]&&(this.xhrGuids[c]=!0,this.totalCbs+=1)}),i.on('xhr-load-removed',function(a,b){var c=''+o(a)+!!b;this.xhrGuids&&this.xhrGuids[c]&&(delete this.xhrGuids[c],this.totalCbs-=1)}),i.on('addEventListener-end',function(a,b){b instanceof p&&'load'===a[0]&&i.emit('xhr-load-added',[a[1],a[2]],b)}),i.on('removeEventListener-end',function(a,b){b instanceof p&&'load'===a[0]&&i.emit('xhr-load-removed',[a[1],a[2]],b)}),i.on('fn-start',function(a,b,c){b instanceof p&&('onload'===c&&(this.onload=!0),('load'===(a[0]&&a[0].type)||this.onload)&&(this.xhrCbStart=k.now()))}),i.on('fn-end',function(a,b){this.xhrCbStart&&i.emit('xhr-cb-time',[k.now()-this.xhrCbStart,this.onload,b],b)}),i.on('fetch-before-start',function(b){function d(a,b){var c=!1;return b.newrelicHeader&&(a.set('newrelic',b.newrelicHeader),c=!0),b.traceContextParentHeader&&(a.set('traceparent',b.traceContextParentHeader),b.traceContextStateHeader&&a.set('tracestate',b.traceContextStateHeader),c=!0),c}var e,f=b[1]||{};'string'==typeof b[0]?e=b[0]:b[0]&&b[0].url?e=b[0].url:window.URL&&b[0]&&b[0]instanceof URL&&(e=b[0].href),e&&(this.parsedOrigin=c(e),this.sameOrigin=this.parsedOrigin.sameOrigin);var g=q(this.parsedOrigin);if(g&&(g.newrelicHeader||g.traceContextParentHeader))if('string'==typeof b[0]||window.URL&&b[0]&&b[0]instanceof URL){var h={};for(var i in f)h[i]=f[i];h.headers=new Headers(f.headers||{}),d(h.headers,g)&&(this.dt=g),1<b.length?b[1]=h:b.push(h)}else b[0]&&b[0].headers&&d(b[0].headers,g)&&(this.dt=g)})}},{}],17:[function(a,b){var d={};b.exports=function(b){if(b in d)return d[b];var f=document.createElement('a'),e=window.location,g={};f.href=b,g.port=f.port;var h=f.href.split('://');!g.port&&h[1]&&(g.port=h[1].split('/')[0].split('@').pop().split(':')[1]),g.port&&'0'!==g.port||(g.port='https'===h[0]?'443':'80'),g.hostname=f.hostname||e.hostname,g.pathname=f.pathname,g.protocol=h[0],'/'!==g.pathname.charAt(0)&&(g.pathname='/'+g.pathname);var i=!f.protocol||':'===f.protocol||f.protocol===e.protocol,a=f.hostname===document.domain&&f.port===e.port;return g.sameOrigin=i&&(!f.hostname||a),'/'===g.pathname&&(d[b]=g),g}},{}],18:[function(a,b){var c=a(20);b.exports=function(a,b){var d=a.responseType;return'json'===d&&null!==b?b:'arraybuffer'===d||'blob'===d||'json'===d?c(a.response):'text'===d||''===d||void 0===d?c(a.responseText):void 0}},{}],19:[function(b,d){function e(){}function g(b,c,d){return function(){return j(b,[k.now()].concat(a(arguments)),c?null:this,d),c?void 0:this}}var j=b('handle'),i=b(27),a=b(28),c=b('ee').get('tracer'),k=b('loader'),l=NREUM;'undefined'==typeof window.newrelic&&(newrelic=l);i(['setPageViewName','setCustomAttribute','setErrorHandler','finished','addToTrace','inlineHit','addRelease'],function(a,b){l[b]=g('api-'+b,!0,'api')}),l.addPageAction=g('api-addPageAction',!0),l.setCurrentRouteName=g('api-routeName',!0),d.exports=newrelic,l.interaction=function(){return new e().get()};var f=e.prototype={createTracer:function g(a,b){var d={},e=this,f='function'==typeof b;return j('api-ixn-tracer',[k.now(),a,d],e),function(){if(c.emit((f?'':'no-')+'fn-start',[k.now(),e,f],d),f)try{return b.apply(this,arguments)}catch(a){throw c.emit('fn-err',[arguments,this,a],d),a}finally{c.emit('fn-end',[k.now()],d)}}}};i(['actionText','setName','setAttribute','save','ignore','onEnd','getContext','end','get'],function(a,b){f[b]=g('api-ixn-'+b)}),newrelic.noticeError=function(a,b){'string'==typeof a&&(a=new Error(a)),j('err',[a,k.now(),!1,b])}},{}],20:[function(a,b){b.exports=function(a){if('string'==typeof a&&a.length)return a.length;if('object'==typeof a){if('undefined'!=typeof ArrayBuffer&&a instanceof ArrayBuffer&&a.byteLength)return a.byteLength;if('undefined'!=typeof Blob&&a instanceof Blob&&a.size)return a.size;if(!('undefined'!=typeof FormData&&a instanceof FormData))try{return JSON.stringify(a).length}catch(a){}}}},{}],21:[function(a,b){var c=0,d=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);d&&(c=+d[1]),b.exports=c},{}],22:[function(b,d){function e(){return a.exists&&performance.now?Math.round(performance.now()):(g=Math.max(new Date().getTime(),g))-h}function f(){return g}var g=new Date().getTime(),h=g,a=b(29);d.exports=e,d.exports.offset=h,d.exports.getLastTimestamp=f},{}],23:[function(b){function e(a){var b=a.getEntries();b.forEach(function(a){'first-paint'===a.name?o('timing',['fp',Math.floor(a.startTime)]):'first-contentful-paint'===a.name&&o('timing',['fcp',Math.floor(a.startTime)])})}function g(a){var b=a.getEntries();0<b.length&&o('lcp',[b[b.length-1]])}function j(a){a.getEntries().forEach(function(a){a.hadRecentInput||o('cls',[a])})}function i(a){if(a instanceof l&&!h){var b=Math.round(a.timeStamp),c={type:a.type};b<=d.now()?c.fid=d.now()-b:b>d.offset&&b<=Date.now()?(b-=d.offset,c.fid=d.now()-b):b=d.now(),h=!0,o('timing',['fi',b,c])}}function a(a){o('pageHide',[d.now(),a])}if(!('init'in NREUM&&'page_view_timing'in NREUM.init&&'enabled'in NREUM.init.page_view_timing&&!1===NREUM.init.page_view_timing.enabled)){var c,k,m,o=b('handle'),d=b('loader'),n=b(26),l=NREUM.o.EV;if('PerformanceObserver'in window&&'function'==typeof window.PerformanceObserver){c=new PerformanceObserver(e);try{c.observe({entryTypes:['paint']})}catch(a){}k=new PerformanceObserver(g);try{k.observe({entryTypes:['largest-contentful-paint']})}catch(a){}m=new PerformanceObserver(j);try{m.observe({type:'layout-shift',buffered:!0})}catch(a){}}if('addEventListener'in document){var h=!1;['click','keydown','mousedown','pointerdown','touchstart'].forEach(function(a){document.addEventListener(a,i,!1)})}n(a)}},{}],24:[function(b,c){function d(){function b(){return d?15&d[f++]:0|16*Math.random()}var d=null,f=0,g=window.crypto||window.msCrypto;g&&g.getRandomValues&&(d=g.getRandomValues(new Uint8Array(31)));for(var h,j='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx',i='',k=0;k<j.length;k++)h=j[k],'x'===h?i+=b().toString(16):'y'===h?(h=8|3&b(),i+=h.toString(16)):i+=h;return i}function e(b){function c(){return d?15&d[e++]:0|16*Math.random()}var d=null,e=0,f=window.crypto||window.msCrypto;f&&f.getRandomValues&&Uint8Array&&(d=f.getRandomValues(new Uint8Array(31)));for(var g=[],h=0;h<b;h++)g.push(c().toString(16));return g.join('')}c.exports={generateUuid:d,generateSpanId:function(){return e(16)},generateTraceId:function(){return e(32)}}},{}],25:[function(b,d){function e(b,c){if(!f)return!1;if(b!==f)return!1;if(!c)return!0;if(!g)return!1;for(var d=g.split('.'),e=c.split('.'),h=0;h<e.length;h++)if(e[h]!==d[h])return!1;return!0}var f=null,g=null,h=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var a=navigator.userAgent,c=a.match(h);c&&-1===a.indexOf('Chrome')&&-1===a.indexOf('Chromium')&&(f='Safari',g=c[1])}d.exports={agent:f,version:g,match:e}},{}],26:[function(b,c){function d(a){function b(){a(g&&document[g]?document[g]:document[e]?'hidden':'visible')}'addEventListener'in document&&f&&document.addEventListener(f,b,!1)}c.exports=d;var e,f,g;'undefined'==typeof document.hidden?'undefined'==typeof document.msHidden?'undefined'!=typeof document.webkitHidden&&(e='webkitHidden',f='webkitvisibilitychange',g='webkitVisibilityState'):(e='msHidden',f='msvisibilitychange'):(e='hidden',f='visibilitychange',g='visibilityState')},{}],27:[function(a,b){function c(a,b){var c=[],e='',f=0;for(e in a)d.call(a,e)&&(c[f]=b(e,a[e]),f+=1);return c}var d=Object.prototype.hasOwnProperty;b.exports=c},{}],28:[function(a,b){function c(a,b,c){b||(b=0),'undefined'==typeof c&&(c=a?a.length:0);for(var d=-1,f=c-b||0,g=Array(0>f?0:f);++d<f;)g[d]=a[b+d];return g}b.exports=c},{}],29:[function(a,b){b.exports={exists:'undefined'!=typeof window.performance&&window.performance.timing&&'undefined'!=typeof window.performance.timing.navigationStart}},{}],ee:[function(b,g){function e(){}function h(b){function d(a){return a&&a instanceof e?a:a?j(a,c,i):i()}function l(e,h,j,k,i){if(!1!==i&&(i=!0),!v.aborted||k){b&&i&&b(e,h,j);for(var l=d(j),c=p(e),m=c.length,n=0;n<m;n++)c[n].apply(l,h);var o=q[g[e]];return o&&o.push([t,e,h,l]),l}}function n(a,b){m[a]=p(a).concat(b)}function p(a){return m[a]||[]}var m={},g={},t={on:n,addEventListener:n,removeEventListener:function(a,b){var c=m[a];if(c)for(var d=0;d<c.length;d++)c[d]===b&&c.splice(d,1)},emit:l,get:function(a){return f[a]=f[a]||h(l)},listeners:p,context:d,buffer:function(a,b){k(a,function(a,c){b=b||'feature',g[c]=b,b in q||(q[b]=[])})},abort:a,aborted:!1};return t}function i(){return new e}function a(){(q.api||q.feature)&&(v.aborted=!0,q=v.backlog={})}var c='nr@context',j=b('gos'),k=b(27),q={},f={},v=g.exports=h();g.exports.getOrSetContext=function(a){return j(a,c,i)},v.backlog=q},{}],gos:[function(a,b){function c(a,b,c){if(d.call(a,b))return a[b];var e=c();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(a,b,{value:e,writable:!0,enumerable:!1}),e}catch(a){}return a[b]=e,e}var d=Object.prototype.hasOwnProperty;b.exports=c},{}],handle:[function(a,b){function c(a,b,c,e){d.buffer([a],e),d.emit(a,b,c)}var d=a('ee').get('handle');b.exports=c,c.ee=d},{}],id:[function(b,c){var d=1,f=b('gos');c.exports=function(a){var b=typeof a;return a&&('object'==b||'function'==b)?a===window?0:f(a,'nr@id',function(){return d++}):-1}},{}],loader:[function(h,j){function e(){if(!u++){var b=s.info=NREUM.info,f=d.getElementsByTagName('script')[0];if(setTimeout(l.abort,3e4),!(b&&b.licenseKey&&b.applicationID&&f))return l.abort();c(q,function(a,c){b[a]||(b[a]=c)});var e=i();a('mark',['onload',e+s.offset],null,'api'),a('timing',['load',e]);var g=d.createElement('script');g.src='https://'+b.agent,f.parentNode.insertBefore(g,f)}}function k(){a('mark',['domContent',i()+s.offset],null,'api')}var i=h(22),a=h('handle'),c=h(27),l=h('ee'),n=h(25),f=window,d=f.document,o=f.XMLHttpRequest,m=o&&o.prototype;NREUM.o={ST:setTimeout,SI:f.setImmediate,CT:clearTimeout,XHR:o,REQ:f.Request,EV:f.Event,PR:f.Promise,MO:f.MutationObserver};var p=''+location,q={beacon:'bam.nr-data.net',errorBeacon:'bam.nr-data.net',agent:'js-agent.newrelic.com/nr-spa-1194.min.js'},g=o&&m&&m.addEventListener&&!/CriOS/.test(navigator.userAgent),s=j.exports={offset:i.getLastTimestamp(),now:i,origin:p,features:{},xhrWrappable:g,userAgent:n};h(19),h(23),d.addEventListener?(d.addEventListener('DOMContentLoaded',k,!1),f.addEventListener('load',e,!1)):(d.attachEvent('onreadystatechange',function(){'complete'===d.readyState&&k()}),f.attachEvent('onload',e)),a('mark',['firstbyte',i.getLastTimestamp()],null,'api');var u=0},{}],"wrap-function":[function(b,g){function e(b,f){function a(f,e,h,o,l){function a(){var d,k,m,n;try{k=this,d=c(arguments),m='function'==typeof h?h(d,k):h||{}}catch(a){j([a,'',[d,k,o],m],b)}g(e+'start',[d,k,o],m,l);try{return n=f.apply(k,d)}catch(a){throw g(e+'err',[d,k,a],m,l),a}finally{g(e+'end',[d,k,n],m,l)}}return m(f)?f:(e||(e=''),a[d]=f,k(f,a,b),a)}function e(b,d,e,g,h){e||(e='');var i,j,k,l='-'===e.charAt(0);for(k=0;k<d.length;k++)j=d[k],i=b[j],m(i)||(b[j]=a(i,l?j+e:e,g,j,h))}function g(d,e,g,h){if(!l||f){var a=l;l=!0;try{b.emit(d,e,g,f,h)}catch(a){j([a,d,e,g],b)}l=a}}return b||(b=i),a.inPlace=e,a.flag=d,a}function j(a,b){b||(b=i);try{b.emit('internal-error',a)}catch(a){}}function k(b,c,d){if(Object.defineProperty&&Object.keys)try{var e=Object.keys(b);return e.forEach(function(a){Object.defineProperty(c,a,{get:function c(){return b[a]},set:function d(c){return b[a]=c,c}})}),c}catch(a){j([a],d)}for(var g in b)f.call(b,g)&&(c[g]=b[g]);return c}function m(a){return!(a&&a instanceof Function&&a.apply&&!a[d])}function a(a,b){var c=b(a);return c[d]=a,k(a,c,i),c}var i=b('ee'),c=b(28),d='nr@original',f=Object.prototype.hasOwnProperty,l=!1;g.exports=e,g.exports.wrapFunction=a,g.exports.wrapInPlace=function(b,c,d){var e=b[c];b[c]=a(e,d)},g.exports.argsToArray=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;++c)b[c]=arguments[c];return b}},{}]},{},['loader',2,16,5,3,4]);NREUM.loader_config={accountID:'2128461',trustKey:'2038175',agentID:'814813181',licenseKey:'7ac4127487',applicationID:'814813181'},NREUM.info={beacon:'bam-cell.nr-data.net',errorBeacon:'bam-cell.nr-data.net',licenseKey:'7ac4127487',applicationID:'814813181',sa:1}})()</script>
<link rel="shortcut icon" href="https://sdfestaticassets-eu-west-1.sciencedirectassets.com/shared-assets/13/images/favSD.ico" type="image/x-icon">
<link rel="icon" href="https://sdfestaticassets-eu-west-1.sciencedirectassets.com/shared-assets/13/images/favSD.ico" type="image/x-icon">
<link rel="stylesheet" href="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/arp.css">
<link href="https://cdn.pendo.io/" rel="dns-prefetch">
<link href="https://cdn.pendo.io/" rel="preconnect" crossorigin="anonymous">
<link rel="dns-prefetch" href="https://smetrics.elsevier.com/">
<script type="text/javascript">
        var targetServerState = JSON.stringify({"4D6368F454EC41940A4C98A6@AdobeOrg":{"sdid":{"supplementalDataIDCurrent":"3043C0962FA05FF0-2CA0AC4BD6358052","supplementalDataIDCurrentConsumed":{"payload:target-global-mbox":true},"supplementalDataIDLastConsumed":{}}}});
        window.pageTargeting = {"region":"eu-west-1","platform":"sdtech","entitled":true,"crawler":"","journal":"Journal of Biomedical Informatics","auth":"AE"};
        window.pageData = {"content":[{"entitlementType":"openarchive","format":"MIME-XHTML","id":"sd:article:pii:S1532046419302588","type":"sd:article:JL:scope-full","detail":"sd:article:subtype:fla","publicationType":"journal","issn":"1532-0464","volumeNumber":"101","suppl":"C"}],"page":{"businessUnit":"ELS:RP:ST","language":"en","name":"product:journal:article","noTracking":"false","productAppVersion":"full-direct","productName":"SD","type":"CP-CA","environment":"prod","loadTimestamp":1618820246485,"loadTime":""},"visitor":{"accessType":"ae:ANON_GUEST","accountId":"ae:228598","accountName":"ae:ScienceDirect Guests","loginStatus":"anonymous","userId":"ae:12975512","ipAddress":"83.162.248.203","appSessionId":"e2d685ca-3043-4699-91a6-6b84acd48725","threatMetrixSessionId":"deee373c-5fdc-4339-abe6-c23c1b297765"}};
        window.arp = {
          config: {"adobeSuite":"elsevier-sd-prod","arsUrl":"https://ars.els-cdn.com","assetsBaseUrl":"https://sdfestaticassets-eu-west-1.sciencedirectassets.com/prod/fa5cbcda04dac91a3a16bbc4a9383c204edc34fd","bosTimeOut":60000,"bosUrl":"https://feedback.recs.d.elsevier.com/raw/events","cdnAssetsHost":"https://sdfestaticassets-eu-west-1.sciencedirectassets.com","enableViewOnlyPdf":true,"googleMapsApiKey":"AIzaSyCBYU6I6lrbEU6wQXUEIte3NwGtm3jwHQc","mediaBaseUrl":"https://ars.els-cdn.com/content/image/","reduxLogging":false,"sendToEnhancedReader":true,"strictMode":false,"seamlessAccess":{"enableSeamlessAccess":true,"scriptUrl":"https://unpkg.com/@theidentityselector/thiss-ds","persistenceUrl":"https://service.seamlessaccess.org/ps/","persistenceContext":"seamlessaccess.org","scienceDirectUrl":"https://www.sciencedirect.com","shibAuthUrl":"https://auth.elsevier.com/ShibAuth/institutionLogin"},"enableUniversalPdf":false},
          subscriptions: [],
          subscribe: function(cb) {
            var self = this;
            var i = this.subscriptions.push(cb) - 1;
            return function unsubscribe() {
              self.subscriptions.splice(i, 1);
            }
          },
        };
      </script>
<script type="text/javascript">var esd=esd||{};esd.version=3,esd.create_url=function(t,e,r,n,a){function i(){return Math.floor(2742745743359*Math.random())}function c(){return o(i())}function o(t){return(t+78364164096).toString(36)}var m=i(),u=i(),l=885187064159;u=((u=u-u%256+esd.version)+m)%2742745743359,l=(l+m)%2742745743359;var s="https://"+t+"/"+(m=c()+o(m))+e,h=[(u=o(l)+o(u))+"="+r,c()+c()+"="+n];return void 0!==a&&a.length>0&&h.push(c()+c()+"="+a),s+"?"+h.join("&")},esd.beacon=function(t,e,r,n){var a="turn:aa.online-metrix.net?transport=",i="1:"+e+":"+r,c={iceServers:[{urls:a+"tcp",username:i,credential:r},{urls:a+"udp",username:i,credential:r}]};try{var o=new RTCPeerConnection(c);o.createDataChannel(Math.random().toString());var m=function(){},u=function(t){o.setLocalDescription(t,m,m)};"undefined"==typeof Promise||o.createOffer.length>0?o.createOffer(u,m):o.createOffer().then(u,m)}catch(t){}},esd.load_tags=function(t,e,r,n){esd.beacon(t,e,r,n);var a=document.getElementsByTagName("head").item(0),i=document.createElement("script");i.id="tmx_tags_js",i.setAttribute("type","text/javascript");var c=esd.create_url(t,".js",e,r,n);i.setAttribute("src",c),esd.set_csp_nonce(i),a.appendChild(i)},esd.load_iframe_tags=function(t,e,r,n){esd.beacon(t,e,r,n);var a=esd.create_url(t,".htm",e,r,n),i=document.createElement("iframe");i.title="empty",i.setAttribute("aria-disabled","true"),i.width="0",i.height="0",i.setAttribute("style","color:rgba(0,0,0,0); float:left; position:absolute; top:-200; left:-200; border:0px"),i.setAttribute("src",a),document.body.appendChild(i)},esd.csp_nonce=null,esd.register_csp_nonce=function(t){if(void 0!==t.currentScript&&null!==t.currentScript){var e=t.currentScript.getAttribute("nonce");void 0!==e&&null!==e&&""!==e?esd.csp_nonce=e:void 0!==t.currentScript.nonce&&null!==t.currentScript.nonce&&""!==t.currentScript.nonce&&(esd.csp_nonce=t.currentScript.nonce)}},esd.set_csp_nonce=function(t){null!==esd.csp_nonce&&(t.setAttribute("nonce",esd.csp_nonce),t.getAttribute("nonce")!==esd.csp_nonce&&(t.nonce=esd.csp_nonce))},esd.cleanup=function(){for(;null!==(hp_frame=document.getElementById("tdz_ifrm"));)hp_frame.parentElement.removeChild(hp_frame);for(;null!==(tmx_frame=document.getElementById("tmx_tags_iframe"));)tmx_frame.parentElement.removeChild(tmx_frame);for(;null!==(tmx_script=document.getElementById("tmx_tags_js"));)tmx_script.parentElement.removeChild(tmx_script)},esd.profile=function(t,e,r,n){esd.cleanup(),esd.register_csp_nonce(document),esd.load_tags(t,e,r,n)},esd.profile_iframe=function(t,e,r,n){esd.cleanup(),esd.register_csp_nonce(document),esd.load_iframe_tags(t,e,r,n)};</script>
<script type="text/javascript">esd.profile("nav.sciencedirect.com", "72k6ns9a", "deee373c-5fdc-4339-abe6-c23c1b297765", "402");</script>
<script id="tmx_tags_js" type="text/javascript" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/8r0yb7k72ud3hfjh.js.download"></script><script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/AppMeasurement.min.js.download" async=""></script><script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/AppMeasurement_Module_ActivityMap.min.js.download" async=""></script><meta http-equiv="origin-trial" content="A+b/H0b8RPXNaJgaNFpO0YOFuGK6myDQXlwnJB3SwzvNMfcndat4DZYMrP4ClJIzYWo3/yP2S+8FTZ/lpqbPAAEAAABueyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzVGhpcmRQYXJ0eSI6dHJ1ZX0="><meta http-equiv="origin-trial" content="A9ZgbRtm4pU3oZiuNzOsKcC8ppFSZdcjP2qYcdQrFKVzkmiWH1kdYY1Mi9x7G8+PS8HV9Ha9Cz0gaMdKsiVZIgMAAAB7eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AxL6oBxcpn5rQDPKSAs+d0oxNyJYq2/4esBUh3Yx5z8QfcLu+AU8iFCXYRcr/CEEfDnkxxLTsvXPJFQBxHfvkgMAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A9KPtG5kl3oLTk21xqynDPGQ5t18bSOpwt0w6kGa6dEWbuwjpffmdUpR3W+faZDubGT+KIk2do0BX2ca16x8qAcAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A3HucHUo1oW9s+9kIKz8mLkbcmdaj5lxt3eiIMp1Nh49dkkBlg1Fhg4Fd/r0vL69mRRA36YutI9P/lJUfL8csQoAAACFeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A0OysezhLoCRYomumeYlubLurZTCmsjTb087OvtCy95jNM65cfEsbajrJnhaGwiTxhz38ZZbm+UhUwQuXfVPTg0AAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="AxoOxdZQmIoA1WeAPDixRAeWDdgs7ZtVFfH2y19ziTgD1iaHE5ZGz2UdSjubkWvob9C5PrjUfkWi4ZSLgWk3Xg8AAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A7+rMYR5onPnACrz+niKSeFdH3xw1IyHo2AZSHmxrofRk9w4HcQPMYcpBUKu6OQ6zsdxf4m/vqa6tG6Na4OLpAQAAAB4eyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/pubads_impl_2021041301.js.download" async=""></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/RCa16d232f95a944c0aabdea6621a2ef94-source.m.download" async=""></script><script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/thiss-ds" async=""></script><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
</style><link id="plx-css-summary" type="text/css" rel="stylesheet" href="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/summary.css"><script type="text/javascript" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/jquery.min.js.download"></script><script type="text/javascript" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/xss.js.download"></script><script type="text/javascript" async="" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/d6c1d995-bc7e-4e53-77f1-2ea4ecbb9565"></script><link type="text/css" rel="stylesheet" href="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/guide.css" id="_pendo-default-css_"><link type="text/css" rel="stylesheet" href="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/guide.-323232.1616767949739.css" id="_pendo-css_"><link type="text/css" rel="stylesheet" href="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/tmcHAYpl_7ZeveWvT0N29L0hasc.guide.css"><link type="text/css" rel="stylesheet" href="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/vZD7Al9KypVmeaY5iOEExxsbIQE.guide.css"><link type="text/css" rel="stylesheet" href="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/gWdxl_WwumlyVXomnz9WPwme5WA.guide.css"></head>
<body style=""><div id="MathJax_Message" style="display: none;"></div>
<noscript>
      JavaScript is disabled on your browser.
      Please enable JavaScript to use all the features on this page.
      <img src=https://smetrics.elsevier.com/b/ss/elsevier-sd-prod/1/G.4--NS/1618820246489?pageName=sd%3Aproduct%3Ajournal%3Aarticle&c16=els%3Arp%3Ast&c2=sd&v185=img&v33=ae%3AANON_GUEST&c1=ae%3A228598&c12=ae%3A12975512 />
    </noscript>
<a class="sr-only sr-only-focusable" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#screen-reader-main-content">Skip to main content</a>
<a class="sr-only sr-only-focusable" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#screen-reader-main-title">Skip to article</a>
<!--[if lt IE 9]>
      <div id="ie8Warning" class="warning">
        <script>function ie8click() {
  const node = document.getElementById('ie8Warning');
  document.cookie = 'ie_warning_state=1';
  node.parentNode.removeChild(node);
}</script>
        <p>Please note that Internet Explorer version 8.x is not supported as of January 1, 2016.
        Please refer to <a href="https://service.elsevier.com/app/answers/detail/a_id/9831">this support page</a> for more information.</p>
        <a class="warning-close" onclick="ie8click()" title="Close IE warning">&times;</a>
      </div>
    <![endif]-->
<div data-iso-key="_0"><div class="App" id="app" data-reactroot=""><div class="page"><section><div class="sd-flex-container"><div class="sd-flex-content"><header id="gh-cnt"><div id="gh-main-cnt" class="u-flex-center-ver u-position-relative u-padding-s-hor u-padding-m-hor-from-sm u-padding-l-hor-from-lg"><a id="gh-branding" class="u-flex-center-ver" href="https://www.sciencedirect.com/" aria-label="Science Direct home page" data-aa-region="header" data-aa-name="ScienceDirect"><img class="gh-logo" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/elsevier-non-solus-new-grey.svg" alt="Elsevier logo" height="48" width="54"><svg xmlns="http://www.w3.org/2000/svg" role="img" version="1.1" height="30" width="138" viewBox="0 0 138 30" class="gh-wordmark u-margin-s-left" fill="#f36d21" aria-labelledby="gh-wm-science-direct" focusable="false" aria-hidden="true" alt="ScienceDirect Wordmark"><title id="gh-wm-science-direct">ScienceDirect</title><g><path class="a" d="M4.23,21a9.79,9.79,0,0,1-4.06-.83l.29-2.08a7.17,7.17,0,0,0,3.72,1.09c2.13,0,3-1.22,3-2.39C7.22,13.85.3,13.43.3,9c0-2.37,1.56-4.29,5.2-4.29a9.12,9.12,0,0,1,3.77.75l-.1,2.08a7.58,7.58,0,0,0-3.67-1c-2.24,0-2.91,1.22-2.91,2.39,0,3,6.92,3.61,6.92,7.8C9.5,19.1,7.58,21,4.23,21Z"></path><path class="a" d="M20.66,20A6.83,6.83,0,0,1,16.76,21c-3,0-5.23-2.18-5.23-6.29,0-4.29,2.91-6.11,5.28-6.11,2.16,0,3.67.55,3.85,2.11,0,.23,0,.57,0,.86H18.81c0-1-.55-1.25-1.9-1.25a2.87,2.87,0,0,0-1.35.21c-.21.13-1.85.94-1.85,4.11s1.9,4.65,3.59,4.65a5.91,5.91,0,0,0,3.2-1.2Z"></path><path class="a" d="M23.75,6.9a1.45,1.45,0,0,1-1.3-1.46,1.32,1.32,0,1,1,2.63,0A1.5,1.5,0,0,1,23.75,6.9ZM22.76,9h2V20.74h-2Z"></path><path class="a" d="M29.55,14.6V15c0,2.81,1.38,4.34,3.85,4.34a6.37,6.37,0,0,0,3.69-1.22l.16,1.82A7.94,7.94,0,0,1,32.77,21c-3,0-5.3-2.29-5.3-6.16,0-4.06,2.21-6.24,5.25-6.24,3.61,0,4.73,1.87,4.73,6ZM35.63,13c-.08-2.29-1.09-2.7-3-2.7A3.78,3.78,0,0,0,31,10.7,3.7,3.7,0,0,0,29.76,13Z"></path><path class="a" d="M49.7,20.74h-2s.1-2.73.08-5.1c0,0,0-1.56,0-2.5-.05-1.79-.21-2.7-2-2.7a4.87,4.87,0,0,0-1.64.31,12.11,12.11,0,0,0-1.95,2.08v7.9h-2v-8.5a19.47,19.47,0,0,0-.1-2.34L39.95,9h1.85l.31,1.74a4.71,4.71,0,0,1,3.82-2.05c2.11,0,3.54.68,3.74,3.09.1,1.17.08,2.34.08,3.51C49.75,17.2,49.7,20.74,49.7,20.74Z"></path><path class="a" d="M61.5,20A6.83,6.83,0,0,1,57.6,21c-3,0-5.23-2.18-5.23-6.29,0-4.29,2.91-6.11,5.28-6.11,2.16,0,3.67.55,3.85,2.11,0,.23,0,.57,0,.86H59.66c0-1-.55-1.25-1.9-1.25a2.87,2.87,0,0,0-1.35.21c-.21.13-1.85.94-1.85,4.11s1.9,4.65,3.59,4.65a5.91,5.91,0,0,0,3.2-1.2Z"></path><path class="a" d="M64.75,14.6V15c0,2.81,1.38,4.34,3.85,4.34a6.37,6.37,0,0,0,3.69-1.22l.16,1.82A7.94,7.94,0,0,1,68,21c-3,0-5.3-2.29-5.3-6.16,0-4.06,2.21-6.24,5.25-6.24,3.61,0,4.73,1.87,4.73,6ZM70.84,13c-.08-2.29-1.09-2.7-3-2.7a3.78,3.78,0,0,0-1.56.36A3.7,3.7,0,0,0,65,13Z"></path><path class="a" d="M81.21,20.74H75.83V5h5.62c5.54,0,7.46,4.21,7.46,7.8C88.91,16.26,86.93,20.74,81.21,20.74Zm-.1-14H77.88V19.07h3c4,0,5.75-2.31,5.75-6.24C86.59,10.15,85.34,6.7,81.11,6.7Z"></path><path class="a" d="M92.86,6.9a1.45,1.45,0,0,1-1.3-1.46,1.32,1.32,0,1,1,2.63,0A1.5,1.5,0,0,1,92.86,6.9ZM91.87,9h2V20.74h-2Z"></path><path class="a" d="M104.48,10.83l-1.64.47c0-.18-.08-1-.83-1-1.14,0-2.08,1.9-2.5,2.91v7.49h-2V12.18a18.78,18.78,0,0,0-.1-2.29L97.3,9h1.85l.34,1.87a3.22,3.22,0,0,1,2.68-2.16,2,2,0,0,1,2.26,1.72c0,.18.05.29.05.31Z"></path><path class="a" d="M107.44,14.6V15c0,2.81,1.38,4.34,3.85,4.34A6.37,6.37,0,0,0,115,18.11l.16,1.82A7.94,7.94,0,0,1,110.67,21c-3,0-5.3-2.29-5.3-6.16,0-4.06,2.21-6.24,5.25-6.24,3.61,0,4.73,1.87,4.73,6ZM113.53,13c-.08-2.29-1.09-2.7-3-2.7a3.78,3.78,0,0,0-1.56.36A3.7,3.7,0,0,0,107.65,13Z"></path><path class="a" d="M126.24,20a6.83,6.83,0,0,1-3.9,1.09c-3,0-5.23-2.18-5.23-6.29,0-4.29,2.91-6.11,5.28-6.11,2.16,0,3.67.55,3.85,2.11,0,.23,0,.57,0,.86H124.4c0-1-.55-1.25-1.9-1.25a2.87,2.87,0,0,0-1.35.21c-.21.13-1.85.94-1.85,4.11s1.9,4.65,3.59,4.65a5.91,5.91,0,0,0,3.2-1.2Z"></path><path class="a" d="M134.51,20.45a7.36,7.36,0,0,1-2.7.62c-1.53,0-2.63-.86-2.63-2.94V10.52H127V9h2.13V5.81h2V9h3.09v1.56h-3.09v7c0,1.33.34,1.85,1.25,1.85a5.66,5.66,0,0,0,2-.55Z"></path></g></svg></a><div class="gh-nav-cnt u-hide-from-print"><div class="gh-nav-links-container gh-nav-links-container-h u-hide-from-print"><nav aria-label="links" class="gh-nav gh-nav-links gh-nav-h"><ul class="gh-nav-list u-list-reset"><li class="gh-nav-item gh-move-to-spine"><a class="anchor gh-nav-action" href="https://www.sciencedirect.com/browse/journals-and-books" data-aa-region="header" data-aa-name="Journals &amp; Books"><span class="anchor-text">Journals &amp; Books</span></a></li></ul></nav><nav aria-label="utilities" class="gh-nav gh-nav-utilities gh-nav-h"><ul class="gh-nav-list u-list-reset"><li class="gh-nav-item gh-search-toggle"><a class="anchor button-link-primary gh-nav-action gh-icon-btn" href="https://www.sciencedirect.com/search" data-aa-button="search-in-header-opened-from-article" aria-label="Opens ScienceDirect Search"><span class="anchor-text"></span><svg focusable="false" viewBox="0 0 100 128" aria-hidden="true" alt="Search" width="18.75" height="24" class="icon icon-search gh-icon"><path d="m19.22 76.91c-5.84-5.84-9.05-13.6-9.05-21.85s3.21-16.01 9.05-21.85c5.84-5.83 13.59-9.05 21.85-9.05 8.25 0 16.01 3.22 21.84 9.05 5.84 5.84 9.05 13.6 9.05 21.85s-3.21 16.01-9.05 21.85c-5.83 5.83-13.59 9.05-21.84 9.05-8.26 0-16.01-3.22-21.85-9.05zm80.33 29.6l-26.32-26.32c5.61-7.15 8.68-15.9 8.68-25.13 0-10.91-4.25-21.17-11.96-28.88-7.72-7.71-17.97-11.96-28.88-11.96s-21.17 4.25-28.88 11.96c-7.72 7.71-11.97 17.97-11.97 28.88s4.25 21.17 11.97 28.88c7.71 7.71 17.97 11.96 28.88 11.96 9.23 0 17.98-3.07 25.13-8.68l26.32 26.32 7.03-7.03"></path></svg></a></li><li class="gh-nav-item gh-move-to-spine gh-help-button"><a class="anchor gh-nav-action gh-icon-btn" href="https://service.elsevier.com/app/home/supporthub/sciencedirect/" target="_blank" rel="noopener noreferrer" aria-label="Science Direct help page opens in new window"><span class="anchor-text"></span><svg focusable="false" viewBox="0 0 114 128" aria-hidden="true" alt="ScienceDirect help page" width="21.375" height="24" class="icon icon-help gh-icon"><path d="m57 8c-14.7 0-28.5 5.72-38.9 16.1-10.38 10.4-16.1 24.22-16.1 38.9 0 30.32 24.68 55 55 55 14.68 0 28.5-5.72 38.88-16.1 10.4-10.4 16.12-24.2 16.12-38.9 0-30.32-24.68-55-55-55zm0 1e1c24.82 0 45 20.18 45 45 0 12.02-4.68 23.32-13.18 31.82s-19.8 13.18-31.82 13.18c-24.82 0-45-20.18-45-45 0-12.02 4.68-23.32 13.18-31.82s19.8-13.18 31.82-13.18zm-0.14 14c-11.55 0.26-16.86 8.43-16.86 18v2h1e1v-2c0-4.22 2.22-9.66 8-9.24 5.5 0.4 6.32 5.14 5.78 8.14-1.1 6.16-11.78 9.5-11.78 20.5v6.6h1e1v-5.56c0-8.16 11.22-11.52 12-21.7 0.74-9.86-5.56-16.52-16-16.74-0.39-0.01-0.76-0.01-1.14 0zm-4.86 5e1v1e1h1e1v-1e1h-1e1z"></path></svg></a></li></ul></nav></div></div><div class="gh-profile-container gh-move-to-spine u-hide-from-print"><a class="link-button u-margin-m-left link-button-secondary link-button-small" role="button" href="https://www.sciencedirect.com/user/register?targetURL=%2Fscience%2Farticle%2Fpii%2FS1532046419302588" id="gh-cta-btn" data-aa-region="header" data-aa-name="Register"><span class="link-button-text">Register</span></a><a class="link-button u-margin-m-left link-button-primary link-button-small" role="button" href="https://www.sciencedirect.com/user/login?targetURL=%2Fscience%2Farticle%2Fpii%2FS1532046419302588" id="gh-signin-btn" data-aa-region="header" data-aa-name="Sign in"><span class="link-button-text">Sign in</span></a></div><div id="gh-mobile-menu" class="mobile-menu u-hide-from-print"><div class="gh-hamburger u-fill-grey7 u-margin-m-left"><button class="button-link u-flex-center-ver button-link-primary" aria-label="Toggle mobile menu" aria-expanded="false" type="button"><svg class="gh-hamburger-svg-el gh-hamburger-closed" role="img" aria-hidden="true" height="18" width="40"><path d="M0 14h40v2H0zm0-7h40v2H0zm0-7h40v2H0z"></path></svg><span class="button-link-text"> </span></button></div><div id="gh-overlay" class="mobile-menu-overlay u-overlay u-display-none" role="button" tabindex="-1"></div><div id="gh-drawer" aria-label="Mobile menu" class="" role="navigation"><div id="gh-drawer-header" class="u-padding-s text-s"><div class="gh-dh-opt"><div class="gh-dh-actions"><a class="anchor" href="https://www.sciencedirect.com/user/login?targetURL=%2Fscience%2Farticle%2Fpii%2FS1532046419302588" id="gh-mob-signin" data-aa-region="header" data-aa-name="Sign in"><span class="anchor-text">Sign in</span></a><a class="anchor u-margin-m-left" href="https://www.sciencedirect.com/user/register?targetURL=%2Fscience%2Farticle%2Fpii%2FS1532046419302588" id="gh-mob-cta" data-aa-region="header" data-aa-name="Register"><span class="anchor-text">Register</span></a></div></div></div><div class="gh-nav-cnt u-hide-from-print"><div class="gh-nav-links-container u-hide-from-print"><nav aria-label="links" class="gh-nav gh-nav-links gh-nav-v"><ul class="gh-nav-list u-list-reset"><li class="gh-nav-item"><a class="anchor gh-nav-action" href="https://www.sciencedirect.com/browse/journals-and-books" data-aa-region="header" data-aa-name="Journals &amp; Books"><span class="anchor-text">Journals &amp; Books</span></a></li></ul></nav><nav aria-label="utilities" class="gh-nav gh-nav-utilities gh-nav-v"><ul class="gh-nav-list u-list-reset"><li class="gh-nav-item"><a class="anchor button-link-primary gh-nav-action" href="https://service.elsevier.com/app/home/supporthub/sciencedirect/" target="_blank" rel="noopener noreferrer"><span class="anchor-text">Help</span></a></li></ul></nav></div></div></div></div></div></header><div class="Article" id="mathjax-container"><div class="sticky-outer-wrapper active" style="height: 60px;"><div class="sticky-inner-wrapper " style="position: fixed; z-index: 2; transform: translate3d(0px, 0px, 0px); top: 0px; width: 1903px;"><span role="region" aria-label="download options and search"><div class="Toolbar" id="screen-reader-main-content"><div class="toolbar-container"><div class="u-show-from-lg col-lg-6">&nbsp;</div><div class="buttons text-s"><div class="popover PdfDownloadButton download-pdf-popover" id="download-pdf-popover"><div id="popover-trigger-download-pdf-popover"><button id="pdfLink" class="button button-anchor u-padding-0-left" role="button" aria-expanded="false" aria-haspopup="true" aria-label="Download PDF options" type="button"><svg focusable="false" viewBox="0 0 32 32" width="24" height="24" class="icon icon-pdf-multicolor pdf-icon"><path d="M7 .362h17.875l6.763 6.1V31.64H6.948V16z" stroke="#000" stroke-width=".703" fill="#fff"></path><path d="M.167 2.592H22.39V9.72H.166z" stroke="#aaa" stroke-width=".315" fill="#da0000"></path><path fill="#fff9f9" d="M5.97 3.638h1.62c1.053 0 1.483.677 1.488 1.564.008.96-.6 1.564-1.492 1.564h-.644v1.66h-.977V3.64m.977.897v1.34h.542c.27 0 .596-.068.596-.673-.002-.6-.32-.667-.596-.667h-.542m3.8.036v2.92h.35c.933 0 1.223-.448 1.228-1.462.008-1.06-.316-1.45-1.23-1.45h-.347m-.977-.94h1.03c1.68 0 2.523.586 2.534 2.39.01 1.688-.607 2.4-2.534 2.4h-1.03V3.64m4.305 0h2.63v.934h-1.657v.894H16.6V6.4h-1.56v2.026h-.97V3.638"></path><path d="M19.462 13.46c.348 4.274-6.59 16.72-8.508 15.792-1.82-.85 1.53-3.317 2.92-4.366-2.864.894-5.394 3.252-3.837 3.93 2.113.895 7.048-9.25 9.41-15.394zM14.32 24.874c4.767-1.526 14.735-2.974 15.152-1.407.824-3.157-13.72-.37-15.153 1.407zm5.28-5.043c2.31 3.237 9.816 7.498 9.788 3.82-.306 2.046-6.66-1.097-8.925-4.164-4.087-5.534-2.39-8.772-1.682-8.732.917.047 1.074 1.307.67 2.442-.173-1.406-.58-2.44-1.224-2.415-1.835.067-1.905 4.46 1.37 9.065z" fill="#f91d0a"></path></svg><span class="button-text"><span class="pdf-download-label u-show-inline-from-lg">Download PDF</span><span class="pdf-download-label-short u-hide-from-lg">Download</span></span></button></div></div></div><div class="quick-search-container pull-right pad-right u-show-inline-from-md"><form id="quick-search" class="QuickSearch u-margin-xs-right" action="https://www.sciencedirect.com/search#submit" method="get"><input type="search" class="query" aria-label="Search ScienceDirect" name="qs" placeholder="Search ScienceDirect"><button class="button button-primary" type="submit" aria-label="Submit search"><span class="button-text"><svg focusable="false" viewBox="0 0 100 128" height="20" width="18.75" class="icon icon-search"><path d="m19.22 76.91c-5.84-5.84-9.05-13.6-9.05-21.85s3.21-16.01 9.05-21.85c5.84-5.83 13.59-9.05 21.85-9.05 8.25 0 16.01 3.22 21.84 9.05 5.84 5.84 9.05 13.6 9.05 21.85s-3.21 16.01-9.05 21.85c-5.83 5.83-13.59 9.05-21.84 9.05-8.26 0-16.01-3.22-21.85-9.05zm80.33 29.6l-26.32-26.32c5.61-7.15 8.68-15.9 8.68-25.13 0-10.91-4.25-21.17-11.96-28.88-7.72-7.71-17.97-11.96-28.88-11.96s-21.17 4.25-28.88 11.96c-7.72 7.71-11.97 17.97-11.97 28.88s4.25 21.17 11.97 28.88c7.71 7.71 17.97 11.96 28.88 11.96 9.23 0 17.98-3.07 25.13-8.68l26.32 26.32 7.03-7.03"></path></svg></span></button><input type="hidden" name="origin" value="article"><input type="hidden" name="zone" value="qSearch"></form></div></div></div></span></div></div><div class="article-wrapper u-padding-s-top grid row"><div class="u-show-from-lg col-lg-6"><div class="TableOfContents u-margin-l-bottom" lang="en"><div class="Outline" id="toc-outline"><h2 class="u-h4">Outline</h2><ol class="u-padding-xs-bottom"><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#ab010" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="Highlights">Highlights</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#ab015" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="Abstract">Abstract</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#ab005" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="Graphical abstract">Graphical abstract</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#kg005" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="Keywords">Keywords</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#s0005" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="1. Objective">1. Objective</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#s0010" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="2. Background and significance">2. Background and significance</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#s0015" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="3. Materials and methods">3. Materials and methods</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#s0040" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="4. Results">4. Results</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#s0045" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="5. Discussion">5. Discussion</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#s0050" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="6. Conclusion">6. Conclusion</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#coi005" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="Declaration of Competing Interest">Declaration of Competing Interest</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#s0055" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="Acknowledgements">Acknowledgements</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#s0060" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="Funding">Funding</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#s0070" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="Appendix A. Supplementary material">Appendix A. Supplementary material</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bi005" data-aa-button="sd:product:journal:article:type=anchor:name=outlinelink" title="References">References</a></li></ol><button class="button button-anchor" aria-expanded="false" data-aa-button="sd:product:journal:article:type=menu:name=show-full-outline" type="button"><span class="button-text">Show full outline</span><svg focusable="false" viewBox="0 0 92 128" height="20" width="17.25" class="icon icon-navigate-down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button><div class="PageDivider"></div></div><div class="Figures" id="toc-figures"><h2 class="u-h4">Figures (3)</h2><ol><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#f0015" data-aa-button="sd:product:journal:article:type=anchor:name=figure"><div><img alt="Unlabelled figure" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/1-s2.0-S1532046419302588-ga1.sml" style="max-width: 219px; max-height: 156px;"></div></a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#f0005" data-aa-button="sd:product:journal:article:type=anchor:name=figure"><div><img alt="Fig. 1. Shows the detail of one of the archetypes used, expressed in Archetype…" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/1-s2.0-S1532046419302588-gr1.sml" style="max-width: 179px; max-height: 163px;"></div></a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#f0010" data-aa-button="sd:product:journal:article:type=anchor:name=figure"><div><img alt="Fig. 2. Shows the detail of one of the EHR extracts used" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/1-s2.0-S1532046419302588-gr2.sml" style="max-width: 219px; max-height: 116px;"></div></a></li></ol><div class="PageDivider"></div></div><div class="Tables" id="toc-tables"><h2 class="u-h4">Tables (4)</h2><ol class="u-padding-s-bottom"><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#t0010" data-aa-button="sd:product:journal:article:type=anchor:name=table"><svg focusable="false" viewBox="0 0 98 128" width="18.375" height="24" class="icon icon-table"><path d="m54 68h32v32h-32v-32zm-42 0h32v32h-32v-32zm0-42h32v32h-32v-32zm42 0h32v32h-32v-32zm-52 84h94v-94h-94v94z"></path></svg>Table</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#t0005" data-aa-button="sd:product:journal:article:type=anchor:name=table" title="Thirteen queries illustrating the most important implemented features, and their response time in seconds."><svg focusable="false" viewBox="0 0 98 128" width="18.375" height="24" class="icon icon-table"><path d="m54 68h32v32h-32v-32zm-42 0h32v32h-32v-32zm0-42h32v32h-32v-32zm42 0h32v32h-32v-32zm-52 84h94v-94h-94v94z"></path></svg>Table 1</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#t0015" data-aa-button="sd:product:journal:article:type=anchor:name=table"><svg focusable="false" viewBox="0 0 98 128" width="18.375" height="24" class="icon icon-table"><path d="m54 68h32v32h-32v-32zm-42 0h32v32h-32v-32zm0-42h32v32h-32v-32zm42 0h32v32h-32v-32zm-52 84h94v-94h-94v94z"></path></svg>Table</a></li><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#t0020" data-aa-button="sd:product:journal:article:type=anchor:name=table"><svg focusable="false" viewBox="0 0 98 128" width="18.375" height="24" class="icon icon-table"><path d="m54 68h32v32h-32v-32zm-42 0h32v32h-32v-32zm0-42h32v32h-32v-32zm42 0h32v32h-32v-32zm-52 84h94v-94h-94v94z"></path></svg>Table</a></li></ol><div class="PageDivider"></div></div><div class="Extras" id="toc-extras"><h2 class="u-h4">Extras (1)</h2><ol class="u-padding-s-bottom"><li><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#m0005" data-aa-button="sd:product:journal:article:type=anchor:region=outline:name=sdf" title="Supplementary Data 1"><svg focusable="false" viewBox="0 0 94 128" width="17.625" height="24" class="icon icon-text-document"><path d="m35.6 1e1c-5.38 0-10.62 1.92-14.76 5.4-9.1 7.68-18.84 20.14-18.84 32.1v70.5h9e1v-15.99-2.01-4e1 -17.64-32.36h-56.4zm0 1e1h46.4v22.36 17.64 4e1 2.01 5.99h-7e1v-49c0-6.08 4.92-11 11-11h17v-2e1h-6c-2.2 0-4 1.8-4 4v6h-7c-3.32 0-6.44 0.78-9.22 2.16 2.46-5.62 7.28-11.86 13.5-17.1 2.34-1.98 5.3-3.06 8.32-3.06zm-13.6 38v1e1h5e1v-1e1h-5e1zm0 2e1v1e1h5e1v-1e1h-5e1z"></path></svg>Supplementary Data 1</a></li></ol><div class="PageDivider"></div></div></div></div><article class="col-lg-12 col-md-16 pad-left pad-right" role="main" lang="en"><div class="Publication" id="publication"><div class="publication-brand u-show-from-sm"><a href="https://www.sciencedirect.com/science/journal/15320464"><img class="publication-brand-image" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/elsevier-non-solus.png" alt="Elsevier"></a></div><div class="publication-volume u-text-center"><h2 class="publication-title u-h3" id="publication-title"><a class="publication-title-link" title="Go to Journal of Biomedical Informatics on ScienceDirect" href="https://www.sciencedirect.com/science/journal/15320464">Journal of Biomedical Informatics</a></h2><div class="text-xs"><a title="Go to table of contents for this volume/issue" href="https://www.sciencedirect.com/science/journal/15320464/101/supp/C">Volume 101</a>, <!-- -->January 2020<!-- -->, 103339</div></div><div class="publication-cover u-show-from-sm"><a href="https://www.sciencedirect.com/science/journal/15320464/101/supp/C"><img class="publication-cover-image" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/1-s2.0-S1532046419X0012X-cov150h.gif" alt="Journal of Biomedical Informatics"></a></div></div><h1 id="screen-reader-main-title" class="Head u-font-serif u-h2 u-margin-s-ver"><span class="title-text">An Archetype Query Language interpreter into MongoDB: Managing NoSQL standardized Electronic Health Record extracts systems</span></h1><div class="Banner" id="banner"><div class="wrapper truncated"><div class="AuthorGroups text-xs"><div class="author-group" id="author-group"><span class="sr-only">Author links open overlay panel</span><a class="author size-m workspace-trigger" name="bau005" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#!"><span class="content"><span class="text given-name">Miguel</span><span class="text surname">Ramos</span><span class="author-ref" id="baf005"><sup>a</sup></span></span></a><a class="author size-m workspace-trigger" name="bau010" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#!"><span class="content"><span class="text given-name">Ricardo</span><span class="text surname">Sánchez-de-Madariaga</span><span class="author-ref" id="baf010"><sup>b</sup></span><svg focusable="false" viewBox="0 0 106 128" width="19.875" height="24" class="icon icon-person"><path d="m11.07 1.2e2l0.84-9.29c1.97-18.79 23.34-22.93 41.09-22.93 17.74 0 39.11 4.13 41.08 22.84l0.84 9.38h10.04l-0.93-10.34c-2.15-20.43-20.14-31.66-51.03-31.66s-48.89 11.22-51.05 31.73l-0.91 10.27h10.03m41.93-102.29c-9.72 0-18.24 8.69-18.24 18.59 0 13.67 7.84 23.98 18.24 23.98s18.24-10.31 18.24-23.98c0-9.9-8.52-18.59-18.24-18.59zm0 52.29c-15.96 0-28-14.48-28-33.67 0-15.36 12.82-28.33 28-28.33s28 12.97 28 28.33c0 19.19-12.04 33.67-28 33.67"></path></svg><svg focusable="false" viewBox="0 0 102 128" width="19.125" height="24" class="icon icon-envelope"><path d="m55.8 57.2c-1.78 1.31-5.14 1.31-6.9 0l-31.32-23.2h69.54l-31.32 23.19zm-55.8-24.78l42.94 32.62c2.64 1.95 6.02 2.93 9.4 2.93s6.78-0.98 9.42-2.93l40.24-30.7v-10.34h-102zm92 56.48l-18.06-22.74-8.04 5.95 17.38 21.89h-64.54l18.38-23.12-8.04-5.96-19.08 24.02v-37.58l-1e1 -8.46v61.1h102v-59.18l-1e1 8.46v35.62"></path></svg></span></a><a class="author size-m workspace-trigger" name="bau015" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#!"><span class="content"><span class="text given-name">Jesús</span><span class="text surname">Barros</span><span class="author-ref" id="baf005"><sup>a</sup></span></span></a><a class="author size-m workspace-trigger" name="bau020" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#!"><span class="content"><span class="text given-name">Lino</span><span class="text surname">Carrajo</span><span class="author-ref" id="baf005"><sup>a</sup></span></span></a><a class="author size-m workspace-trigger" name="bau025" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#!"><span class="content"><span class="text given-name">Guillermo</span><span class="text surname">Vázquez</span><span class="author-ref" id="baf005"><sup>a</sup></span></span></a><a class="author size-m workspace-trigger" name="bau030" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#!"><span class="content"><span class="text given-name">Santiago</span><span class="text surname">Pérez</span><span class="author-ref" id="baf010"><sup>b</sup></span></span></a><a class="author size-m workspace-trigger" name="bau035" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#!"><span class="content"><span class="text given-name">Mario</span><span class="text surname">Pascual</span><span class="author-ref" id="baf010"><sup>b</sup></span></span></a><a class="author size-m workspace-trigger" name="bau040" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#!"><span class="content"><span class="text given-name">Fernando</span><span class="text surname">Martín-Sánchez</span><span class="author-ref" id="baf010"><sup>b</sup></span></span></a><a class="author size-m workspace-trigger" name="bau045" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#!"><span class="content"><span class="text given-name">Adolfo</span><span class="text surname">Muñoz-Carrero</span><span class="author-ref" id="baf010"><sup>b</sup></span></span></a></div></div></div><button id="show-more-btn" class="button show-hide-details button-primary" type="button" data-aa-button="icon-expand"><span class="button-text">Show more</span><svg focusable="false" viewBox="0 0 92 128" height="20" width="17.25" class="icon icon-navigate-down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button><div class="banner-options u-padding-xs-bottom"><button class="button toc-button button-anchor u-hide-from-lg u-margin-s-right" type="button"><svg focusable="false" viewBox="0 0 104 128" width="19.5" height="24" class="icon icon-list"><path d="m2e1 95a9 9 0 0 1 -9 9 9 9 0 0 1 -9 -9 9 9 0 0 1 9 -9 9 9 0 0 1 9 9zm0-3e1a9 9 0 0 1 -9 9 9 9 0 0 1 -9 -9 9 9 0 0 1 9 -9 9 9 0 0 1 9 9zm0-3e1a9 9 0 0 1 -9 9 9 9 0 0 1 -9 -9 9 9 0 0 1 9 -9 9 9 0 0 1 9 9zm14 55h68v1e1h-68zm0-3e1h68v1e1h-68zm0-3e1h68v1e1h-68z"></path></svg><span class="button-text"><span>Outline</span></span></button><button class="button-link AddToMendeley button show-on-desktop button-link-primary" type="button"><svg focusable="false" viewBox="0 0 86 128" height="16" width="16" class="icon icon-plus"><path d="m48 58v-38h-1e1v38h-38v1e1h38v38h1e1v-38h38v-1e1z"></path></svg><span class="button-link-text">Add to Mendeley</span></button><div class="Social u-display-inline-block" id="social"><div class="popover social-popover" id="social-popover" aria-label="Share article on social media"><div id="popover-trigger-social-popover"><button class="button button-anchor" role="button" aria-expanded="false" aria-haspopup="true" type="button"><svg focusable="false" viewBox="0 0 128 128" height="16" width="16" class="icon icon-share"><path d="m9e1 112c-6.62 0-12-5.38-12-12s5.38-12 12-12 12 5.38 12 12-5.38 12-12 12zm-66-36c-6.62 0-12-5.38-12-12s5.38-12 12-12 12 5.38 12 12-5.38 12-12 12zm66-6e1c6.62 0 12 5.38 12 12s-5.38 12-12 12-12-5.38-12-12 5.38-12 12-12zm0 62c-6.56 0-12.44 2.9-16.48 7.48l-28.42-15.28c0.58-1.98 0.9-4.04 0.9-6.2s-0.32-4.22-0.9-6.2l28.42-15.28c4.04 4.58 9.92 7.48 16.48 7.48 12.14 0 22-9.86 22-22s-9.86-22-22-22-22 9.86-22 22c0 1.98 0.28 3.9 0.78 5.72l-28.64 15.38c-4.02-4.34-9.76-7.1-16.14-7.1-12.14 0-22 9.86-22 22s9.86 22 22 22c6.38 0 12.12-2.76 16.14-7.12l28.64 15.38c-0.5 1.84-0.78 3.76-0.78 5.74 0 12.14 9.86 22 22 22s22-9.86 22-22-9.86-22-22-22z"></path></svg><span class="button-text">Share</span></button></div></div></div><div class="ExportCitation u-display-inline-block" id="export-citation"><div class="popover export-citation-popover" id="export-citation-popover" aria-label="Export or save citation"><div id="popover-trigger-export-citation-popover"><button class="button button-anchor" role="button" aria-expanded="false" aria-haspopup="true" type="button"><svg focusable="false" viewBox="0 0 106 128" height="16" width="16" class="icon icon-cited-by-66"><path xmlns="http://www.w3.org/2000/svg" d="m2 58.78v47.22h44v-42h-34v-5.22c0-18.5 17.08-26.78 34-26.78v-1e1c-25.9 0-44 15.12-44 36.78zm1e2 -26.78v-1e1c-25.9 0-44 15.12-44 36.78v47.22h44v-42h-34v-5.22c0-18.5 17.08-26.78 34-26.78z"></path></svg><span class="button-text">Cite</span></button></div></div></div></div></div><div class="DoiLink" id="doi-link"><a class="doi" href="https://doi.org/10.1016/j.jbi.2019.103339" target="_blank" rel="noreferrer noopener" aria-label="Persistent link using digital object identifier" title="Persistent link using digital object identifier">https://doi.org/10.1016/j.jbi.2019.103339</a><a class="rights-and-content" target="_blank" rel="noreferrer noopener" href="https://s100.copyright.com/AppDispatchServlet?publisherName=ELS&amp;contentID=S1532046419302588&amp;orderBeanReset=true">Get rights and content</a></div><div class="LicenseInfo"><div class="License"><span>Under an Elsevier </span><a target="_blank" rel="noreferrer noopener" href="https://www.elsevier.com/open-access/userlicense/1.0/">user license</a></div><div class="OpenAccessLabel">open archive</div></div><section class="ReferencedArticles"></section><section class="ReferencedArticles"></section><div class="PageDivider"></div><div class="Abstracts u-font-serif" id="abstracts"><div class="abstract author-highlights" id="ab010" lang="en"><h2 class="section-title u-h3 u-margin-l-top u-margin-xs-bottom">Highlights</h2><div id="as010"><p id="sp0010"><dl class="list"><dt class="list-label">•</dt><dd class="list-description"><p id="p0005">Archetype Query Language queries can be translated to the MongoDB query language.</p></dd><dt class="list-label">•</dt><dd class="list-description"><p id="p0010">Archetype Query Language and MongoDB query language use the same XPath-like syntax.</p></dd><dt class="list-label">•</dt><dd class="list-description"><p id="p0015">Archetype Query Language has a strong synergy with MongoDB query language.</p></dd><dt class="list-label">•</dt><dd class="list-description"><p id="p0020">An Archetype Query Language interpreter into MongoDB can be very efficient.</p></dd><dt class="list-label">•</dt><dd class="list-description"><p id="p0025">Archetype Query Language can surpass SQL in querying normalized medical information.</p></dd></dl></p></div></div><div class="abstract author" id="ab015" lang="en"><h2 class="section-title u-h3 u-margin-l-top u-margin-xs-bottom">Abstract</h2><div id="as015"><p id="sp0015">The fast development of today’s healthcare and the need to extract new medical knowledge from exponentially-growing volumes of standardized Electronic Health Records data, as required by studies in Precision Medicine, brings up a challenge that may probably only be addressed using NoSQL DBMSs, due to the non-optimal performance of traditional relational DBMSs on standardized data; and these database systems operated by semantic archetype-based query languages, because of the expected generalized extension of standardized EHR systems. An AQL into MongoDB interpreter has been developed to its first version. It translates system-independent AQL queries posed on ISO/EN 13606 standardized EHR extracts into the NoSQL MongoDB query language. The new interpreter has the advantages of both the archetype-based system-independent AQL queries and the dual-model-based standardized EHR extracts stored on document-centric NoSQL DBMSs, such as MongoDB. AQL queries are independent of applications, programming languages and system environments due to the use of the dual model, but EHR extracts featuring this model are best persisted on document-based NoSQL databases. Consequently, the interpreter allows us to query standardized EHR extracts semantically, and also affording optimal performance.</p></div></div><div class="abstract graphical" id="ab005" lang="en"><h2 class="section-title u-h3 u-margin-l-top u-margin-xs-bottom">Graphical abstract</h2><div id="as005"><p id="sp0005"><span class="display"><figure class="figure text-xs" id="f0015"><span><img src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/1-s2.0-S1532046419302588-ga1.jpg" height="200" alt=""><ol class="links-for-figure"><li><a class="anchor download-link u-font-sans" href="https://ars.els-cdn.com/content/image/1-s2.0-S1532046419302588-ga1_lrg.jpg" target="_blank" download="" title="Download high-res image (76KB)"><span class="anchor-text">Download : <span class="download-link-title">Download high-res image (76KB)</span></span></a></li><li><a class="anchor download-link u-font-sans" href="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/1-s2.0-S1532046419302588-ga1.jpg" target="_blank" download="" title="Download full-size image"><span class="anchor-text">Download : <span class="download-link-title">Download full-size image</span></span></a></li></ol></span></figure></span></p></div></div></div><ul id="issue-navigation" class="issue-navigation u-margin-s-bottom u-bg-grey1"><li class="previous move-left u-padding-s-ver u-padding-s-left"><a class="button-alternative button-alternative-tertiary" href="https://www.sciencedirect.com/science/article/pii/S153204641930259X"><svg focusable="false" viewBox="0 0 54 128" width="32" height="32" class="icon icon-navigate-left"><path d="m1 61l45-45 7 7-38 38 38 38-7 7z"></path></svg><span class="button-alternative-text"><strong>Previous </strong><span class="extra-detail-1">article</span><span class="extra-detail-2"> in issue</span></span></a></li><li class="next move-right u-padding-s-ver u-padding-s-right"><a class="button-alternative button-alternative-tertiary" href="https://www.sciencedirect.com/science/article/pii/S1532046419302576"><span class="button-alternative-text"><strong>Next </strong><span class="extra-detail-1">article</span><span class="extra-detail-2"> in issue</span></span><svg focusable="false" viewBox="0 0 54 128" width="32" height="32" class="icon icon-navigate-right"><path d="m1 99l38-38-38-38 7-7 45 45-45 45z"></path></svg></a></li></ul><div class="Keywords u-font-serif"><div id="kg005" class="keywords-section"><h2 class="section-title u-h3 u-margin-l-top u-margin-xs-bottom">Keywords</h2><div id="k0005" class="keyword"><span>Information storage and retrieval</span></div><div id="k0010" class="keyword"><span>Health information interoperability</span></div><div id="k0015" class="keyword"><span>Databases</span></div><div id="k0020" class="keyword"><span>Management information systems</span></div><div id="k0025" class="keyword"><span>Medical record systems</span></div><div id="k0030" class="keyword"><span>Electronic Health Records</span></div></div></div><div class="Body u-font-serif" id="body"><div><section id="s0005"><h2 id="st025" class="u-h3 u-margin-l-top u-margin-xs-bottom">1. Objective</h2><p id="p0030">An Archetype Query Language (AQL) interpreter into MongoDB DBMSs has been constructed. It translates queries written in standard AQL <a name="bb0005" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0005" class="workspace-trigger">[1]</a>, into the MongoDB <a name="bb0010" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0010" class="workspace-trigger">[2]</a> query language. This permits us to perform appropriate queries on standardized interoperable Electronic Health Record (EHR) systems <a name="bb0015" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0015" class="workspace-trigger">[3]</a>. We have created and tested it on our standardized ISO/EN 13606 EHR management system. This system is based on archetypes <a name="bb0020" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0020" class="workspace-trigger">[4]</a>, but implemented on document-based NoSQL persistence <a name="bb0025" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0025" class="workspace-trigger">[5]</a>, thus maintaining both the advantages of semantic-level querying systems, and implemented on optimal persistence. This is due to the non-optimal response times yielded by traditional relational DBMSs on standardized EHR data.</p><p id="p0035">The document-based persistence methodology represented by the MongoDB DBMS is most appropriate for the implementation of the queries formulated in AQL, since this language uses the path-like syntax to refer to elements specified in archetypes and in EHR extracts documents <a name="bb0005" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0005" class="workspace-trigger">[1]</a>. Indeed this syntax is very similar to that used by the MongoDB DBMS, as a document-based NoSQL system <a name="bb0010" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0010" class="workspace-trigger">[2]</a>. As a result both methodologies may be considered document-centric, thereby reinforcing each other.</p><p id="p0040">This strong synergy allows us to query EHR systems semantically, making use of the semantic power of archetypes, without losing the rapid response times afforded by having an appropriate persistence system preserving the document-centric nature of interoperable standardized EHR management systems <a name="bb0030" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0030" class="workspace-trigger">[6]</a>.</p></section><section id="s0010"><h2 id="st030" class="u-h3 u-margin-l-top u-margin-xs-bottom">2. Background and significance</h2><p id="p0045">The fast development of Precision Medicine studies, enabled by the generalization of standardized EHR management systems, and the exponential growth in volume of standardized medical data repositories from diverse sources and environments, cannot probably be addressed using only standard relational database systems <a name="bb0035" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0035" class="workspace-trigger">[7]</a>, <a name="bb0040" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0040" class="workspace-trigger">[8]</a>, <a name="bb0045" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0045" class="workspace-trigger">[9]</a>, <a name="bb0050" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0050" class="workspace-trigger">[10]</a>, nor system-dependent non-semantic query languages.</p><p id="p0050">Electronic Health Record systems are computer-based systems that store and manage patient-centered medical information used by hospitals, primary health centers and medical research organizations. However, in order to communicate this information (EHR documents) between organizations, and make it understandable between systems, it must be semantically interoperable. International standardization organizations such as ISO <a name="bb0055" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0055" class="workspace-trigger">[11]</a>, CEN <a name="bb0060" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0060" class="workspace-trigger">[12]</a>, HL7 <a name="bb0065" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0065" class="workspace-trigger">[13]</a>, openEHR <a name="bb0070" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0070" class="workspace-trigger">[14]</a>, or the CIMI initiative <a name="bb0075" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0075" class="workspace-trigger">[15]</a>, have developed several standards aimed at achieving semantic interoperability between EHR systems. While EHR systems are an unavoidable part of present-day medical attention, semantic interoperability between such systems is not yet an everyday reality in hospitals and primary health centers. World-wide efforts such as those represented by these standards are presently being carried out in order to make this possible.</p><p id="p0055">Some of these normalization standards, for instance ISO/EN 13606 <a name="bb0080" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0080" class="workspace-trigger">[16]</a>, <a name="bb0085" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0085" class="workspace-trigger">[17]</a>, use the so called dual model <a name="bb0090" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0090" class="workspace-trigger">[18]</a> to achieve this. The dual model separates an information level, known as the Reference Model (RM) <a name="bb0080" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0080" class="workspace-trigger">[16]</a>, from a knowledge level represented by archetypes <a name="bb0020" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0020" class="workspace-trigger">[4]</a>, <a name="bb0085" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0085" class="workspace-trigger">[17]</a>, or special data structures holding medical knowledge. This separation guarantees not only semantic interoperability between systems, but also EHR system maintenance and sustainability over time <a name="bb0090" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0090" class="workspace-trigger">[18]</a>.</p><p id="p0060">Querying interoperable standardized EHR systems by healthcare professionals is an everyday task performed during medical practice and attention. Medical researchers also use these systems to discover new valuable medical knowledge.</p><p id="p0065">Archetype Query Language (AQL) <a name="bb0005" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0005" class="workspace-trigger">[1]</a>, is a specialized query language to consult dual-model-based standardized EHR systems, developed by openEHR <a name="bb0070" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0070" class="workspace-trigger">[14]</a>. AQL is a declarative language independent of applications, programming languages, system environment and storage models. This is because AQL expresses the queries at the archetype level used by the standard, i.e. at the semantic level, not at the data instance level, unlike other query languages such as SQL <a name="bb0095" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0095" class="workspace-trigger">[19]</a>, or XQuery <a name="bb0100" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0100" class="workspace-trigger">[20]</a>.</p><p id="p0070">As a consequence, it may be interpreted by any standardized EHR system implementing the dual model, such as for instance the ISO/EN 13606 standard, as is the case of the system described in this paper.</p><p id="p0075">Dual model-based systems have special storage structure, and this conditions their persistence methodology. The use of two levels of abstraction including archetypes penalizes traditional relational database systems and favors using NoSQL database systems. Specifically, it implies utilizing a document-centric NoSQL persistence methodology such as, for instance, the document-based MongoDB DBMS <a name="bb0030" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0030" class="workspace-trigger">[6]</a>.</p><p id="p0080">The reasons for this are algorithmic, i.e. not technological: a relational database implementing the persistence of a dual-model-based standardized EHR system holds a high number of relational tables. As a consequence, when queried, it performs too many costly join operations, affording worse performance <a name="bb0105" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0105" class="workspace-trigger">[21]</a>.</p><p id="p0085">Even though NoSQL systems do not provide the complete set of ACID properties <a name="bb0110" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0110" class="workspace-trigger">[22]</a> as do relational systems, this is not a strict requirement for storing standardized EHR extracts, due to the special storage policies used with medical information <a name="bb0030" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0030" class="workspace-trigger">[6]</a>: when a piece of information changes in a standardized EHR extract, it is not updated; rather, a new extract holding the new information is created and stored in the database, and the old EHR document is preserved. The reasons for this are legal: some medical professional might have taken an important decision based on the old piece of data.</p><p id="p0090">This work represents an effort to leverage the AQL language as a standard document query language for healthcare data. Since MongoDB does not currently support SQL, we think our work presents an opportunity for MongoDB to adopt our methods.</p><p id="p0095">Similar to relational algebra deriving ANSI SQL, AQL can be considered to derive a version of ANSI SQL tailored for document stores such as MongoDB. Although currently many other document stores such as Couchbase and OrientDB support SQL, they do not support the dual-model based semantic features in AQL. This is because they do not use the path-like syntax featured both in the dual model archetypes and in MongoDB.</p><p id="p0100">The fact that MongoDB uses the same syntax as dual model archetypes and AQL can be used to formalize a derivation of a version of ANSI SQL tailored for document NoSQL stores in the same way as relational algebra is used to derive standard ANSI SQL. AQL and the MongoDB query language have specific document-oriented operations, such as document selections and projections, which can be used to formalize the document-based version of ANSI SQL in the same way as relational operations (selections, projections and joins) in relational algebra are used to derive and formalize standard ANSI SQL. Therefore, AQL and MongoDB may still have a competitive advantage over other NoSQL products such as Couchbase and OrientDB.</p></section><section id="s0015"><h2 id="st035" class="u-h3 u-margin-l-top u-margin-xs-bottom">3. Materials and methods</h2><p id="p0105">The description in the remainder of this paper is based on our ISO/EN 13606 repository: an EHR management system based on the ISO/EN 13606 standard. It is implemented on both traditional relational (MySQL) and NoSQL (MongoDB) persistence. In this paper, we use the NoSQL persistence subpart, in order to discuss the AQL into MongoDB interpreter.</p><section id="s0020"><h3 id="st040" class="u-h4 u-margin-m-top u-margin-xs-bottom">3.1. Basic AQL structure</h3><p id="p0110">The outer structure of AQL resembles that of SQL in that both languages have five clauses: <em>SELECT</em>, <em>FROM</em>, <em>WHERE</em>, <em>ORDER BY</em> and <em>TIMEWINDOW</em>. The <em>SELECT</em> clause specifies which data will be returned. The <em>FROM</em> clause indicates the result source meeting containment criteria. The <em>WHERE</em> clause specifies data value criteria within the result source. The <em>ORDER BY</em> clause indicates the data in the result set used to order the output. The <em>TIMEWINDOW</em> clause is used to constrain the query to data available in the system within the specified time criteria.</p><p id="p0115">Consider the following example of an AQL statement:<span class="display"><div class="tables colsep-0 frame-topbot rowsep-0" id="t0010"><div class="groups"><table><tbody><tr class="valign-top"><td class="align-left">&nbsp;<span class="monospace">SELECT c/content/items/parts[at0000]/parts[at0001]/value/originalText/value</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="monospace">AS Problem,</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;<span class="monospace">e/subjectOfCare/extension</span>&nbsp;&nbsp;<span class="monospace">AS Patient</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">FROM</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;<span class="monospace">EHR e</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;<span class="monospace">CONTAINS Composition c [CEN-EN13606 COMPOSITION.HCR_Fuenlabrada.v1]</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">WHERE</span>&nbsp;<span class="monospace">e/subjectOfCare/extension = '0000000147′;</span></td></tr></tbody></table></div></div></span>This statement sends back the list of all problems affecting a patient, and the patient identifier, from a database of EHR extracts containing the archetype stated in brackets in the CONTAINS part of the <em>FROM</em> clause. The patient id corresponding to the specific patient to be queried is indicated in the <em>WHERE</em> clause.</p></section><section id="s0025"><h3 id="st045" class="u-h4 u-margin-m-top u-margin-xs-bottom">3.2. AQL main features</h3><p id="p0120">AQL has the standard features of a querying programming language (such as SQL), including variables and operators (=, &lt;, &lt;=, &gt;, &gt;=, !=) to form predicates, or advanced operators (MATCHES, EXISTS, NOT, AND, OR). Primitive data types include String, Integer, Real, Boolean, Dates and Times. Other built-in types include URI’s, Value Lists and Value Ranges.</p><div><p id="p0125">As shown in the example statement of the previous subsection, AQL uses openEHR path syntax (a kind of XPath-like syntax) <a name="bb0115" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0115" class="workspace-trigger">[23]</a>, to refer to specific nodes or data values within the archetypes – archetypes are in fact special types of trees, as are XML files or EHR extracts <a name="bb0120" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0120" class="workspace-trigger">[24]</a>, see <a name="bf0005" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#f0005" class="workspace-trigger">Fig. 1</a>. In this figure, the last part of the path to the <em>Problem</em> in the <em>SELECT</em> clause may be seen in the visualized archetype as the <em>Description</em> ELEMENT (the visualized archetype is slotted in the <em>CEN-EN13606 COMPOSITION.HCR_Fuenlabrada.v1 archetype</em>).</p><figure class="figure text-xs" id="f0005"><span><img src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/1-s2.0-S1532046419302588-gr1.jpg" height="630" alt="" aria-describedby="cn0005"><ol class="links-for-figure"><li><a class="anchor download-link u-font-sans" href="https://ars.els-cdn.com/content/image/1-s2.0-S1532046419302588-gr1_lrg.jpg" target="_blank" download="" title="Download high-res image (602KB)"><span class="anchor-text">Download : <span class="download-link-title">Download high-res image (602KB)</span></span></a></li><li><a class="anchor download-link u-font-sans" href="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/1-s2.0-S1532046419302588-gr1.jpg" target="_blank" download="" title="Download full-size image"><span class="anchor-text">Download : <span class="download-link-title">Download full-size image</span></span></a></li></ol></span><span class="captions"><span id="cn0005"><p id="sp0020"><span class="label">Fig. 1</span>. Shows the detail of one of the archetypes used, expressed in Archetype Definition Language (ADL) <a name="bb0125" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0125" class="workspace-trigger">[25]</a>. The tree structure of the archetype entails the use of the X-Path-like syntax in the EHR extracts, as does the syntax of AQL.</p></span></span></figure></div><p id="p0130">The special codes between brackets in openEHR paths starting “at” (see <a name="bf0005" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#f0005" class="workspace-trigger">Fig. 1</a>) represent node identifiers defined in the ontology section of the archetype and may refer to general or leaf containers in the tree structure of the archetype.</p><p id="p0135">The tree structures of EHR extracts follow the same structure of the archetypes that constrain them, including fields that contain the <em>at</em> codes identifiers. AQL variables stand for nodes in these structures that refer to specific points in the archetype Xpaths.</p><div><p id="p0140"><a name="bf0010" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#f0010" class="workspace-trigger">Fig. 2</a> shows an example of a piece of an EHR extract. As it may be seen, the extract follows the same structure as the archetype in <a name="bf0005" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#f0005" class="workspace-trigger">Fig. 1</a>. This means that they use the same paths to refer to specific elements in the EHR extract. Notice that this is a kind of discrete or very structured data and consequently a very deep structure of nested relational tables is needed to represent it in a relational database. As a result, it is very inefficient to access to specific leaf data in the tree structure of the extract, if persisted relationally.</p><figure class="figure text-xs" id="f0010"><span><img src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/1-s2.0-S1532046419302588-gr2.jpg" height="414" alt="" aria-describedby="cn0010"><ol class="links-for-figure"><li><a class="anchor download-link u-font-sans" href="https://ars.els-cdn.com/content/image/1-s2.0-S1532046419302588-gr2_lrg.jpg" target="_blank" download="" title="Download high-res image (659KB)"><span class="anchor-text">Download : <span class="download-link-title">Download high-res image (659KB)</span></span></a></li><li><a class="anchor download-link u-font-sans" href="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/1-s2.0-S1532046419302588-gr2.jpg" target="_blank" download="" title="Download full-size image"><span class="anchor-text">Download : <span class="download-link-title">Download full-size image</span></span></a></li></ol></span><span class="captions"><span id="cn0010"><p id="sp0025"><span class="label">Fig. 2</span>. Shows the detail of one of the EHR extracts used. It is an XML file constrained by the archetypes using the X-Path-like syntax referring to specific leaf elements of the EHR extract. Notice the very structured nature of the data.</p></span></span></figure></div></section><section id="s0030"><h3 id="st050" class="u-h4 u-margin-m-top u-margin-xs-bottom">3.3. Syntactic analysis</h3><p id="p0145">We have used the ANTLR4 AQL grammar <a name="bb0130" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0130" class="workspace-trigger">[26]</a>, in order to automatically generate an AQL parser that builds a syntactic tree representing an AQL query. We have not directly used the official openEHR AQL grammar, written using ANTLR version 3, but have adapted it to latest version 4.</p></section><section id="s0035"><h3 id="st055" class="u-h4 u-margin-m-top u-margin-xs-bottom">3.4. AQL interpretation</h3><p id="p0150">Once the tree representing the AQL query has been built in main memory, it is visited by the interpreter.</p><p id="p0155">The subtree representing the <em>FROM</em> clause (mandatory) is first visited. The paths to the data sources are obtained including the corresponding archetype ids that form the containment criteria for these data. These paths variables will be used by subsequent steps of the interpreter.</p><p id="p0160">If the <em>WHERE</em> clause exists, its subtree is in turn visited. The expression representing the criteria to be met by the source data is built out of the operators, data paths operands and primitive data types operands to form the MongoDB basic query. This step is quite straightforward, since the XPath syntax used by AQL, conforming to that of the ISO/EN 13606 archetypes, coincides with the syntax used by the underlying MongoDB DBMS.</p><p id="p0165">This is because MongoDB is a document-based NoSQL DBMS. This means that archetype-standardized EHR extracts, conforming AQL, are stored as whole documents in MongoDB, and consequently their XPath-like syntax is preserved in the internal database representation.</p><p id="p0170">The mandatory <em>SELECT</em> subtree is now visited. The data path constructed from this subtree is used to build the MongoDB projection to the MongoDB query built so far. A MongoDB projection (see Discussion below) is a selection of the required data from the document returned from the data source by the MongoDB query. Many projections may be subsequently appended to the original query, narrowing down the result of the whole query.</p><p id="p0175">If the <em>ORDER BY</em> clause exists, it will now be visited. It will order the results of the query ascending or descending according to one of the fields specified in the AS section of the <em>SELECT</em> clause.</p><p id="p0180">The <em>TIMEWINDOW</em> clause should be now visited, but we have not yet implemented it. It should filter the data results by date and time criteria.</p></section></section><section id="s0040"><h2 id="st060" class="u-h3 u-margin-l-top u-margin-xs-bottom">4. Results</h2><div><p id="p0185">We have built a first AQL into MongoDB interpreter implementing a number of basic and advanced features. <a name="bt0005" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#t0005" class="workspace-trigger">Table 1</a> summarizes the most important implemented features used in 13 example queries and their correspondent response times in seconds. These 13 queries were developed in a systematic and pedagogic way to illustrate and test the features, and its complete AQL code is annexed as <a name="bs0070" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#s0070" class="workspace-trigger">supplementary material</a>. A 20,000 standardized ISO/EN 13606 EHR extracts database of 7.46 GB size has been queried on a remote server placed in a Local Area Network (LAN).</p><div class="tables colsep-0 frame-topbot rowsep-0" id="t0005"><span class="captions"><span id="cn0015"><p id="sp0030"><span class="label">Table 1</span>. Thirteen queries illustrating the most important implemented features, and their response time in seconds.</p></span></span><div class="groups"><table><thead><tr class="rowsep-1 valign-top"><th scope="col" class="align-left"><strong>Query #</strong></th><th scope="col" class="align-left"><strong>Feature</strong></th><th scope="col" class="align-left"><strong>Response time (sec)</strong></th></tr></thead><tbody><tr class="valign-top"><td class="align-left"><strong>q1</strong></td><td class="align-left">basic AQL, collection-wide indexed field</td><td class="align-left">0.895</td></tr><tr class="valign-top"><td class="align-left"><strong>q2</strong></td><td class="align-left">basic AQL</td><td class="align-left">5.789</td></tr><tr class="valign-top"><td class="align-left"><strong>q3</strong></td><td class="align-left">AND, OR logical operators; parentheses</td><td class="align-left">5.557</td></tr><tr class="valign-top"><td class="align-left"><strong>q4</strong></td><td class="align-left">find Date; * symbol</td><td class="align-left">4.529</td></tr><tr class="valign-top"><td class="align-left"><strong>q5</strong></td><td class="align-left">indexed arrays in WHERE</td><td class="align-left">4.463</td></tr><tr class="valign-top"><td class="align-left"><strong>q6</strong></td><td class="align-left">indexed arrays in SELECT (projection)</td><td class="align-left">■</td></tr><tr class="valign-top"><td class="align-left"><strong>q7</strong></td><td class="align-left">TOP operator, forward; ORDER BY clause</td><td class="align-left">4.927</td></tr><tr class="valign-top"><td class="align-left"><strong>q8</strong></td><td class="align-left">TOP operator, backward; ORDER BY clause</td><td class="align-left">4.838</td></tr><tr class="valign-top"><td class="align-left"><strong>q9</strong></td><td class="align-left">MATCHES operator</td><td class="align-left">5.710</td></tr><tr class="valign-top"><td class="align-left"><strong>q10</strong></td><td class="align-left">EXISTS operator</td><td class="align-left">8.118</td></tr><tr class="valign-top"><td class="align-left"><strong>q11</strong></td><td class="align-left">simple NOT</td><td class="align-left">7.443</td></tr><tr class="valign-top"><td class="align-left"><strong>q12</strong></td><td class="align-left">compound NOT</td><td class="align-left">9.410</td></tr><tr class="valign-top"><td class="align-left"><strong>q13</strong></td><td class="align-left">parameterized queries</td><td class="align-left">1.007</td></tr></tbody></table></div></div></div><p id="p0190">A Red Hat Enterprise Linux Server release 7.6 Maipo on an Intel Xeon CPU at 2.60 GHz with 8 GB RAM was used. The protocol used was a standard TCP/IP over a LAN.</p><p id="p0195">The MongoDB version used was 3.6.11, and the documents (EHR extracts) were stored as whole documents, after being translated to the MongoDB proprietary JSON-like BSON format, as usual in a document-based NoSQL DBMS such as MongoDB.</p><p id="p0200">Four convenient indexes have been built in appropriate fields. Query #1 uses a collection-wide indexed field that speeds up its response time dramatically. Other indexes play a local role that does not affect the total response time output appreciably.</p><p id="p0205">Notice in <a name="bt0005" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#t0005" class="workspace-trigger">Table 1</a> that query #6 has no response time. This is because at the moment there is an open bug in MongoDB <a name="bb0135" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0135" class="workspace-trigger">[27]</a>, that prevents the indexing of arrays inside projections (i.e. in the SELECT clause of AQL), but see Discussion below.</p><p id="p0210">We were not able to find appropriate AQL implementation performance results in the current literature. However, we have compared Q1 response time with direct MongoDB query language on the same database and the same query in previous work <a name="bb0140" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0140" class="workspace-trigger">[28]</a>. 0.895 s vs. 0.122 s respectively show a reasonable time overhead used to translate the AQL query to the MongoDB query language query. More direct comparisons like this one should be performed in the next future.</p><p id="p0215">In the same database in the same work <a name="bb0140" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0140" class="workspace-trigger">[28]</a>, exaggerated single patient queries (primary use) tend to behave better in MongoDB, while exaggerated all patient queries (secondary use) tend to be better in relational databases (MySQL). However, Q6 in that work, the most representative of realistic use, and very similar to q13 in the present work, behave considerably better in NoSQL MongoDB than in relational MySQL.</p><p id="p0220">Another point in favor of NoSQL databases, i.e. MongoDB, would be that there are already special purpose repositories for secondary use, i.e. i2b2 <a name="bb0145" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0145" class="workspace-trigger">[29]</a>, OMOP-OHDSI <a name="bb0150" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0150" class="workspace-trigger">[30]</a>, to whom standardized ISO/EN 13606 EHR extracts may be translated off-line, so there would be no real need to query this ISO/EN 13606 normalized medical information for secondary purposes directly using relational database persistence.</p><p id="p0225">Non-implemented features left for future work include queries with relative paths (i.e. at the moment all paths must be relative to the root of the EHR extract); the allowing of logical operators (AND, OR) in the <em>FROM</em> clause; the <em>TIMEWINDOW</em> clause; and extensions to the AQL grammar, including: collective functions (COUNT, MAX and AVG), and GROUP BY + HAVING sentence.</p></section><section id="s0045"><h2 id="st065" class="u-h3 u-margin-l-top u-margin-xs-bottom">5. Discussion</h2><p id="p0230">The problem that MongoDB does not allow us to index arrays inside projections has important consequences in the interpretation of relatively frequent queries.</p><p id="p0235">Consider for instance the following query formulated on the above database: <em>select the initial date, resolution date and severity of a given problem of a given patient</em>.</p><p id="p0240">If we provide a first AQL codification of the query, such as for instance:<span class="display"><div class="tables colsep-0 frame-topbot rowsep-0" id="t0015"><div class="groups"><table><tbody><tr class="valign-top"><td class="align-left"><span class="monospace">SELECT c/content/items/parts[at0000]/parts[at0001]/value/originalText/value</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="monospace">AS Problem,</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">e/subjectOfCare/extension</span>&nbsp;&nbsp;<span class="monospace">AS Patient,</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">c/content/items/parts[at0000]/parts[at0004]/value/code/originalText/value</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="monospace">AS Severity,</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">c/content/items/parts[at0000]/parts[at0002]/value/value</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="monospace">AS InitialDate,</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">c/content/items/parts[at0000]/parts[at0002]/value/value</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="monospace">AS ResolutionDate</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">FROM</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;<span class="monospace">EHR e</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;<span class="monospace">CONTAINS Composition c [CEN-EN13606 COMPOSITION.HCR_Fuenlabrada.v1]</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">WHERE e/subjectOfCare/extension = '0000000147′ AND</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">c/content/items/parts[at0000]/parts[at0001]/value/originalText/value =</span></td></tr><tr class="valign-top"><td class="align-left">&nbsp;&nbsp;<span class="monospace">‘PHARYNGITIS’;</span></td></tr></tbody></table></div></div></span>The problem arises that since the element at position c/content/items/parts[at0000] is an array of clusters each holding one <em>problem</em>, <em>initial date</em>, <em>resolution date</em> and <em>severity</em>, among others, the system will return an array of ALL the <em>problem</em>s, <em>initial date</em>s, <em>resolution date</em>s and <em>severity</em>s of the patient '0000000147′ who suffers ‘PHARYNGITIS’.</p><p id="p0245">In other words, we need to index that array, in order to obtain the dates and severity of the specific problem ‘PHARYNGITIS’.</p><p id="p0250">In relational systems <a name="bb0155" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0155" class="workspace-trigger">[31]</a>, SQL resolves this problem using embedded queries, since the result of a SQL query is itself a relational table. This is not feasible in AQL on MongoDB, so we need to index the array using parameters to hold the position in the array of the specific problem:<span class="display"><div class="tables colsep-0 frame-topbot rowsep-0" id="t0020"><div class="groups"><table><tbody><tr class="valign-top"><td class="align-left"><span class="monospace">SELECT c/content/items/parts[at0000][$i]/parts[at0001]/value/originalText/value</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS Problem,</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">e/subjectOfCare/extension&nbsp;&nbsp;AS Patient,</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">c/content/items/parts[at0000][$i]/parts[at0004]/value/code/originalText/value</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS Severity,</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">c/content/items/parts[at0000][$i]/parts[at0002]/value/value</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS InitialDate,</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">c/content/items/parts[at0000][$i]/parts[at0002]/value/value</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS ResolutionDate</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">FROM</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">&nbsp;EHR e</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">&nbsp;CONTAINS Composition c [CEN-EN13606 COMPOSITION.HCR_Fuenlabrada.v1]</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">WHERE e/subjectOfCare/extension = '0000000147′ AND</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">c/content/items/parts[at0000][$i]/parts[at0001]/value/originalText/value =</span></td></tr><tr class="valign-top"><td class="align-left"><span class="monospace">&nbsp;&nbsp;&nbsp;&nbsp; ‘PHARYNGITIS’;</span></td></tr></tbody></table></div></div></span>We may calculate the value of parameter <em>$i</em> in the <em>WHERE</em> clause by selecting the position in the array where the problem ‘PHARYNGITIS’ is located. However, we cannot index the array using that parameter in the four projections of the <em>SELECT</em> clause, because of the open bug in MongoDB <a name="bb0135" href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#b0135" class="workspace-trigger">[27]</a>.</p><p id="p0255">The solution adopted in this interpreter, when there are parameterized queries, is to compute the index of the array in the <em>WHERE</em> clause, using the <em>$arrayElementAt</em> operator, and to project to the cluster that holds the data corresponding to that specific problem, using the <em>$indexOfArray</em> operator with that calculated index. Subsequent projections are then performed as if there were no index parameterization.</p><p id="p0260">Other possible solutions include the use of an additional stage in the aggregation pipeline, after the <em>$match</em> stage (<em>WHERE</em> clause) and before the <em>$project</em> stage (<em>SELECT</em> clause), called <em>$unwind</em>. This would create a different document for <em>each</em> element in the array. Consequently we would only need to <em>$match</em> the document corresponding to the specific requested problem. However, this extract proliferation would probably suffer from performance issues.</p><p id="p0265">This way, the use of a layer above the MongoDB query language by the AQL interpreter permits us to “index” the arrays in the projections of the SELECT clause. This virtually completes every important feature in the AQL interpreter.</p><p id="p0270">As stated in the <em>Background and Significance</em> section, AQL can be considered to derive a version of ANSI SQL adapted to document-based NoSQL DBMS such as MongoDB. Consequently the features of AQL, i.e. <em>match</em>, <em>project</em>, use of archetypes, etc., might be used to formalize a version of ANSI SQL compliant with the characteristics of the dual model of the ISO/EN 13606 or the openEHR standards.</p><p id="p0275">Since these features are feasible in the MongoDB DBMS but not in other current document-based NoSQL databases, due to its Xpath-like syntax, MongoDB could be the system to query standardized medical information EHR systems, and this would give it an important competitive advantage.</p><p id="p0280">Consequently AQL could be used, just as relational algebra is used in relational systems to derive SQL, to develop the version of ANSI SQL adapted to the MongoDB query language. Instead of using relational algebra selections, projections, etc., the new ANSI SQL would use MongoDB query language <em>match</em>es, <em>project</em>s, array indexing, and the rest of features provided by the current specification of AQL, which can be translated to MongoDB, as we have shown mostly through writing this interpreter.</p></section><section id="s0050"><h2 id="st070" class="u-h3 u-margin-l-top u-margin-xs-bottom">6. Conclusion</h2><p id="p0285">An AQL into MongoDB interpreter has been constructed. An important set of features has already been implemented in the first version, and some others are being developed or are intended as future work for the next versions.</p><p id="p0290">It has been implemented and tested on top of our ISO/EN 13606 EHR management system, using its NoSQL MongoDB persistence subpart.</p><p id="p0295">This interpreter uses the advantages of both AQL and MongoDB to store and query ISO/EN 13606 standardized interoperable EHR extracts.</p><p id="p0300">AQL is a system, application and environment-independent declarative query language capable of performing semantic queries over a dual-model-based standardized EHR system, by using the medical knowledge representation stored by the archetypes of such systems, and consequently is a most appropriate language to query them.</p><p id="p0305">In addition MongoDB, as a NoSQL document-based DBMS, is most appropriate to efficiently store and retrieve such standardized EHR extracts.</p><p id="p0310">As a consequence, it also happens that there is a strong synergy between both methodologies, AQL and MongoDB, since the two use path-like notation to express queries; and archetype and extracts paths, to denote the elements of EHRs.</p><p id="p0315">This permits the AQL into MongoDB interpreter to have a simple and comprehensive design that maps directly the archetype-based AQL queries into the document-based MongoDB extracts elements representations.</p><p id="p0320">AQL could be used to derive a version of ANSI SQL to query dual model standardized medical information through the MongoDB DBMS, just as relational algebra is used to develop ANSI SQL in relational systems. This way MongoDB, as the system to query standardized medical information systems, would have an important competitive advantage over other document-based NoSQL systems that do not support its archetype-like syntax.</p></section></div><section id="coi005"><h2 id="st075" class="u-h3 u-margin-l-top u-margin-xs-bottom">Declaration of Competing Interest</h2><p id="p0325">The authors declare that they have no known competing financial interests or personal relationships that could have appeared to influence the work reported in this paper.</p></section><section id="s0055"><h2 id="st080" class="u-h3 u-margin-l-top u-margin-xs-bottom">Acknowledgements</h2><p id="p0330">We would like to thank the reviewers for their thoughtful and important suggestions that we believe have enhanced very considerably the original manuscript.</p></section><section id="s0060"><h2 id="st085" class="u-h3 u-margin-l-top u-margin-xs-bottom">Funding</h2><p id="p0335">This research has been partially supported by projects PI15CIII/00003 “Plataforma de innovación en Telemedicina y e-Salud: TIC para los retos de I + i en servicios de salud (Platform for Innovation in Telemedicine and e-Health: ICT for the challenges of I + i in health services) – PITES-TIiSS”, PI15CIII/00010 “Modelo normalizado de historia clínica electrónica compartida para la asistencia sanitaria y social integrada. Factibilidad y utilidad de un repositorio de uso secundario en cáncer de mama (Standard model of shared electronic health record for integrated health and social care. Feasibility and usefulness of a repository for secondary use for breast cancer patients.) – CAMAMA 3” from Fondo de Investigación Sanitaria (FIS) Plan Nacional de I + D + i, and IMIENS-2017-005 “EXTRacción de Asociaciones entre Enfermedades y otros conceptos médicos (Extraction of Associations between Diseases and other medical concepts – EXTRAE”.</p></section><div class="Appendices"><section id="s0070"><h2 id="st095" class="u-h3 u-margin-l-top u-margin-xs-bottom">Appendix A. Supplementary material</h2><p id="p0345">The following are the Supplementary data to this article:<span class="display"><span class="e-component e-component-mmc1" id="m0005"><span class="article-attachment"><a class="icon-link" href="https://ars.els-cdn.com/content/image/1-s2.0-S1532046419302588-mmc1.docx" title="Download Word document (17KB)" target="_blank" rel="noreferrer noopener"><svg focusable="false" viewBox="0 0 94 128" width="17.625" height="24" class="icon icon-text-document"><path d="m35.6 1e1c-5.38 0-10.62 1.92-14.76 5.4-9.1 7.68-18.84 20.14-18.84 32.1v70.5h9e1v-15.99-2.01-4e1 -17.64-32.36h-56.4zm0 1e1h46.4v22.36 17.64 4e1 2.01 5.99h-7e1v-49c0-6.08 4.92-11 11-11h17v-2e1h-6c-2.2 0-4 1.8-4 4v6h-7c-3.32 0-6.44 0.78-9.22 2.16 2.46-5.62 7.28-11.86 13.5-17.1 2.34-1.98 5.3-3.06 8.32-3.06zm-13.6 38v1e1h5e1v-1e1h-5e1zm0 2e1v1e1h5e1v-1e1h-5e1z"></path></svg></a><a class="anchor download-link u-font-sans" href="https://ars.els-cdn.com/content/image/1-s2.0-S1532046419302588-mmc1.docx" target="_blank" download="" title="Download Word document (17KB)"><span class="anchor-text">Download : <span class="download-link-title">Download Word document (17KB)</span></span></a></span><span class="captions"><span><p><span class="label">Supplementary Data 1</span>. </p></span></span></span></span></p></section></div></div><div class="related-content-links u-hide-from-md"><button class="button button-anchor" type="button"><span class="button-text">Recommended articles</span></button><button class="button button-anchor" type="button"><span class="button-text">Citing articles (1)</span></button></div><div class="Tail"></div><section class="bibliography u-font-serif text-s" id="bi005"><h2 class="section-title u-h3 u-margin-l-top u-margin-xs-bottom">References</h2><section class="bibliography-sec" id="bs005"><dl class="references" id="reference-links-bs005"><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0005" id="ref-id-b0005" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[1]</a></dt><dd class="reference" id="h0005"><span>T. Beale, Archetype Query Language Description, 2016, <a href="https://openehr.atlassian.net/wiki/spaces/spec/pages/4915244/Archetype%2bQuery%2bLanguage%2bDescription" target="_blank" rel="noreferrer noopener">https://openehr.atlassian.net/wiki/spaces/spec/pages/4915244/Archetype+Query+Language+Description</a> (Accessed Oct 2019).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=T.%20Beale,%20Archetype%20Query%20Language%20Description,%202016,%20https:openehr.atlassian.netwikispacesspecpages4915244ArchetypeQueryLanguageDescription%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0010" id="ref-id-b0010" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[2]</a></dt><dd class="reference" id="h0010"><span>MongoDB, <a href="https://www.mongodb.com/" target="_blank" rel="noreferrer noopener">https://www.mongodb.com/</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=MongoDB,%20https:www.mongodb.com%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0015" id="ref-id-b0015" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[3]</a></dt><dd class="reference" id="h0015"><div class="contribution">B. Middleton, M. Bloomrosen, <em> et al.</em><div id="ref-id-h0015"><strong class="title">Enhancing patient safety and quality of care by improving the usability of electronic health record systems: recommendations from AMIA</strong></div></div><div class="host">J. Am. Med. Inform. Assoc., 20 (2013), pp. e2-e8, <a href="https://doi.org/10.1136/amiajnl-2012-001458" target="_blank" rel="noreferrer noopener">10.1136/amiajnl-2012-001458</a></div><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://doi.org/10.1136/amiajnl-2012-001458" aria-describedby="ref-id-h0015">CrossRef</a><a class="link" target="_blank" rel="noopener noreferrer" href="https://www.scopus.com/inward/record.url?eid=2-s2.0-84881354155&amp;partnerID=10&amp;rel=R3.0.0" aria-describedby="ref-id-h0015">View Record in Scopus</a><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar_lookup?title=Enhancing%20patient%20safety%20and%20quality%20of%20care%20by%20improving%20the%20usability%20of%20electronic%20health%20record%20systems%3A%20recommendations%20from%20AMIA&amp;publication_year=2013&amp;author=B.%20Middleton&amp;author=M.%20Bloomrosen" aria-describedby="ref-id-h0015">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0020" id="ref-id-b0020" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[4]</a></dt><dd class="reference" id="h0020"><span>EN13606 archetype definition language files, <a href="https://github.com/openEHR/adl-archetypes/blob/master/Reference/ISO_13606/Spanish_MOH/ADL_14/CEN-EN13606-SECTION.AntecedentesEnfermeria.v1.adl" target="_blank" rel="noreferrer noopener">https://github.com/openEHR/adl-archetypes/blob/master/Reference/ISO_13606/Spanish_MOH/ADL_14/CEN-EN13606-SECTION.AntecedentesEnfermeria.v1.adl</a> (Accessed Oct 2019).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=EN13606%20archetype%20definition%20language%20files,%20https:github.comopenEHRadl-archetypesblobmasterReferenceISO_13606Spanish_MOHADL_14CEN-EN13606-SECTION.AntecedentesEnfermeria.v1.adl%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0025" id="ref-id-b0025" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[5]</a></dt><dd class="reference" id="h0025"><span>NoSQL, <a href="https://en.wikipedia.org/wiki/NoSQL" target="_blank" rel="noreferrer noopener">https://en.wikipedia.org/wiki/NoSQL</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=NoSQL,%20https:en.wikipedia.orgwikiNoSQL%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0030" id="ref-id-b0030" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[6]</a></dt><dd class="reference" id="h0030"><div class="contribution">R. Sánchez-de-Madariaga, A. Muñoz, <em> et al.</em><div id="ref-id-h0030"><strong class="title">Examining database persistence of ISO/EN 13606 standardized electronic health record extracts: relational vs. NoSQL approaches</strong></div></div><div class="host">BMC Med. Inf. Decis. Making, 17 (2017), p. 123, <a href="https://doi.org/10.1186/s12911-017-0515-4" target="_blank" rel="noreferrer noopener">10.1186/s12911-017-0515-4</a></div><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://www.scopus.com/inward/record.url?eid=2-s2.0-85027502270&amp;partnerID=10&amp;rel=R3.0.0" aria-describedby="ref-id-h0030">View Record in Scopus</a><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=Examining%20database%20persistence%20of%20ISOEN%2013606%20standardized%20electronic%20health%20record%20extracts:%20relational%20vs.%20NoSQL%20approaches" aria-describedby="ref-id-h0030">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0035" id="ref-id-b0035" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[7]</a></dt><dd class="reference" id="h0035"><span>Y. Jin, T. Deyu, Z. Xianrong, Research on the distributed electronic medical records storage model, IT in Medicine and Education (ITME), in: 2011 International Symposium on: IEEE, 2011, pp. 288–292.</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=Y.%20Jin,%20T.%20Deyu,%20Z.%20Xianrong,%20Research%20on%20the%20distributed%20electronic%20medical%20records%20storage%20model,%20IT%20in%20Medicine%20and%20Education%20,%20in:%202011%20International%20Symposium%20on:%20IEEE,%202011,%20pp.%20288292.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0040" id="ref-id-b0040" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[8]</a></dt><dd class="reference" id="h0040"><span>O. Schmitt, T.A. Majchrzak, Using document-based databases for medical information systems in unreliable environments, in: 9th International ISCRAM Conference, Vancouver, Canada, 2012.</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=O.%20Schmitt,%20T.A.%20Majchrzak,%20Using%20document-based%20databases%20for%20medical%20information%20systems%20in%20unreliable%20environments,%20in:%209th%20International%20ISCRAM%20Conference,%20Vancouver,%20Canada,%202012.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0045" id="ref-id-b0045" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[9]</a></dt><dd class="reference" id="h0045"><div class="contribution">V. Madhava, R. Sreekanth, S. Nanduri<div id="ref-id-h0045"><strong class="title">Big data electronic health records data management and analysis on cloud with MongoDB: a NoSQL database</strong></div></div><div class="host">Int. J. Adv. Eng. Global Technol., 3 (7) (2015), pp. 946-949</div><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://www.scopus.com/inward/record.url?eid=2-s2.0-85027511504&amp;partnerID=10&amp;rel=R3.0.0" aria-describedby="ref-id-h0045">View Record in Scopus</a><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar_lookup?title=Big%20data%20electronic%20health%20records%20data%20management%20and%20analysis%20on%20cloud%20with%20MongoDB%3A%20a%20NoSQL%20database&amp;publication_year=2015&amp;author=V.%20Madhava&amp;author=R.%20Sreekanth&amp;author=S.%20Nanduri" aria-describedby="ref-id-h0045">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0050" id="ref-id-b0050" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[10]</a></dt><dd class="reference" id="h0050"><span>W. Xu, Z. Zhou, H. Zhou, W. Zhang, J. Xie, MongoDB improves big data analysis performance on electric health record system, S. Ma et al. (Eds.). LSMS/ICSEE, 2014, Part I, CCIS 461, pp. 350–357.</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=W.%20Xu,%20Z.%20Zhou,%20H.%20Zhou,%20W.%20Zhang,%20J.%20Xie,%20MongoDB%20improves%20big%20data%20analysis%20performance%20on%20electric%20health%20record%20system,%20S.%20Ma%20et%20al.%20.%20LSMSICSEE,%202014,%20Part%20I,%20CCIS%20461,%20pp.%20350357.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0055" id="ref-id-b0055" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[11]</a></dt><dd class="reference" id="h0055"><span>ISO, International Organization for Standardization, <a href="http://www.iso.org/iso/home.htm" target="_blank" rel="noreferrer noopener">http://www.iso.org/iso/home.htm</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=ISO,%20International%20Organization%20for%20Standardization,%20http:www.iso.orgisohome.htm%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0060" id="ref-id-b0060" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[12]</a></dt><dd class="reference" id="h0060"><span>CEN, European Committee for Standardization <a href="http://www.cen.eu/cen/Pages/default.aspx" target="_blank" rel="noreferrer noopener">http://www.cen.eu/cen/Pages/default.aspx</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=CEN,%20European%20Committee%20for%20Standardization%20http:www.cen.eucenPagesdefault.aspx%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0065" id="ref-id-b0065" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[13]</a></dt><dd class="reference" id="h0065"><span>Health level seven, Health Level Seven International, <a href="http://www.hl7.org/" target="_blank" rel="noreferrer noopener">http://www.hl7.org</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=Health%20level%20seven,%20Health%20Level%20Seven%20International,%20http:www.hl7.org%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0070" id="ref-id-b0070" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[14]</a></dt><dd class="reference" id="h0070"><span>OpenEHR, openEHR, <a href="http://www.openehr.org/" target="_blank" rel="noreferrer noopener">http://www.openehr.org</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=OpenEHR,%20openEHR,%20http:www.openehr.org%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0075" id="ref-id-b0075" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[15]</a></dt><dd class="reference" id="h0075"><span>CIMI Wiki, Clinical Information Modeling Initiative, <a href="http://informatics.mayo.edu/CIMI/index.php/Main_Page" target="_blank" rel="noreferrer noopener">http://informatics.mayo.edu/CIMI/index.php/Main_Page</a> (Accessed Oct 2019).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=CIMI%20Wiki,%20Clinical%20Information%20Modeling%20Initiative,%20http:informatics.mayo.eduCIMIindex.phpMain_Page%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0080" id="ref-id-b0080" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[16]</a></dt><dd class="reference" id="h0080"><span>D. Kalra, D. Lloyd, ISO 13606 electronic health record communication part 1: reference model, ISO 13606–1. Geneva: ISO, 2008.</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=D.%20Kalra,%20D.%20Lloyd,%20ISO%2013606%20electronic%20health%20record%20communication%20part%201:%20reference%20model,%20ISO%20136061.%20Geneva:%20ISO,%202008.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0085" id="ref-id-b0085" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[17]</a></dt><dd class="reference" id="h0085"><div class="host" id="ref-id-h0085">D. Kalra, T. Beale, D. Lloyd (Eds.), Electronic health record communication part 2: archetype interchange specification. ISO 13606–2, ISO, Geneva (2008)</div><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=Electronic%20health%20record%20communication%20part%202:%20archetype%20interchange%20specification.%20ISO%20136062" aria-describedby="ref-id-h0085">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0090" id="ref-id-b0090" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[18]</a></dt><dd class="reference" id="h0090"><span>T. Beale, Archetypes constraint-Bbased domain models for future proof information systems, OOPSLA, 2002, Workshop Behav Semant, 2002.</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=T.%20Beale,%20Archetypes%20constraint-Bbased%20domain%20models%20for%20future%20proof%20information%20systems,%20OOPSLA,%202002,%20Workshop%20Behav%20Semant,%202002.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0095" id="ref-id-b0095" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[19]</a></dt><dd class="reference" id="h0095"><span>Introduction to SQL, <a href="https://www.w3schools.com/sql/sql_intro.asp" target="_blank" rel="noreferrer noopener">https://www.w3schools.com/sql/sql_intro.asp</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=Introduction%20to%20SQL,%20https:www.w3schools.comsqlsql_intro.asp%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0100" id="ref-id-b0100" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[20]</a></dt><dd class="reference" id="h0100"><span>XQuery Tutorial, <a href="https://www.w3schools.com/xml/xquery_intro.asp" target="_blank" rel="noreferrer noopener">https://www.w3schools.com/xml/xquery_intro.asp</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=XQuery%20Tutorial,%20https:www.w3schools.comxmlxquery_intro.asp%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0105" id="ref-id-b0105" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[21]</a></dt><dd class="reference" id="h0105"><div class="contribution">Z. Parker, S. Poe, S.V. Vrbsky<div id="ref-id-h0105"><strong class="title">Comparing NoSQL MongoDB to an SQL Db</strong></div></div><div class="host">Proceedings of the 51st ACM Southeast Conference. Savannah, Georgia, ACM (2013), pp. 1-6</div><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://doi.org/10.1145/2498328.2500047" aria-describedby="ref-id-h0105">CrossRef</a><a class="link" target="_blank" rel="noopener noreferrer" href="https://www.scopus.com/inward/record.url?eid=2-s2.0-84960899898&amp;partnerID=10&amp;rel=R3.0.0" aria-describedby="ref-id-h0105">View Record in Scopus</a><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar_lookup?title=Comparing%20NoSQL%20MongoDB%20to%20an%20SQL%20Db&amp;publication_year=2013&amp;author=Z.%20Parker&amp;author=S.%20Poe&amp;author=S.V.%20Vrbsky" aria-describedby="ref-id-h0105">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0110" id="ref-id-b0110" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[22]</a></dt><dd class="reference" id="h0110"><span>ACID (computer science) <a href="https://en.wikipedia.org/wiki/ACID_(computer_science)" target="_blank" rel="noreferrer noopener">https://en.wikipedia.org/wiki/ACID_(computer_science)</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=ACID%20%20https:en.wikipedia.orgwikiACID_%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0115" id="ref-id-b0115" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[23]</a></dt><dd class="reference" id="h0115"><span>XPath Tutorial, <a href="https://www.w3schools.com/xml/xpath_intro.asp" target="_blank" rel="noreferrer noopener">https://www.w3schools.com/xml/xpath_intro.asp</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=XPath%20Tutorial,%20https:www.w3schools.comxmlxpath_intro.asp%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0120" id="ref-id-b0120" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[24]</a></dt><dd class="reference" id="h0120"><div class="contribution">G. Duftschmid, T. Wrba, C. Rinner<div id="ref-id-h0120"><strong class="title">Extraction of standardized archetyped data from electronic health record systems based on the entity-attribute-value model</strong></div></div><div class="host">Int. J. Med. Inf., 79 (2010)</div><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar_lookup?title=Extraction%20of%20standardized%20archetyped%20data%20from%20electronic%20health%20record%20systems%20based%20on%20the%20entity-attribute-value%20model&amp;publication_year=2010&amp;author=G.%20Duftschmid&amp;author=T.%20Wrba&amp;author=C.%20Rinner" aria-describedby="ref-id-h0120">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0125" id="ref-id-b0125" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[25]</a></dt><dd class="reference" id="h0125"><span>Archetype definition language 1.4 specification, openEHR, 2018, <a href="https://www.openehr.+org/releases/AM/latest/docs/ADL1.4/ADL1.4.html" target="_blank" rel="noreferrer noopener">https://www.openehr. org/releases/AM/latest/docs/ADL1.4/ADL1.4.html</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=Archetype%20definition%20language%201.4%20specification,%20openEHR,%202018,%20https:www.openehr.%20orgreleasesAMlatestdocsADL1.4ADL1.4.html%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0130" id="ref-id-b0130" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[26]</a></dt><dd class="reference" id="h0130"><span>ANTLR (another tool for language recognition) <a href="http://www.antlr.org/" target="_blank" rel="noreferrer noopener">http://www.antlr.org/</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=ANTLR%20%20http:www.antlr.org%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0135" id="ref-id-b0135" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[27]</a></dt><dd class="reference" id="h0135"><span>Allow projection of specific array elements by position, MongoDB, <a href="https://jira.mongodb.org/browse/SERVER-15083" target="_blank" rel="noreferrer noopener">https://jira.mongodb.org/browse/SERVER-15083</a> (Accessed Oct 2018).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=Allow%20projection%20of%20specific%20array%20elements%20by%20position,%20MongoDB,%20https:jira.mongodb.orgbrowseSERVER-15083%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0140" id="ref-id-b0140" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[28]</a></dt><dd class="reference" id="h0140"><div class="contribution">R. Sánchez-de-Madariaga, A. Muñoz, A.L. Castro, O. Moreno, M. Pascual<div id="ref-id-h0140"><strong class="title">Executing complexity-increasing queries in relational (MySQL) and NoSQL (MongoDB and EXist) size-growing ISO/EN 13606 standardized EHR databases</strong></div></div><div class="host">J. Vis. Exp., 133 (2018), p. e57439, <a href="https://doi.org/10.3791/57439" target="_blank" rel="noreferrer noopener">10.3791/57439</a></div><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://www.scopus.com/inward/record.url?eid=2-s2.0-85044723967&amp;partnerID=10&amp;rel=R3.0.0" aria-describedby="ref-id-h0140">View Record in Scopus</a><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=Executing%20complexity-increasing%20queries%20in%20relational%20%20and%20NoSQL%20%20size-growing%20ISOEN%2013606%20standardized%20EHR%20databases" aria-describedby="ref-id-h0140">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0145" id="ref-id-b0145" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[29]</a></dt><dd class="reference" id="h0145"><div class="contribution">S.N. Murphy, G. Weber, M. Mendis, <em> et al.</em><div id="ref-id-h0145"><strong class="title">Serving the enterprise and beyond with informatics for integrating biology and the bedside (i2b2)</strong></div></div><div class="host">J. Am. Med. Inform. Assoc., 17 (2010), p. 124e130, <a href="https://doi.org/10.1136/jamia.2009.000893" target="_blank" rel="noreferrer noopener">10.1136/jamia.2009.000893</a></div><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=Serving%20the%20enterprise%20and%20beyond%20with%20informatics%20for%20integrating%20biology%20and%20the%20bedside" aria-describedby="ref-id-h0145">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0150" id="ref-id-b0150" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[30]</a></dt><dd class="reference" id="h0150"><span>OMOP Common Data Model - OHDSI <a href="https://www.ohdsi.org/data-standardization/the-common-data-model/" target="_blank" rel="noreferrer noopener">https://www.ohdsi.org/data-standardization/the-common-data-model/</a> (Accessed April 2019).</span><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar?q=OMOP%20Common%20Data%20Model%20-%20OHDSI%20https:www.ohdsi.orgdata-standardizationthe-common-data-model%20.">Google Scholar</a></div></dd><dt class="label"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302588#bb0155" id="ref-id-b0155" data-aa-button="sd:product:journal:article:location=references:type=anchor:name=citation-name">[31]</a></dt><dd class="reference" id="h0155"><div class="contribution">E.F. Codd<div id="ref-id-h0155"><strong class="title">A relational model for large shared data banks</strong></div></div><div class="host">Comm. ACM, 13 (6) (1970), pp. 377-387</div><div class="ReferenceLinks u-font-sans"><a class="link" target="_blank" rel="noopener noreferrer" href="https://doi.org/10.1145/362384.362685" aria-describedby="ref-id-h0155">CrossRef</a><a class="link" target="_blank" rel="noopener noreferrer" href="https://www.scopus.com/inward/record.url?eid=2-s2.0-0009661019&amp;partnerID=10&amp;rel=R3.0.0" aria-describedby="ref-id-h0155">View Record in Scopus</a><a class="link" target="_blank" rel="noopener noreferrer" href="https://scholar.google.com/scholar_lookup?title=A%20relational%20model%20for%20large%20shared%20data%20banks&amp;publication_year=1970&amp;author=E.F.%20Codd" aria-describedby="ref-id-h0155">Google Scholar</a></div></dd></dl></section></section><a class="anchor abstract-link" href="https://www.sciencedirect.com/science/article/abs/pii/S1532046419302588"><span class="anchor-text">View Abstract</span></a><div class="Copyright"><span class="copyright-line">© 2019 Elsevier Inc.</span></div></article><div class="u-show-from-md col-lg-6 col-md-8 pad-right"><aside class="RelatedContent" aria-label="Related content"><section class="SidePanel u-margin-s-bottom"><header id="recommended-articles-header" class="side-panel-header u-margin-s-bottom"><button class="button-link side-panel-toggle is-up button-link-primary" aria-expanded="true" data-aa-button="sd:product:journal:article:location=recommended-articles:type=close" type="button"><span class="button-link-text"><h2 class="section-title u-h4">Recommended articles</h2></span><svg focusable="false" viewBox="0 0 92 128" width="17.25" height="24" class="icon icon-navigate-down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button></header><div class="" aria-hidden="false" aria-describedby="recommended-articles-header"><div id="recommended-articles"><ul><li class="SidePanelItem"><div class="sub-heading"><a href="https://www.sciencedirect.com/science/article/pii/S1532046420300034"><h3 class="article-title ellipsis text-s" id="recommended-articles-article0-title"><span>Compositional framework for multitask learning in the identification of cleavage sites of HIV-1 protease</span></h3></a><div class="article-source ellipsis"><div class="source">Journal of Biomedical Informatics, Volume 102, 2020, Article 103376</div></div></div><div class="buttons"><a class="anchor side-panel-pdf-link" href="https://www.sciencedirect.com/science/article/pii/S1532046420300034/pdfft?md5=99c5a17d8c3aa42b841b7268e635afa1&amp;pid=1-s2.0-S1532046420300034-main.pdf" target="_blank" rel="nofollow"><svg focusable="false" viewBox="0 0 32 32" width="24" height="24" class="icon icon-pdf-multicolor"><path d="M7 .362h17.875l6.763 6.1V31.64H6.948V16z" stroke="#000" stroke-width=".703" fill="#fff"></path><path d="M.167 2.592H22.39V9.72H.166z" stroke="#aaa" stroke-width=".315" fill="#da0000"></path><path fill="#fff9f9" d="M5.97 3.638h1.62c1.053 0 1.483.677 1.488 1.564.008.96-.6 1.564-1.492 1.564h-.644v1.66h-.977V3.64m.977.897v1.34h.542c.27 0 .596-.068.596-.673-.002-.6-.32-.667-.596-.667h-.542m3.8.036v2.92h.35c.933 0 1.223-.448 1.228-1.462.008-1.06-.316-1.45-1.23-1.45h-.347m-.977-.94h1.03c1.68 0 2.523.586 2.534 2.39.01 1.688-.607 2.4-2.534 2.4h-1.03V3.64m4.305 0h2.63v.934h-1.657v.894H16.6V6.4h-1.56v2.026h-.97V3.638"></path><path d="M19.462 13.46c.348 4.274-6.59 16.72-8.508 15.792-1.82-.85 1.53-3.317 2.92-4.366-2.864.894-5.394 3.252-3.837 3.93 2.113.895 7.048-9.25 9.41-15.394zM14.32 24.874c4.767-1.526 14.735-2.974 15.152-1.407.824-3.157-13.72-.37-15.153 1.407zm5.28-5.043c2.31 3.237 9.816 7.498 9.788 3.82-.306 2.046-6.66-1.097-8.925-4.164-4.087-5.534-2.39-8.772-1.682-8.732.917.047 1.074 1.307.67 2.442-.173-1.406-.58-2.44-1.224-2.415-1.835.067-1.905 4.46 1.37 9.065z" fill="#f91d0a"></path></svg><span class="anchor-text">Download PDF</span></a><button class="button-link button-link-secondary side-panel-details-toggle move-right" data-aa-button="sd:product:journal:article:location=recommended-articles:type=view-details" aria-describedby="recommended-articles-article0-title" aria-controls="recommended-articles-article0" aria-expanded="false" type="button"><span class="button-link-text">View details</span><svg focusable="false" viewBox="0 0 92 128" width="17.25" height="24" class="icon icon-navigate-down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button></div><div id="recommended-articles-article0" aria-hidden="true"></div></li><li class="SidePanelItem"><div class="sub-heading"><a href="https://www.sciencedirect.com/science/article/pii/S1532046419302692"><h3 class="article-title ellipsis text-s" id="recommended-articles-article1-title"><span>Targeting the uncertainty of predictions at patient-level using an ensemble of classifiers coupled with calibration methods, Venn-ABERS, and Conformal Predictors: A case study in AD</span></h3></a><div class="article-source ellipsis"><div class="source">Journal of Biomedical Informatics, Volume 101, 2020, Article 103350</div></div></div><div class="buttons"><a class="anchor side-panel-pdf-link" href="https://www.sciencedirect.com/science/article/pii/S1532046419302692/pdfft?md5=9fc4684342d86d7927a9043f66bdeedf&amp;pid=1-s2.0-S1532046419302692-main.pdf" target="_blank" rel="nofollow"><svg focusable="false" viewBox="0 0 32 32" width="24" height="24" class="icon icon-pdf-multicolor"><path d="M7 .362h17.875l6.763 6.1V31.64H6.948V16z" stroke="#000" stroke-width=".703" fill="#fff"></path><path d="M.167 2.592H22.39V9.72H.166z" stroke="#aaa" stroke-width=".315" fill="#da0000"></path><path fill="#fff9f9" d="M5.97 3.638h1.62c1.053 0 1.483.677 1.488 1.564.008.96-.6 1.564-1.492 1.564h-.644v1.66h-.977V3.64m.977.897v1.34h.542c.27 0 .596-.068.596-.673-.002-.6-.32-.667-.596-.667h-.542m3.8.036v2.92h.35c.933 0 1.223-.448 1.228-1.462.008-1.06-.316-1.45-1.23-1.45h-.347m-.977-.94h1.03c1.68 0 2.523.586 2.534 2.39.01 1.688-.607 2.4-2.534 2.4h-1.03V3.64m4.305 0h2.63v.934h-1.657v.894H16.6V6.4h-1.56v2.026h-.97V3.638"></path><path d="M19.462 13.46c.348 4.274-6.59 16.72-8.508 15.792-1.82-.85 1.53-3.317 2.92-4.366-2.864.894-5.394 3.252-3.837 3.93 2.113.895 7.048-9.25 9.41-15.394zM14.32 24.874c4.767-1.526 14.735-2.974 15.152-1.407.824-3.157-13.72-.37-15.153 1.407zm5.28-5.043c2.31 3.237 9.816 7.498 9.788 3.82-.306 2.046-6.66-1.097-8.925-4.164-4.087-5.534-2.39-8.772-1.682-8.732.917.047 1.074 1.307.67 2.442-.173-1.406-.58-2.44-1.224-2.415-1.835.067-1.905 4.46 1.37 9.065z" fill="#f91d0a"></path></svg><span class="anchor-text">Download PDF</span></a><button class="button-link button-link-secondary side-panel-details-toggle move-right" data-aa-button="sd:product:journal:article:location=recommended-articles:type=view-details" aria-describedby="recommended-articles-article1-title" aria-controls="recommended-articles-article1" aria-expanded="false" type="button"><span class="button-link-text">View details</span><svg focusable="false" viewBox="0 0 92 128" width="17.25" height="24" class="icon icon-navigate-down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button></div><div id="recommended-articles-article1" aria-hidden="true"></div></li><li class="SidePanelItem"><div class="sub-heading"><a href="https://www.sciencedirect.com/science/article/pii/S0020025519305869"><h3 class="article-title ellipsis text-s" id="recommended-articles-article2-title"><span>RDMA-driven MongoDB: An approach of RDMA enhanced NoSQL paradigm for large-Scale data processing</span></h3></a><div class="article-source ellipsis"><div class="source">Information Sciences, Volume 502, 2019, pp. 376-393</div></div></div><div class="buttons"><form class="side-panel-pdf-link" method="post" action="https://www.sciencedirect.com/getaccess/pii/S0020025519305869" target="sd-shopping-cart"><button class="button-link button-anchor button-link-primary" type="submit" rel="nofollow"><svg focusable="false" viewBox="0 0 32 32" width="24" height="24" class="icon icon-pdf-multicolor"><path d="M7 .362h17.875l6.763 6.1V31.64H6.948V16z" stroke="#000" stroke-width=".703" fill="#fff"></path><path d="M.167 2.592H22.39V9.72H.166z" stroke="#aaa" stroke-width=".315" fill="#da0000"></path><path fill="#fff9f9" d="M5.97 3.638h1.62c1.053 0 1.483.677 1.488 1.564.008.96-.6 1.564-1.492 1.564h-.644v1.66h-.977V3.64m.977.897v1.34h.542c.27 0 .596-.068.596-.673-.002-.6-.32-.667-.596-.667h-.542m3.8.036v2.92h.35c.933 0 1.223-.448 1.228-1.462.008-1.06-.316-1.45-1.23-1.45h-.347m-.977-.94h1.03c1.68 0 2.523.586 2.534 2.39.01 1.688-.607 2.4-2.534 2.4h-1.03V3.64m4.305 0h2.63v.934h-1.657v.894H16.6V6.4h-1.56v2.026h-.97V3.638"></path><path d="M19.462 13.46c.348 4.274-6.59 16.72-8.508 15.792-1.82-.85 1.53-3.317 2.92-4.366-2.864.894-5.394 3.252-3.837 3.93 2.113.895 7.048-9.25 9.41-15.394zM14.32 24.874c4.767-1.526 14.735-2.974 15.152-1.407.824-3.157-13.72-.37-15.153 1.407zm5.28-5.043c2.31 3.237 9.816 7.498 9.788 3.82-.306 2.046-6.66-1.097-8.925-4.164-4.087-5.534-2.39-8.772-1.682-8.732.917.047 1.074 1.307.67 2.442-.173-1.406-.58-2.44-1.224-2.415-1.835.067-1.905 4.46 1.37 9.065z" fill="#f91d0a"></path></svg><span class="button-link-text">Purchase PDF</span></button></form><button class="button-link button-link-secondary side-panel-details-toggle move-right" data-aa-button="sd:product:journal:article:location=recommended-articles:type=view-details" aria-describedby="recommended-articles-article2-title" aria-controls="recommended-articles-article2" aria-expanded="false" type="button"><span class="button-link-text">View details</span><svg focusable="false" viewBox="0 0 92 128" width="17.25" height="24" class="icon icon-navigate-down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button></div><div id="recommended-articles-article2" aria-hidden="true"></div></li></ul></div><div class="pagination u-position-relative u-padding-s-bottom"><span class="u-position-absolute"></span><span class="pagination-pages-label"><span class="pagination-nav u-margin-xs-hor pagination-current underline-page-number">1</span><span class="pagination-nav u-margin-xs-hor">2</span></span><span class="u-position-absolute"><button class="button-link button-link-secondary next-button" data-aa-button="sd:product:journal:article:location=recommended-articles:type=Next" type="button"><span class="button-link-text">Next</span><svg focusable="false" viewBox="0 0 54 128" width="10.125" height="24" class="icon icon-navigate-right"><path d="m1 99l38-38-38-38 7-7 45 45-45 45z"></path></svg></button></span></div></div></section><section class="SidePanel u-margin-s-bottom"><header id="citing-articles-header" class="side-panel-header u-margin-s-bottom"><button class="button-link side-panel-toggle button-link-primary" aria-expanded="false" data-aa-button="sd:product:journal:article:location=citing-articles:type=open" type="button"><span class="button-link-text"><h2 class="section-title u-h4">Citing articles (1)</h2></span><svg focusable="false" viewBox="0 0 92 128" width="17.25" height="24" class="icon icon-navigate-down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button></header><div class="u-display-none" aria-hidden="true" aria-describedby="citing-articles-header"><div id="citing-articles"><ul><li class="SidePanelItem"><div class="sub-heading"><a href="https://www.sciencedirect.com/science/article/pii/S1532046420302987" target="_self"><h3 class="article-title ellipsis text-s" id="citing-articles-article0-title">Standardized electronic health record data modeling and persistence: A comparative review</h3></a><div class="article-source ellipsis">2021, Journal of Biomedical Informatics</div></div><div class="buttons"><form class="side-panel-pdf-link" method="post" action="https://www.sciencedirect.com/getaccess/pii/S1532046420302987" target="sd-shopping-cart"><button class="button-link button-anchor button-link-primary" type="submit" rel="nofollow"><svg focusable="false" viewBox="0 0 32 32" width="24" height="24" class="icon icon-pdf-multicolor"><path d="M7 .362h17.875l6.763 6.1V31.64H6.948V16z" stroke="#000" stroke-width=".703" fill="#fff"></path><path d="M.167 2.592H22.39V9.72H.166z" stroke="#aaa" stroke-width=".315" fill="#da0000"></path><path fill="#fff9f9" d="M5.97 3.638h1.62c1.053 0 1.483.677 1.488 1.564.008.96-.6 1.564-1.492 1.564h-.644v1.66h-.977V3.64m.977.897v1.34h.542c.27 0 .596-.068.596-.673-.002-.6-.32-.667-.596-.667h-.542m3.8.036v2.92h.35c.933 0 1.223-.448 1.228-1.462.008-1.06-.316-1.45-1.23-1.45h-.347m-.977-.94h1.03c1.68 0 2.523.586 2.534 2.39.01 1.688-.607 2.4-2.534 2.4h-1.03V3.64m4.305 0h2.63v.934h-1.657v.894H16.6V6.4h-1.56v2.026h-.97V3.638"></path><path d="M19.462 13.46c.348 4.274-6.59 16.72-8.508 15.792-1.82-.85 1.53-3.317 2.92-4.366-2.864.894-5.394 3.252-3.837 3.93 2.113.895 7.048-9.25 9.41-15.394zM14.32 24.874c4.767-1.526 14.735-2.974 15.152-1.407.824-3.157-13.72-.37-15.153 1.407zm5.28-5.043c2.31 3.237 9.816 7.498 9.788 3.82-.306 2.046-6.66-1.097-8.925-4.164-4.087-5.534-2.39-8.772-1.682-8.732.917.047 1.074 1.307.67 2.442-.173-1.406-.58-2.44-1.224-2.415-1.835.067-1.905 4.46 1.37 9.065z" fill="#f91d0a"></path></svg><span class="button-link-text">Purchase PDF</span></button></form><button class="button-link button-link-secondary side-panel-details-toggle move-right" data-aa-button="sd:product:journal:article:location=citing-articles:type=view-details" aria-describedby="citing-articles-article0-title" aria-controls="citing-articles-article0" aria-expanded="false" type="button"><span class="button-link-text">View details</span><svg focusable="false" viewBox="0 0 92 128" width="17.25" height="24" class="icon icon-navigate-down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button></div><div id="citing-articles-article0" aria-hidden="true"></div></li></ul></div></div></section><section class="SidePanel u-margin-s-bottom"><header id="metrics-header" class="side-panel-header u-margin-s-bottom"><button class="button-link side-panel-toggle is-up button-link-primary" aria-expanded="true" type="button"><span class="button-link-text"><h2 class="section-title u-h4">Article Metrics</h2></span><svg focusable="false" viewBox="0 0 92 128" width="17.25" height="24" class="icon icon-navigate-down"><path d="m1 51l7-7 38 38 38-38 7 7-45 45z"></path></svg></button></header><div class="" aria-hidden="false" aria-describedby="metrics-header"><div class="plum-sciencedirect-theme"><div class="PlumX-Summary"><div class="pps-container pps-container-vertical plx-no-print"><div class="pps-branding pps-branding-top"><img alt="plumX logo" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/plumx-inverse-logo.png" class="plx-logo"></div><div class="pps-cols"><div class="pps-col plx-citation"><div class="plx-citation"><div class="pps-title">Citations</div><ul><li class="plx-citation"><span class="pps-label">Citation Indexes: </span><span class="pps-count">1</span></li></ul></div></div><div class="pps-col plx-capture"><div class="plx-capture"><div class="pps-title">Captures</div><ul><li class="plx-capture"><span class="pps-label">Readers: </span><span class="pps-count">19</span></li></ul></div></div><div class="pps-col plx-socialMedia"><div class="plx-socialMedia"><div class="pps-title">Social Media</div><ul><li class="plx-socialMedia"><span class="pps-label">Tweets: </span><span class="pps-count">9</span></li></ul></div></div></div><div><div class="pps-branding pps-branding-bottom"><img alt="plumX logo" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/plumx-logo.png" class="plx-logo"></div><a target="_blank" href="https://plu.mx/plum/a/?doi=10.1016/j.jbi.2019.103339&amp;theme=plum-sciencedirect-theme&amp;hideUsage=true" class="pps-seemore" title="PlumX Metrics Detail Page">View details<svg fill="currentColor" tabindex="-1" focusable="false" width="16" height="16" viewBox="0 0 16 16" class="svg-arrow"><path d="M16 4.452l-1.26-1.26L8 9.932l-6.74-6.74L0 4.452l8 8 8-8z"></path></svg></a></div></div></div></div></div></section></aside></div></div><div></div></div></div><footer role="contentinfo" class="els-footer u-bg-white text-xs u-padding-s-hor u-padding-m-hor-from-sm u-padding-l-hor-from-md u-padding-l-ver u-margin-l-top u-margin-xl-top-from-sm u-margin-l-top-from-md"><div class="els-footer-elsevier u-margin-m-bottom u-margin-0-bottom-from-md u-margin-s-right u-margin-m-right-from-md u-margin-l-right-from-lg"><a aria-label="Elsevier home page (opens in a new tab)" href="https://www.elsevier.com/" target="_blank" rel="nofollow"><img class="footer-logo" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/elsevier-non-solus-new-with-wordmark.svg" alt="Elsevier logo" height="64" width="58"></a></div><div class="els-footer-content"><div class="u-remove-if-print"><ul class="els-footer-links u-margin-xs-bottom" style="list-style:none"><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md" href="https://www.elsevier.com/solutions/sciencedirect" id="els-footer-about-science-direct" target="_blank" rel="nofollow"><span class="anchor-text">About ScienceDirect</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md" href="https://www.sciencedirect.com/customer/authenticate/manra" id="els-footer-remote-access" target="_blank" rel="nofollow"><span class="anchor-text">Remote access</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md" href="https://sd-cart.elsevier.com/?" id="els-footer-shopping-cart" target="_blank" rel="nofollow"><span class="anchor-text">Shopping cart</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md" href="http://elsmediakits.com/" id="els-footer-advertise" target="_blank" rel="nofollow"><span class="anchor-text">Advertise</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md" href="https://service.elsevier.com/app/contact/supporthub/sciencedirect/" id="els-footer-contact-support" target="_blank" rel="nofollow"><span class="anchor-text">Contact and support</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md" href="https://www.elsevier.com/legal/elsevier-website-terms-and-conditions" id="els-footer-terms-condition" target="_blank" rel="nofollow"><span class="anchor-text">Terms and conditions</span></a></li><li><a class="anchor u-display-block u-clr-grey8 u-margin-s-bottom u-margin-0-bottom-from-sm u-margin-m-right-from-sm u-margin-l-right-from-md" href="https://www.elsevier.com/legal/privacy-policy" id="els-footer-privacy-policy" target="_blank" rel="nofollow"><span class="anchor-text">Privacy policy</span></a></li></ul></div><p id="els-footer-cookie-message" class="u-remove-if-print">We use cookies to help provide and enhance our service and tailor content and ads. By continuing you agree to the<!-- --> <a class="anchor u-clr-grey8 u-margin-0-right" href="https://www.sciencedirect.com/legal/use-of-cookies" target="_blank" rel="nofollow"><span class="anchor-text"><strong>use of cookies</strong></span></a>.</p><p id="els-footer-copyright">Copyright © <!-- -->2021<!-- --> Elsevier B.V. or its licensors or contributors.<!-- --> <span class="u-remove-if-print">ScienceDirect ® is a registered trademark of Elsevier B.V.</span></p><p class="u-remove-if-not-print">ScienceDirect ® is a registered trademark of Elsevier B.V.</p></div><div class="els-footer-relx u-margin-0-top u-margin-m-top-from-xs u-margin-0-top-from-md"><a aria-label="RELX home page (opens in a new tab)" id="els-footer-relx" href="https://www.relx.com/" target="_blank" rel="nofollow"><svg xmlns="http://www.w3.org/2000/svg" width="93" height="20" version="1" viewBox="0 0 280 65" alt="RELX group home page"><g transform="matrix(.13333 0 0 -.13333 0 65)"><path fill="#ff8200" d="M207 251c110 0 242 26 242 131 0 75-77 103-146 103C196 485 0 425 0 215 0 110 80 49 208 49c135 0 232 87 262 205C391 118 291 75 209 75 107 75 68 151 68 216c0 185 144 248 235 248 61 0 97-40 97-83 0-119-172-116-250-116h-38l-16-17c36-5 85-15 139-42C347 149 453 0 592 0c51 0 64 15 74 29-69-44-183 32-245 90-51 48-96 103-214 132"></path><path fill="#666666" d="M886 310c0 33-22 53-55 53h-77c-2 0-3-1-3-3v-99c0-2 1-3 3-3h77c33 0 55 20 55 52m7-261c-5 0-7 2-8 6l-69 145h-62c-2 0-3-1-3-4V55c0-4-2-6-6-6h-51c-4 0-6 2-6 6v361c0 3 2 5 6 5h139c66 0 115-45 115-111 0-49-27-86-69-102l76-152c2-4 0-7-4-7h-58M1010 416c0 3 3 5 6 5h218c4 0 6-2 6-5v-47c0-3-2-6-6-6h-158c-2 0-3-1-3-3v-91c0-2 1-3 3-3h127c4 0 6-2 6-6v-47c0-3-2-5-6-5h-127c-2 0-3-1-3-3v-95c0-2 1-3 3-3h158c4 0 6-2 6-5V55c0-4-2-6-6-6h-218c-3 0-6 2-6 6v361M1298 416c0 3 2 5 5 5h52c3 0 6-2 6-5V110c0-2 1-3 3-3h147c3 0 5-2 5-5V55c0-4-2-6-5-6h-208c-3 0-5 2-5 6v361M1775 49c-4 0-6 1-8 5l-73 127h-1l-73-127c-2-4-4-5-8-5h-58c-3 0-5 3-3 7l108 185-100 173c-2 4 0 7 3 7h58c4 0 6-2 8-6l65-112h1l65 112c2 4 5 6 9 6h57c4 0 5-3 3-7l-99-173 107-185c2-4 1-7-3-7h-58M1912 295l-2 1v104l-1 1h-32l-2 2v16l2 2h87l2-2v-16l-2-2h-32l-1-1V296l-2-1h-17M1988 419l2 2h16c1 0 2 0 3-2l33-78h1l33 78c1 2 2 2 3 2h16l2-2V296l-2-1h-16l-1 1v78h-1l-26-60-3-2h-11l-3 2-26 60h-1v-78l-2-1h-15l-2 1v123"></path></g></svg></a></div></footer></div></section></div></div></div>
<script type="application/json" data-iso-key="_0">{"abstracts":{"content":[{"$$":[{"$":{"id":"st005"},"#name":"section-title","_":"Graphical abstract"},{"$$":[{"$$":[{"$$":[{"$$":[{"$":{"role":"http://data.elsevier.com/vocabulary/ElsevierContentTypes/23.4","xmlns:xlink":true,"id":"lk00015","href":"pii:S1532046419302588/ga1","locator":"ga1"},"#name":"link"}],"$":{"id":"f0015"},"#name":"figure"}],"#name":"display"}],"$":{"view":"all","id":"sp0005"},"#name":"simple-para"}],"$":{"view":"all","id":"as005"},"#name":"abstract-sec"}],"$":{"view":"all","id":"ab005","lang":"en","class":"graphical"},"#name":"abstract"},{"$$":[{"$":{"id":"st010"},"#name":"section-title","_":"Highlights"},{"$$":[{"$$":[{"$$":[{"$$":[{"#name":"label","_":"•"},{"$":{"view":"all","id":"p0005"},"#name":"para","_":"Archetype Query Language queries can be translated to the MongoDB query language."}],"$":{"id":"o0005"},"#name":"list-item"},{"$$":[{"#name":"label","_":"•"},{"$":{"view":"all","id":"p0010"},"#name":"para","_":"Archetype Query Language and MongoDB query language use the same XPath-like syntax."}],"$":{"id":"o0010"},"#name":"list-item"},{"$$":[{"#name":"label","_":"•"},{"$":{"view":"all","id":"p0015"},"#name":"para","_":"Archetype Query Language has a strong synergy with MongoDB query language."}],"$":{"id":"o0015"},"#name":"list-item"},{"$$":[{"#name":"label","_":"•"},{"$":{"view":"all","id":"p0020"},"#name":"para","_":"An Archetype Query Language interpreter into MongoDB can be very efficient."}],"$":{"id":"o0020"},"#name":"list-item"},{"$$":[{"#name":"label","_":"•"},{"$":{"view":"all","id":"p0025"},"#name":"para","_":"Archetype Query Language can surpass SQL in querying normalized medical information."}],"$":{"id":"o0025"},"#name":"list-item"}],"$":{"id":"l0005"},"#name":"list"}],"$":{"view":"all","id":"sp0010"},"#name":"simple-para"}],"$":{"view":"all","id":"as010"},"#name":"abstract-sec"}],"$":{"view":"all","id":"ab010","lang":"en","class":"author-highlights"},"#name":"abstract"},{"$$":[{"$":{"id":"st015"},"#name":"section-title","_":"Abstract"},{"$$":[{"$":{"view":"all","id":"sp0015"},"#name":"simple-para","_":"The fast development of today’s healthcare and the need to extract new medical knowledge from exponentially-growing volumes of standardized Electronic Health Records data, as required by studies in Precision Medicine, brings up a challenge that may probably only be addressed using NoSQL DBMSs, due to the non-optimal performance of traditional relational DBMSs on standardized data; and these database systems operated by semantic archetype-based query languages, because of the expected generalized extension of standardized EHR systems. An AQL into MongoDB interpreter has been developed to its first version. It translates system-independent AQL queries posed on ISO/EN 13606 standardized EHR extracts into the NoSQL MongoDB query language. The new interpreter has the advantages of both the archetype-based system-independent AQL queries and the dual-model-based standardized EHR extracts stored on document-centric NoSQL DBMSs, such as MongoDB. AQL queries are independent of applications, programming languages and system environments due to the use of the dual model, but EHR extracts featuring this model are best persisted on document-based NoSQL databases. Consequently, the interpreter allows us to query standardized EHR extracts semantically, and also affording optimal performance."}],"$":{"view":"all","id":"as015"},"#name":"abstract-sec"}],"$":{"view":"all","id":"ab015","lang":"en","class":"author"},"#name":"abstract"}],"floats":[],"footnotes":[],"attachments":[{"attachment-eid":"1-s2.0-S1532046419302588-ga1.jpg","ucs-locator":"https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046419302588/ga1/DOWNSAMPLED/image/jpeg/422cf038558be228024897afa8f2ec43/ga1.jpg","file-basename":"ga1","abstract-attachment":"true","filename":"ga1.jpg","extension":"jpg","filesize":"14010","pixel-height":"200","pixel-width":"280","attachment-type":"IMAGE-DOWNSAMPLED"},{"attachment-eid":"1-s2.0-S1532046419302588-ga1.sml","ucs-locator":"https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046419302588/ga1/THUMBNAIL/image/gif/8ac631fddce272c7cf09bf9a4f29519b/ga1.sml","file-basename":"ga1","abstract-attachment":"true","filename":"ga1.sml","extension":"sml","filesize":"9580","pixel-height":"156","pixel-width":"219","attachment-type":"IMAGE-THUMBNAIL"},{"attachment-eid":"1-s2.0-S1532046419302588-ga1_lrg.jpg","ucs-locator":"https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046419302588/ga1/HIGHRES/image/jpeg/03cf4ea387baab1042251cce8239c030/ga1_lrg.jpg","file-basename":"ga1","abstract-attachment":"true","filename":"ga1_lrg.jpg","extension":"jpg","filesize":"77725","pixel-height":"886","pixel-width":"1243","attachment-type":"IMAGE-HIGH-RES"}]},"adobeTarget":{},"article":{"analyticsMetadata":{"accountId":"228598","accountName":"ScienceDirect Guests","loginStatus":"anonymous","userId":"12975512","isLoggedIn":false},"article-number":"103339","cid":"272371","content-family":"serial","copyright-line":"© 2019 Elsevier Inc.","cover-date-years":["2020"],"cover-date-start":"2020-01-01","cover-date-text":"January 2020","document-subtype":"fla","document-type":"article","entitledToken":"42AF3802D2B7F5588EB18FA0A005C530B370D7E984439965752125A27787DE3A164E449F11C78DB9","eid":"1-s2.0-S1532046419302588","doi":"10.1016/j.jbi.2019.103339","first-fp":"103339","hub-eid":"1-s2.0-S1532046419X0012X","issuePii":"S1532046419X0012X","item-weight":"FULL-TEXT","language":"en","last-author":{"#name":"last-author","$":{"xmlns:ce":true,"xmlns:dm":true,"xmlns:sb":true},"$$":[{"#name":"author","$":{"id":"au045","author-id":"S1532046419302588-ab312b0e32fac49e31b4382883e64943"},"$$":[{"#name":"given-name","_":"Adolfo"},{"#name":"surname","_":"Muñoz-Carrero"},{"#name":"cross-ref","$":{"id":"c0055","refid":"af010"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"b"}]}]}]},"normalized-first-auth-initial":"M","normalized-first-auth-surname":"RAMOS","open-research":{"#name":"open-research","$":{"xmlns:xocs":true},"$$":[{"#name":"or-embargo-opening-date","_":"2020-11-23T00:00:00.000Z"}]},"pages":[{"first-page":"103339"}],"pii":"S1532046419302588","self-archiving":{"#name":"self-archiving","$":{"xmlns:xocs":true},"$$":[{"#name":"sa-start-date","_":"2020-11-23T00:00:00.000Z"},{"#name":"sa-user-license","_":"http://creativecommons.org/licenses/by-nc-nd/4.0/"}]},"srctitle":"Journal of Biomedical Informatics","suppl":"C","timestamp":"2021-01-01T02:31:17.266933Z","title":{"content":[{"#name":"title","$":{"id":"tm005"},"_":"An Archetype Query Language interpreter into MongoDB: Managing NoSQL standardized Electronic Health Record extracts systems"}],"floats":[],"footnotes":[],"attachments":[]},"vol-first":"101","vol-iss-suppl-text":"Volume 101","userSettings":{"forceAbstract":false,"creditCardPurchaseAllowed":true,"blockFullTextForAnonymousAccess":false,"disableWholeIssueDownload":false,"preventTransactionalAccess":false,"preventDocumentDelivery":true},"contentType":"JL","crossmark":true,"document-references":31,"freeHtmlGiven":false,"ssoUrls":["//acw.evise.com/SSOCore/update?acw=4ee2be224d415446283b5d9778f528987972gxrqb%7C%24%7C0B04C3D9EB90F7F0FDE17C417161FF328FCAD79C00C8124C95738C9F485B0D26E85EB7A6127A357AD08AA48EBE3278DD26A98E288BCA47230E9169905BBD791CB0469A67597464825D387A21AFA2E514&utt=8213-656ae19e87168b603f27591e605fbe6726e-lP","//acw.sciencedirect.com/SSOCore/update?acw=4ee2be224d415446283b5d9778f528987972gxrqb%7C%24%7C0B04C3D9EB90F7F0FDE17C417161FF328FCAD79C00C8124C95738C9F485B0D26E85EB7A6127A357AD08AA48EBE3278DD26A98E288BCA47230E9169905BBD791CB0469A67597464825D387A21AFA2E514&utt=8213-656ae19e87168b603f27591e605fbe6726e-lP","//acw.elsevier.com/SSOCore/update?acw=4ee2be224d415446283b5d9778f528987972gxrqb%7C%24%7C0B04C3D9EB90F7F0FDE17C417161FF328FCAD79C00C8124C95738C9F485B0D26E85EB7A6127A357AD08AA48EBE3278DD26A98E288BCA47230E9169905BBD791CB0469A67597464825D387A21AFA2E514&utt=8213-656ae19e87168b603f27591e605fbe6726e-lP"],"userProfile":{"departmentName":"ScienceDirect Guests","accessType":"GUEST","accountId":"228598","webUserId":"12975512","accountName":"ScienceDirect Guests","departmentId":"291352","userType":"NORMAL","hasMultipleOrganizations":false},"access":{"openAccess":true,"openArchive":true,"license":"http://www.elsevier.com/open-access/userlicense/1.0/","sponsorType":"ElsevierBranded"},"aipType":"none","articleEntitlement":{"entitled":true,"isCasaUser":false,"usageInfo":"(12975512,U|291352,D|228598,A|3,P|2,PL)(SDFE,CON|4ee2be224d415446283b5d9778f528987972gxrqb,SSO|ANON_GUEST,ACCESS_TYPE)"},"crawlerInformation":{"canCrawlPDFContent":false,"isCrawler":false},"dates":{"Available online":"13 November 2019","Received":"6 November 2018","Revised":["30 October 2019"],"Accepted":"10 November 2019","Publication date":"1 January 2020"},"displayViewFullText":false,"downloadFullIssue":true,"entitlementReason":"openarchive","headerConfig":{"helpUrl":"https://service.elsevier.com/app/home/supporthub/sciencedirect/","contactUrl":"https://service.elsevier.com/app/contact/supporthub/sciencedirect/","userName":"","userEmail":"","orgName":"ScienceDirect Guests","webUserId":"12975512","libraryBanner":{},"shib_regUrl":"","tick_regUrl":"","recentInstitutions":[],"canActivatePersonalization":false,"hasInstitutionalAssociation":false,"hasMultiOrg":false,"userType":"GUEST","userAnonymity":"ANON_GUEST","allowCart":true,"environment":"prod","cdnAssetsHost":"https://sdfestaticassets-us-east-1.sciencedirectassets.com"},"indexTag":true,"isCorpReq":false,"issn":"15320464","issn-primary-formatted":"1532-0464","issRange":"","pdfDownload":{"linkType":"DOWNLOAD","isPdfFullText":false,"urlMetadata":{"queryParams":{"md5":"6bab1edb6f2e0a722ff2f3aceef5c78a","pid":"1-s2.0-S1532046419302588-main.pdf"},"pii":"S1532046419302588","pdfExtension":"/pdfft","path":"science/article/pii"}},"pdfEmbed":false,"publication-content":{"noElsevierLogo":false,"imprintPublisher":{"displayName":"Academic Press","id":"350"},"isSpecialIssue":false,"isSampleIssue":false,"transactionsBlocked":false,"publicationOpenAccess":{"oaStatus":"Partial","oaArticleCount":2618,"openArchiveStatus":true,"openArchiveArticleCount":2461,"openAccessStartDate":"","oaAllowsAuthorPaid":true},"issue-cover":{"attachment":[{"attachment-eid":"1-s2.0-S1532046419X0012X-cov200h.gif","file-basename":"cov200h","extension":"gif","filename":"cov200h.gif","ucs-locator":["https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046419X0012X/cover/DOWNSAMPLED200/image/gif/ea21e3786ed362c4c7c0f7a6312bc852/cov200h.gif"],"attachment-type":"IMAGE-COVER-H200","filesize":"21059","pixel-height":"200","pixel-width":"150"},{"attachment-eid":"1-s2.0-S1532046419X0012X-cov150h.gif","file-basename":"cov150h","extension":"gif","filename":"cov150h.gif","ucs-locator":["https://s3.amazonaws.com/prod-ucs-content-store-us-east/content/pii:S1532046419X0012X/cover/DOWNSAMPLED/image/gif/25f3ca8028717b562eb612827b2582e0/cov150h.gif"],"attachment-type":"IMAGE-COVER-H150","filesize":"12863","pixel-height":"150","pixel-width":"113"}]},"smallCoverUrl":"https://ars.els-cdn.com/content/image/S15320464.gif","title":"journal-of-biomedical-informatics","contentTypeCode":"JL","sourceOpenAccess":false,"publicationCoverImageUrl":"https://ars.els-cdn.com/content/image/1-s2.0-S1532046419X0012X-cov150h.gif"},"useEnhancedReader":true,"volRange":"101","features":["aamAttachments","keywords","references","preview"],"titleString":"An Archetype Query Language interpreter into MongoDB: Managing NoSQL standardized Electronic Health Record extracts systems","onAbstractAllowlist":true,"renderingMode":"Article","isAbstract":false,"isContentVisible":false,"ajaxLinks":{"referenceLinks":true,"references":true,"referredToBy":true,"toc":true,"body":true,"recommendations":true,"citingArticles":true,"authorMetadata":true},"eligibleForUniversalPdf":false},"authors":{"content":[{"#name":"author-group","$":{"id":"ag005"},"$$":[{"#name":"author","$":{"id":"au005","author-id":"S1532046419302588-26e8e784d7b81fe0df0ec9dbdccabdf4"},"$$":[{"#name":"given-name","_":"Miguel"},{"#name":"surname","_":"Ramos"},{"#name":"cross-ref","$":{"id":"c0010","refid":"af005"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"a"}]}]},{"#name":"author","$":{"id":"au010","author-id":"S1532046419302588-cfc3cbe6000972bc19b594e916edb48f"},"$$":[{"#name":"given-name","_":"Ricardo"},{"#name":"surname","_":"Sánchez-de-Madariaga"},{"#name":"cross-ref","$":{"id":"c0015","refid":"af010"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"b"}]},{"#name":"cross-ref","$":{"id":"c0020","refid":"cor1"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"⁎"}]},{"#name":"e-address","$":{"xmlns:xlink":true,"id":"em005","type":"email","href":"mailto:ricardo.sanchez@isciii.es"},"_":"ricardo.sanchez@isciii.es"}]},{"#name":"author","$":{"id":"au015","author-id":"S1532046419302588-5fb9623f302c8392f585240192e0406a"},"$$":[{"#name":"given-name","_":"Jesús"},{"#name":"surname","_":"Barros"},{"#name":"cross-ref","$":{"id":"c0025","refid":"af005"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"a"}]}]},{"#name":"author","$":{"id":"au020","author-id":"S1532046419302588-0045169672b3c53f7d833e8041fd3a78"},"$$":[{"#name":"given-name","_":"Lino"},{"#name":"surname","_":"Carrajo"},{"#name":"cross-ref","$":{"id":"c0030","refid":"af005"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"a"}]}]},{"#name":"author","$":{"id":"au025","author-id":"S1532046419302588-07e2795c242f5e1193c2217d79fc2ec9"},"$$":[{"#name":"given-name","_":"Guillermo"},{"#name":"surname","_":"Vázquez"},{"#name":"cross-ref","$":{"id":"c0035","refid":"af005"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"a"}]}]},{"#name":"author","$":{"id":"au030","author-id":"S1532046419302588-75f11e2e4cadf3dd07a1331cee2f42c5"},"$$":[{"#name":"given-name","_":"Santiago"},{"#name":"surname","_":"Pérez"},{"#name":"cross-ref","$":{"id":"c0040","refid":"af010"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"b"}]}]},{"#name":"author","$":{"id":"au035","author-id":"S1532046419302588-96d4a7d5ac951955e6022863e28f54a4"},"$$":[{"#name":"given-name","_":"Mario"},{"#name":"surname","_":"Pascual"},{"#name":"cross-ref","$":{"id":"c0045","refid":"af010"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"b"}]}]},{"#name":"author","$":{"id":"au040","author-id":"S1532046419302588-3d5366eea91b7496876f15adc5476b28"},"$$":[{"#name":"given-name","_":"Fernando"},{"#name":"surname","_":"Martín-Sánchez"},{"#name":"cross-ref","$":{"id":"c0050","refid":"af010"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"b"}]}]},{"#name":"author","$":{"id":"au045","author-id":"S1532046419302588-ab312b0e32fac49e31b4382883e64943"},"$$":[{"#name":"given-name","_":"Adolfo"},{"#name":"surname","_":"Muñoz-Carrero"},{"#name":"cross-ref","$":{"id":"c0055","refid":"af010"},"$$":[{"#name":"sup","$":{"loc":"post"},"_":"b"}]}]},{"#name":"affiliation","$":{"id":"af005","affiliation-id":"S1532046419302588-c72bdba6ae38d28e7a6a6020c6375c84"},"$$":[{"#name":"label","_":"a"},{"#name":"textfn","_":"Advances in Telemedicine and Health Informatics (ATIS), Biomedical Research Institute of A Coruña (INIBIC), A Coruña, Spain"},{"#name":"affiliation","$":{"xmlns:sa":true},"$$":[{"#name":"organization","_":"Advances in Telemedicine and Health Informatics (ATIS)"},{"#name":"organization","_":"Biomedical Research Institute of A Coruña (INIBIC)"},{"#name":"city","_":"A Coruña"},{"#name":"country","_":"Spain"}]},{"#name":"source-text","$":{"id":"stx005"},"_":"Advances in Telemedicine and Health Informatics (ATIS), Biomedical Research Institute of A Coruña (INIBIC), A Coruña, Spain"}]},{"#name":"affiliation","$":{"id":"af010","affiliation-id":"S1532046419302588-940d8f8c4c9a662a9f9707c7f5c2d394"},"$$":[{"#name":"label","_":"b"},{"#name":"textfn","_":"Telemedicine and and eHealth Research Dept., Instituto de Salud Carlos III (ISCIII), Madrid, Spain"},{"#name":"affiliation","$":{"xmlns:sa":true},"$$":[{"#name":"organization","_":"Telemedicine and and eHealth Research Dept."},{"#name":"organization","_":"Instituto de Salud Carlos III (ISCIII)"},{"#name":"city","_":"Madrid"},{"#name":"country","_":"Spain"}]},{"#name":"source-text","$":{"id":"stx010"},"_":"Telemedicine and and eHealth Research Dept., Instituto de Salud Carlos III (ISCIII), Madrid, Spain"}]},{"#name":"correspondence","$":{"id":"cor1"},"$$":[{"#name":"label","_":"⁎"},{"#name":"text","_":"Corresponding author at: Telemedicine and eHealth Research Dept., Avda. Monforte de Lemos 5, 28029 Madrid, Spain."},{"#name":"affiliation","$":{"xmlns:sa":true},"$$":[{"#name":"organization","_":"Telemedicine and eHealth Research Dept."},{"#name":"address-line","_":"Avda. Monforte de Lemos 5"},{"#name":"city","_":"28029 Madrid"},{"#name":"country","_":"Spain"}]}]}]}],"floats":[],"footnotes":[],"affiliations":{"af005":{"#name":"affiliation","$":{"id":"af005","affiliation-id":"S1532046419302588-c72bdba6ae38d28e7a6a6020c6375c84"},"$$":[{"#name":"label","_":"a"},{"#name":"textfn","_":"Advances in Telemedicine and Health Informatics (ATIS), Biomedical Research Institute of A Coruña (INIBIC), A Coruña, Spain"},{"#name":"affiliation","$":{"xmlns:sa":true},"$$":[{"#name":"organization","_":"Advances in Telemedicine and Health Informatics (ATIS)"},{"#name":"organization","_":"Biomedical Research Institute of A Coruña (INIBIC)"},{"#name":"city","_":"A Coruña"},{"#name":"country","_":"Spain"}]},{"#name":"source-text","$":{"id":"stx005"},"_":"Advances in Telemedicine and Health Informatics (ATIS), Biomedical Research Institute of A Coruña (INIBIC), A Coruña, Spain"}]},"af010":{"#name":"affiliation","$":{"id":"af010","affiliation-id":"S1532046419302588-940d8f8c4c9a662a9f9707c7f5c2d394"},"$$":[{"#name":"label","_":"b"},{"#name":"textfn","_":"Telemedicine and and eHealth Research Dept., Instituto de Salud Carlos III (ISCIII), Madrid, Spain"},{"#name":"affiliation","$":{"xmlns:sa":true},"$$":[{"#name":"organization","_":"Telemedicine and and eHealth Research Dept."},{"#name":"organization","_":"Instituto de Salud Carlos III (ISCIII)"},{"#name":"city","_":"Madrid"},{"#name":"country","_":"Spain"}]},{"#name":"source-text","$":{"id":"stx010"},"_":"Telemedicine and and eHealth Research Dept., Instituto de Salud Carlos III (ISCIII), Madrid, Spain"}]}},"correspondences":{"cor1":{"#name":"correspondence","$":{"id":"cor1"},"$$":[{"#name":"label","_":"⁎"},{"#name":"text","_":"Corresponding author at: Telemedicine and eHealth Research Dept., Avda. Monforte de Lemos 5, 28029 Madrid, Spain."},{"#name":"affiliation","$":{"xmlns:sa":true},"$$":[{"#name":"organization","_":"Telemedicine and eHealth Research Dept."},{"#name":"address-line","_":"Avda. Monforte de Lemos 5"},{"#name":"city","_":"28029 Madrid"},{"#name":"country","_":"Spain"}]}]}},"attachments":[],"scopusAuthorIds":{},"articles":{}},"authorMetadata":[],"banner":{"expanded":false},"biographies":{},"body":{},"browser":{"name":"Chrome","engine":"Blink"},"chapters":{"toc":[],"isLoading":false},"changeViewLinks":{"showFullTextLink":false,"showAbstractLink":true},"citingArticles":{},"clinicalKey":{},"combinedContentItems":{"content":[{"#name":"keywords","$$":[{"#name":"keywords","$":{"xmlns:ce":true,"xmlns:aep":true,"xmlns:xoe":true,"xmlns:mml":true,"xmlns:xs":true,"xmlns:xlink":true,"xmlns:xocs":true,"xmlns:tb":true,"xmlns:xsi":true,"xmlns:cals":true,"xmlns:sb":true,"xmlns:sa":true,"xmlns:ja":true,"xmlns":true,"class":"keyword","id":"kg005","view":"all"},"$$":[{"#name":"section-title","$":{"id":"st020"},"_":"Keywords"},{"#name":"keyword","$":{"id":"k0005"},"$$":[{"#name":"text","_":"Information storage and retrieval"}]},{"#name":"keyword","$":{"id":"k0010"},"$$":[{"#name":"text","_":"Health information interoperability"}]},{"#name":"keyword","$":{"id":"k0015"},"$$":[{"#name":"text","_":"Databases"}]},{"#name":"keyword","$":{"id":"k0020"},"$$":[{"#name":"text","_":"Management information systems"}]},{"#name":"keyword","$":{"id":"k0025"},"$$":[{"#name":"text","_":"Medical record systems"}]},{"#name":"keyword","$":{"id":"k0030"},"$$":[{"#name":"text","_":"Electronic Health Records"}]}]}]}],"floats":[],"footnotes":[],"attachments":[]},"crossMark":{"isOpen":false},"downloadIssue":{"openOnPageLoad":false,"isOpen":false,"downloadCapOpen":false,"articles":[],"selected":[]},"enrichedContent":{"tableOfContents":false,"researchData":{"hasResearchData":false,"dataProfile":{},"openData":{},"mendeleyData":{},"databaseLinking":{}},"geospatialData":{"attachments":[]},"interactiveCaseInsights":{},"virtualMicroscope":{}},"entitledRecommendations":{"openOnPageLoad":false,"isOpen":false,"articles":[],"selected":[],"currentPage":1,"totalPages":1},"exam":{},"glossary":{},"issueNavigation":{"previous":{},"next":{}},"linkingHubLinks":[],"metrics":{"isOpen":true},"preview":{},"previewFigures":{},"purchasePdf":{"isOpen":false},"rawtext":"","recommendations":{},"references":{},"referenceLinks":{"internal":[],"external":[]},"refersTo":{},"referredToBy":{},"relatedContent":{"isModal":false,"isOpenSpecialIssueArticles":false,"isOpenRecommendations":true,"isOpenCitingArticles":false,"citingArticles":[false,false,false],"recommendations":[false,false,false,false,false,false],"specialIssueArticles":[false,false,false]},"seamlessAccess":{},"signInFromEmail":{"isOpen":false},"specialIssueArticles":{},"supplementaryFilesData":[],"tableOfContents":{"showEntitledTocLinks":true},"tail":{},"transientError":{"isOpen":false},"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.72 Safari/537.36","workspace":{"isOpen":false},"viewOnlyPdf":{"showViewOnlyPdfButton":false,"token":""},"virtualSpecialIssue":{"showVirtualSpecialIssueLink":false}}</script>
<iframe style="display: none" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/update.html" tabindex="-1"></iframe><iframe style="display: none" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/update(1).html" tabindex="-1"></iframe><iframe style="display: none" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/update(2).html" tabindex="-1"></iframe>
<script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/launch-a6263b31083f.min.js.download" type="text/javascript"></script><script>
var pageDataTracker = {
    eventCookieName: 'eventTrack',
    debugCookie: 'els-aa-debugmode',
    debugCounter: 1,
    warnings: [],
    measures: {},
    timeoffset: 0

    ,trackPageLoad: function(data) {
        if (window.pageData && ((pageData.page && pageData.page.noTracking == 'true') || window.pageData_isLoaded)) {
            return false;
        }

        if (data) {
            window.pageData = data;
        }

        this.initWarnings();
        if(!(window.pageData && pageData.page && pageData.page.name)) {
            console.error('pageDataTracker.trackPageLoad() called without pageData.page.name being defined!');
            return;
        }

        this.processIdPlusData(window.pageData);

        if(window.pageData && pageData.page && !pageData.page.loadTime) {
          pageData.page.loadTime = performance ? Math.round((performance.now())).toString() : '';
        }

        if(window.pageData && pageData.page) {
            var localTime = new Date().getTime();
            if(pageData.page.loadTimestamp) {
                // calculate timeoffset
                var serverTime = parseInt(pageData.page.loadTimestamp);
                if(!isNaN(serverTime)) {
                    this.timeoffset = pageData.page.loadTimestamp - localTime;
                }
            } else {
                pageData.page.loadTimestamp = localTime;
            }
        }

        this.validateData(window.pageData);

        try {
            var cookieTest = 'aa-cookie-test';
            this.setCookie(cookieTest, cookieTest);
            if(this.getCookie(cookieTest) != cookieTest) {
                this.warnings.push('dtm5');
            }
            this.deleteCookie(cookieTest);
        } catch(e){
            this.warnings.push('dtm5');
        }

        this.registerCallbacks();
        this.setAnalyticsData();

        // handle any cookied event data
        this.getEvents();

        window.pageData_isLoaded = true;

        this.debugMessage('Init - trackPageLoad()', window.pageData);

        _satellite.track('eventDispatcher', JSON.stringify({
          eventName: 'newPage',
          eventData: {eventName: 'newPage'},
          pageData: window.pageData
        }));
    }

    ,trackEvent: function(event, data, callback) {
        if(!window.pageData_isLoaded) {
            if(this.isDebugEnabled()) {
                console.log('[AA] pageDataTracker.trackEvent() called without calling trackPageLoad() first.');
            }
            return false;
        }
        if (window.pageData && pageData.page && pageData.page.noTracking == 'true') {
            return false;
        }
        try {
          var ctaBlacklist = ["article:view_abstract_link",
              "reaxys-image",                
              "article:view_fulltext_link",
              "sd:article:mendeley-extensionlink",
              "sd:article:sdf-singledownload",
              "sd:article:sdf-bulkdownload",
              "sd:article:sdf-morethan50",
              "sd:article:sdf-singledownload:appendix",
              "sd:article:sdf-bulkdownload:appendix",
              "sd:article:sdf-bulkdownload:outline",
              "sd:article:special-issue",
              "sd:article:virtual-special-issue-link"]

          if(event == 'ctaImpression' && ctaBlacklist.indexOf(data.cta.ids[0]) >= 0) {
              return;
          }
        } catch(e) {}

        if (event) {
            this.initWarnings();
            if(event === 'newPage') {
                // auto fillings
                if(data.page && !data.page.loadTimestamp) {
                    data.page.loadTimestamp = ''+(new Date().getTime() + this.timeoffset);
                }
                this.processIdPlusData(data);
            }

            window.eventData = data ? data : {};
            window.eventData.eventName = event;
            this.handleEventData(event, data);

            if(event === 'newPage') {
                this.validateData(window.pageData);
            }
            this.debugMessage('Event: ' + event, data);

            _satellite.track('eventDispatcher', JSON.stringify({
              eventName: event,
              eventData: window.eventData,
              pageData: window.pageData
            }));
        }

        if (typeof(callback) == 'function') {
            callback.call();
        }
    }

    ,processIdPlusData: function(data) {
        if(data && data.visitor && data.visitor.idPlusData) {
            var idPlusFields = ['userId', 'accessType', 'accountId', 'accountName'];
            for(var i=0; i < idPlusFields.length; i++) {
                if(typeof data.visitor.idPlusData[idPlusFields[i]] !== 'undefined') {
                    data.visitor[idPlusFields[i]] = data.visitor.idPlusData[idPlusFields[i]];
                }
            }
            data.visitor.idPlusData = undefined;
        }
    }

    ,validateData: function(data) {
        if(!data) {
            this.warnings.push('dv0');
            return;
        }

        // top 5
        if(!(data.visitor && data.visitor.accessType)) {
            this.warnings.push('dv1');
        }
        if(data.visitor && (data.visitor.accountId || data.visitor.accountName)) {
            if(!data.visitor.accountName) {
                this.warnings.push('dv2');
            }
            if(!data.visitor.accountId) {
                this.warnings.push('dv3');
            }
        }
        if(!(data.page && data.page.productName)) {
            this.warnings.push('dv4');
        }
        if(!(data.page && data.page.businessUnit)) {
            this.warnings.push('dv5');
        }
        if(!(data.page && data.page.name)) {
            this.warnings.push('dv6');
        }

        // rp mandatory
        if(data.page && data.page.businessUnit && (data.page.businessUnit.toLowerCase().indexOf('els:rp:') !== -1 || data.page.businessUnit.toLowerCase().indexOf('els:rap:') !== -1)) {
            if(!(data.page && data.page.loadTimestamp)) {
                this.warnings.push('dv7');
            }
            if(!(data.page && data.page.loadTime)) {
                this.warnings.push('dv8');
            }
            if(!(data.visitor && data.visitor.ipAddress)) {
                this.warnings.push('dv9');
            }
            if(!(data.page && data.page.type)) {
                this.warnings.push('dv10');
            }
            if(!(data.page && data.page.language)) {
                this.warnings.push('dv11');
            }
        }

        // other
        if(data.page && data.page.environment) {
            var env = data.page.environment.toLowerCase();
            if(!(env === 'dev' || env === 'cert' || env === 'prod')) {
                this.warnings.push('dv12');
            }
        }
        if(data.content && data.content.constructor !== Array) {
            this.warnings.push('dv13');
        }
    }

    ,initWarnings: function() {
        this.warnings = [];
        try {
            var hdn = document.head.childNodes;
            var libf = false;
            for(var i=0; i<hdn.length; i++) {
                if(hdn[i].src && (hdn[i].src.indexOf('satelliteLib') !== -1 || hdn[i].src.indexOf('launch') !== -1)) {
                    libf = true;
                    break;
                }
            }
            if(!libf) {
                this.warnings.push('dtm1');
            }
        } catch(e) {
        }
    }

    ,getMessages: function() {
        return this.warnings.join('|');
    }
    ,addMessage: function(message) {
        this.warnings.push(message);
    }

    ,getPerformance: function() {
        var copy = {};
        for (var attr in this.measures) {
            if(this.measures.hasOwnProperty(attr)) {
                copy[attr] = this.measures[attr];
            }
        }

        this.measures = {};
        return copy;
    }

    ,dtmCodeDesc: {
        dtm1: 'satellite-lib must be placed in the <head> section',
        dtm2: 'trackPageLoad() must be placed and called before the closing </body> tag',
        dtm3: 'trackEvent() must be called at a stage where Document.readyState=complete (e.g. on the load event or a user event)',
        dv1: 'visitor.accessType not set but mandatory',
        dv2: 'visitor.accountName not set but mandatory',
        dv3: 'visitor.accountId not set but mandatory',
        dv4: 'page.productName not set but mandatory',
        dv5: 'page.businessUnit not set but mandatory',
        dv6: 'page.name not set but mandatory',
        dv7: 'page.loadTimestamp not set but mandatory',
        dv8: 'page.loadTime not set but mandatory',
        dv9: 'visitor.ipAddress not set but mandatory',
        dv10: 'page.type not set but mandatory',
        dv11: 'page.language not set but mandatory',
        dv12: 'page.environment must be set to \'prod\', \'cert\' or \'dev\'',
        dv13: 'content must be of type array of objects'
    }

    ,debugMessage: function(event, data) {
        if(this.isDebugEnabled()) {
            console.log('[AA] --------- [' + (this.debugCounter++) + '] Web Analytics Data ---------');
            console.log('[AA] ' + event);
            console.groupCollapsed("[AA] AA Data: ");
            if(window.eventData) {
                console.log("[AA] eventData:\n" + JSON.stringify(window.eventData, true, 2));
            }
            if(window.pageData) {
                console.log("[AA] pageData:\n" + JSON.stringify(window.pageData, true, 2));
            }
            console.groupEnd();
            if(this.warnings.length > 0) {
                console.groupCollapsed("[AA] Warnings ("+this.warnings.length+"): ");
                for(var i=0; i<this.warnings.length; i++) {
                    var error = this.dtmCodeDesc[this.warnings[i]] ? this.dtmCodeDesc[this.warnings[i]] : 'Error Code: ' + this.warnings[i];
                    console.log('[AA] ' + error);
                }
                console.log('[AA] More can be found here: https://confluence.cbsels.com/display/AA/AA+Error+Catalog');
                console.groupEnd();
            }
            console.log("This mode can be disabled by calling 'pageDataTracker.disableDebug()'");
        }
    }

    ,getTrackingCode: function() {
      var campaign = _satellite.getVar('Campaign - ID');
      if(!campaign) {
        campaign = window.sessionStorage ? sessionStorage.getItem('dgcid') : '';
      }
      return campaign;
    }

    ,isDebugEnabled: function() {
        if(typeof this.debug === 'undefined') {
            this.debug = (document.cookie.indexOf(this.debugCookie) !== -1) || (window.pageData && pageData.page && pageData.page.environment && pageData.page.environment.toLowerCase() === 'dev');
            //this.debug = (document.cookie.indexOf(this.debugCookie) !== -1);
        }
        return this.debug;
    }

    ,enableDebug: function(expire) {
        if (typeof expire === 'undefined') {
            expire = 86400;
        }
        console.log('You just enabled debug mode for Adobe Analytics tracking. This mode will persist for 24h.');
        console.log("This mode can be disabled by calling 'pageDataTracker.disableDebug()'");
        this.setCookie(this.debugCookie, 'true', expire, document.location.hostname);
        this.debug = true;
    }

    ,disableDebug: function() {
        console.log('Debug mode is now disabled.');
        this.deleteCookie(this.debugCookie);
        this.debug = false;
    }

    ,setAnalyticsData: function() {
        if(!(window.pageData && pageData.page && pageData.page.productName && pageData.page.name)) {
            return;
        }
        pageData.page.analyticsPagename = pageData.page.productName + ':' + pageData.page.name;

        var pageEls = pageData.page.name.indexOf(':') > -1 ? pageData.page.name.split(':') : [pageData.page.name];
        pageData.page.sectionName = pageData.page.productName + ':' + pageEls[0];
    }

    ,getEvents: function() {
        pageData.savedEvents = {};
        pageData.eventList = [];

        var val = this.getCookie(this.eventCookieName);
        if (val) {
            pageData.savedEvents = val;
        }

        this.deleteCookie(this.eventCookieName);
    }

    ,handleEventData: function(event, data) {
        var val;
        switch(event) {
            case 'newPage':
                if (data && typeof(data) === 'object') {
                    for (var x in data) {
                        if(data.hasOwnProperty(x) && data[x] instanceof Array) {
                            pageData[x] = data[x];
                        } else if(data.hasOwnProperty(x) && typeof(data[x]) === 'object') {
                            if(!pageData[x]) {
                                pageData[x] = {};
                            }
                            for (var y in data[x]) {
                                if(data[x].hasOwnProperty(y)) {
                                    pageData[x][y] = data[x][y];
                                }
                            }
                        }
                    }
                }
                this.setAnalyticsData();
            case 'saveSearch':
            case 'searchResultsUpdated':
                if (data) {
                    // overwrite page-load object
                    if (data.search && typeof(data.search) == 'object') {
                        window.eventData.search.resultsPosition = '';
                        pageData.search = pageData.search || {};
                        var fields = ['advancedCriteria', 'criteria', 'currentPage', 'dataFormCriteria', 'facets', 'resultsByType', 'resultsPerPage', 'sortType', 'totalResults', 'type', 'database',
                        'suggestedClickPosition','suggestedLetterCount','suggestedResultCount', 'autoSuggestCategory', 'autoSuggestDetails','typedTerm','selectedTerm', 'channel',
                        'facetOperation', 'details'];
                        for (var i=0; i<fields.length; i++) {
                            if (data.search[fields[i]]) {
                                pageData.search[fields[i]] = data.search[fields[i]];
                            }
                        }
                    }
                }
                this.setAnalyticsData();
                break;
            case 'navigationClick':
                if (data && data.link) {
                    window.eventData.navigationLink = {
                        name: ((data.link.location || 'no location') + ':' + (data.link.name || 'no name'))
                    };
                }
                break;
            case 'autoSuggestClick':
                if (data && data.search) {
                    val = {
                        autoSuggestSearchData: (
                            'letterct:' + (data.search.suggestedLetterCount || 'none') +
                            '|resultct:' + (data.search.suggestedResultCount || 'none') +
                            '|clickpos:' + (data.search.suggestedClickPosition || 'none')
                        ).toLowerCase(),
                        autoSuggestSearchTerm: (data.search.typedTerm || ''),
                        autoSuggestTypedTerm: (data.search.typedTerm || ''),
                        autoSuggestSelectedTerm: (data.search.selectedTerm || ''),
                        autoSuggestCategory: (data.search.autoSuggestCategory || ''),
                        autoSuggestDetails: (data.search.autoSuggestDetails || '')
                    };
                }
                break;
            case 'linkOut':
                if (data && data.content && data.content.length > 0) {
                    window.eventData.linkOut = data.content[0].linkOut;
                    window.eventData.referringProduct = _satellite.getVar('Page - Product Name') + ':' + data.content[0].id;
                }
                break;
            case 'socialShare':
                if (data && data.social) {
                    window.eventData.sharePlatform = data.social.sharePlatform || '';
                }
                break;
            case 'contentInteraction':
                if (data && data.action) {
                    window.eventData.action.name = pageData.page.productName + ':' + data.action.name;
                }
                break;
            case 'searchWithinContent':
                if (data && data.search) {
                    window.pageData.search = window.pageData.search || {};
                    pageData.search.withinContentCriteria = data.search.withinContentCriteria;
                }
                break;
            case 'contentShare':
                if (data && data.content) {
                    window.eventData.sharePlatform = data.content[0].sharePlatform;
                }
                break;
            case 'contentLinkClick':
                if (data && data.link) {
                    window.eventData.action = { name: pageData.page.productName + ':' + (data.link.type || 'no link type') + ':' + (data.link.name || 'no link name') };
                }
                break;
            case 'contentWindowLoad':
            case 'contentTabClick':
                if (data && data.content) {
                    window.eventData.tabName = data.content[0].tabName || '';
                    window.eventData.windowName = data.content[0].windowName || '';
                }
                break;
            case 'userProfileUpdate':
                if (data && data.user) {
                    if (Object.prototype.toString.call(data.user) === "[object Array]") {
                        window.eventData.user = data.user[0];
                    }
                }
                break;
            case 'videoStart':
                if (data.video) {
                    data.video.length = parseFloat(data.video.length || '0');
                    data.video.position = parseFloat(data.video.position || '0');
                    s.Media.open(data.video.id, data.video.length, s.Media.playerName);
                    s.Media.play(data.video.id, data.video.position);
                }
                break;
            case 'videoPlay':
                if (data.video) {
                    data.video.position = parseFloat(data.video.position || '0');
                    s.Media.play(data.video.id, data.video.position);
                }
                break;
            case 'videoStop':
                if (data.video) {
                    data.video.position = parseFloat(data.video.position || '0');
                    s.Media.stop(data.video.id, data.video.position);
                }
                break;
            case 'videoComplete':
                if (data.video) {
                    data.video.position = parseFloat(data.video.position || '0');
                    s.Media.stop(data.video.id, data.video.position);
                    s.Media.close(data.video.id);
                }
                break;
            case 'addWebsiteExtension':
                if(data && data.page) {
                    val = {
                        wx: data.page.websiteExtension
                    }
                }
                break;
        }

        if (val) {
            this.setCookie(this.eventCookieName, val);
        }
    }

    ,registerCallbacks: function() {
        var self = this;
        if(window.usabilla_live) {
            window.usabilla_live('setEventCallback', function(category, action, label, value) {
                if(action == 'Campaign:Open') {
                    self.trackEvent('ctaImpression', {
                        cta: {
                            ids: ['usabillaid:' + label]
                        }
                    });
                } else if(action == 'Campaign:Success') {
                    self.trackEvent('ctaClick', {
                        cta: {
                            ids: ['usabillaid:' + label]
                        }
                    });
                }
            });
        }
    }

    ,getConsortiumAccountId: function() {
        var id = '';
        if (window.pageData && pageData.visitor && (pageData.visitor.consortiumId || pageData.visitor.accountId)) {
            id = (pageData.visitor.consortiumId || 'no consortium ID') + '|' + (pageData.visitor.accountId || 'no account ID');
        }

        return id;
    }

    ,getSearchClickPosition: function() {
        if (window.eventData && eventData.search && eventData.search.resultsPosition) {
            var pos = parseInt(eventData.search.resultsPosition), clickPos;
            if (!isNaN(pos)) {
                var page = pageData.search.currentPage ? parseInt(pageData.search.currentPage) : '', perPage = pageData.search.resultsPerPage ? parseInt(pageData.search.resultsPerPage) : '';
                if (!isNaN(page) && !isNaN(perPage)) {
                    clickPos = pos + ((page - 1) * perPage);
                }
            }
            return clickPos ? clickPos.toString() : eventData.search.resultsPosition;
        }
        return '';
    }

    ,getSearchFacets: function() {
        var facetList = '';
        if (window.pageData && pageData.search && pageData.search.facets) {
            if (typeof(pageData.search.facets) == 'object') {
                for (var i=0; i<pageData.search.facets.length; i++) {
                    var f = pageData.search.facets[i];
                    facetList += (facetList ? '|' : '') + f.name + '=' + f.values.join('^');
                }
            }
        }
        return facetList;
    }

    ,getSearchResultsByType: function() {
        var resultTypes = '';
        if (window.pageData && pageData.search && pageData.search.resultsByType) {
            for (var i=0; i<pageData.search.resultsByType.length; i++) {
                var r = pageData.search.resultsByType[i];
                resultTypes += (resultTypes ? '|' : '') + r.name + (r.results || r.values ? '=' + (r.results || r.values) : '');
            }
        }
        return resultTypes;
    }

    ,getJournalInfo: function() {
        var info = '';
        if (window.pageData && pageData.journal && (pageData.journal.name || pageData.journal.specialty || pageData.journal.section || pageData.journal.issn || pageData.journal.issueNumber || pageData.journal.volumeNumber)) {
            var journal = pageData.journal;
            return (journal.name || 'no name') + '|' + (journal.specialty || 'no specialty') + '|' + (journal.section || 'no section') + '|' + (journal.issn || 'no issn') + '|' + (journal.issueNumber || 'no issue #') + '|' + (journal.volumeNumber || 'no volume #');
        }
        return info;
    }

    ,getBibliographicInfo: function(doc) {
        if (!doc || !(doc.publisher || doc.indexTerms || doc.publicationType || doc.publicationRights || doc.volumeNumber || doc.issueNumber || doc.subjectAreas || doc.isbn)) {
            return '';
        }

        var terms = doc.indexTerms ? doc.indexTerms.split('+') : '';
        if (terms) {
            terms = terms.slice(0, 5).join('+');
            terms = terms.length > 100 ? terms.substring(0, 100) : terms;
        }

        var areas = doc.subjectAreas ? doc.subjectAreas.split('>') : '';
        if (areas) {
            areas = areas.slice(0, 5).join('>');
            areas = areas.length > 100 ? areas.substring(0, 100) : areas;
        }

        var biblio	= (doc.publisher || 'none')
            + '^' + (doc.publicationType || 'none')
            + '^' + (doc.publicationRights || 'none')
            + '^' + (terms || 'none')
            + '^' + (doc.volumeNumber || 'none')
            + '^' + (doc.issueNumber || 'none')
            + '^' + (areas || 'none')
            + '^' + (doc.isbn || 'none');

        return this.stripProductDelimiters(biblio).toLowerCase();
    }

    ,getContentItem: function() {
        var docs = window.eventData && eventData.content ? eventData.content : pageData.content;
        if (docs && docs.length > 0) {
            return docs[0];
        }
    }

    ,getFormattedDate: function(ts) {
        if (!ts) {
            return '';
        }

        var d = new Date(parseInt(ts) * 1000);

        // now do formatting
        var year = d.getFullYear()
            ,month = ((d.getMonth() + 1) < 10 ? '0' : '') + (d.getMonth() + 1)
            ,date = (d.getDate() < 10 ? '0' : '') + d.getDate()
            ,hours = d.getHours() > 12 ? d.getHours() - 12 : d.getHours()
            ,mins = (d.getMinutes() < 10 ? '0' : '') + d.getMinutes()
            ,ampm = d.getHours() > 12 ? 'pm' : 'am';

        hours = (hours < 10 ? '0' : '') + hours;
        return year + '-' + month + '-' + date;
    }

    ,getVisitorId: function() {
        var orgId = '4D6368F454EC41940A4C98A6@AdobeOrg';
        if(Visitor && Visitor.getInstance(orgId)) {
            return Visitor.getInstance(orgId).getMarketingCloudVisitorID();
        } else {
            return ''
        }
    }

    ,setProductsVariable: function() {
        var prodList = window.eventData && eventData.content ? eventData.content : pageData.content
            ,prods = [];
        if (prodList) {
            for (var i=0; i<prodList.length; i++) {
                if (prodList[i].id || prodList[i].type || prodList[i].publishDate || prodList[i].onlineDate) {
                    if (!prodList[i].id) {
                        prodList[i].id = 'no id';
                    }
                    var prodName = (pageData.page.productName || 'xx').toLowerCase();
                    if (prodList[i].id.indexOf(prodName + ':') != 0) {
                        prodList[i].id = prodName + ':' + prodList[i].id;
                    }
                    prodList[i].id = this.stripProductDelimiters(prodList[i].id);
                    var merch = [];
                    if (prodList[i].format) {
                        merch.push('evar17=' + this.stripProductDelimiters(prodList[i].format.toLowerCase()));
                    }
                    if (prodList[i].type) {
                        var type = prodList[i].type;
                        if (prodList[i].accessType) {
                            type += ':' + prodList[i].accessType;
                        }
                        merch.push('evar20=' + this.stripProductDelimiters(type.toLowerCase()));
                    }
                    if(!prodList[i].title) {
                        prodList[i].title = prodList[i].name;
                    }
                    if (prodList[i].title) {
                        merch.push('evar75=' + this.stripProductDelimiters(prodList[i].title.toLowerCase()));
                    }
                    if (prodList[i].breadcrumb) {
                        merch.push('evar63=' + this.stripProductDelimiters(prodList[i].breadcrumb).toLowerCase());
                    }
                    var nowTs = new Date().getTime()/1000;
                    if (prodList[i].onlineDate && !isNaN(prodList[i].onlineDate)) {
                        if(prodList[i].onlineDate > 32503680000) {
                            prodList[i].onlineDate = prodList[i].onlineDate/1000;
                        }
                        merch.push('evar122=' + this.stripProductDelimiters(pageDataTracker.getFormattedDate(prodList[i].onlineDate)));
                        var onlineAge = Math.floor((nowTs - prodList[i].onlineDate) / 86400);
                        onlineAge = (onlineAge === 0) ? 'zero' : onlineAge;
                        merch.push('evar128=' + onlineAge);
                    }
                    if (prodList[i].publishDate && !isNaN(prodList[i].publishDate)) {
                        if(prodList[i].publishDate > 32503680000) {
                            prodList[i].publishDate = prodList[i].publishDate/1000;
                        }
                        merch.push('evar123=' + this.stripProductDelimiters(pageDataTracker.getFormattedDate(prodList[i].publishDate)));
                        var publishAge = Math.floor((nowTs - prodList[i].publishDate) / 86400);
                        publishAge = (publishAge === 0) ? 'zero' : publishAge;
                        merch.push('evar127=' + publishAge);
                    }
                    if (prodList[i].onlineDate && prodList[i].publishDate) {
                        merch.push('evar38=' + this.stripProductDelimiters(pageDataTracker.getFormattedDate(prodList[i].onlineDate) + '^' + pageDataTracker.getFormattedDate(prodList[i].publishDate)));
                    }
                    if (prodList[i].mapId) {
                        merch.push('evar70=' + this.stripProductDelimiters(prodList[i].mapId));
                    }
					if (prodList[i].relevancyScore) {
						merch.push('evar71=' + this.stripProductDelimiters(prodList[i].relevancyScore));
					}
                    if (prodList[i].status) {
                        merch.push('evar73=' + this.stripProductDelimiters(prodList[i].status));
                    }
                    if (prodList[i].previousStatus) {
                        merch.push('evar111=' + this.stripProductDelimiters(prodList[i].previousStatus));
                    }
                    if (prodList[i].entitlementType) {
                        merch.push('evar80=' + this.stripProductDelimiters(prodList[i].entitlementType));
                    }
                    if (prodList[i].recordType) {
                        merch.push('evar93=' + this.stripProductDelimiters(prodList[i].recordType));
                    }
                    if (prodList[i].exportType) {
                        merch.push('evar99=' + this.stripProductDelimiters(prodList[i].exportType));
                    }
                    if (prodList[i].importType) {
                        merch.push('evar142=' + this.stripProductDelimiters(prodList[i].importType));
                    }
                    if (prodList[i].section) {
                        merch.push('evar100=' + this.stripProductDelimiters(prodList[i].section));
                    }
                    if (prodList[i].detail) {
                        merch.push('evar104=' + this.stripProductDelimiters(prodList[i].detail.toLowerCase()));
                    } else if(prodList[i].details) {
                        merch.push('evar104=' + this.stripProductDelimiters(prodList[i].details.toLowerCase()));
                    }
                    if (prodList[i].position) {
                        merch.push('evar116=' + this.stripProductDelimiters(prodList[i].position));
                    }
                    if (prodList[i].publicationTitle) {
                        merch.push('evar129=' + this.stripProductDelimiters(prodList[i].publicationTitle));
                    }
                    if (prodList[i].specialIssueTitle) {
                        merch.push('evar130=' + this.stripProductDelimiters(prodList[i].specialIssueTitle));
                    }
                    if (prodList[i].specialIssueNumber) {
                        merch.push('evar131=' + this.stripProductDelimiters(prodList[i].specialIssueNumber));
                    }
                    if (prodList[i].referenceModuleTitle) {
                        merch.push('evar139=' + this.stripProductDelimiters(prodList[i].referenceModuleTitle));
                    }
                    if (prodList[i].referenceModuleISBN) {
                        merch.push('evar140=' + this.stripProductDelimiters(prodList[i].referenceModuleISBN));
                    }
                    if (prodList[i].volumeTitle) {
                        merch.push('evar132=' + this.stripProductDelimiters(prodList[i].volumeTitle));
                    }
                    if (prodList[i].publicationSection) {
                        merch.push('evar133=' + this.stripProductDelimiters(prodList[i].publicationSection));
                    }
                    if (prodList[i].publicationSpecialty) {
                        merch.push('evar134=' + this.stripProductDelimiters(prodList[i].publicationSpecialty));
                    }
                    if (prodList[i].issn) {
                        merch.push('evar135=' + this.stripProductDelimiters(prodList[i].issn));
                    }
                    if (prodList[i].id2) {
                        merch.push('evar159=' + this.stripProductDelimiters(prodList[i].id2));
                    }
                    if (prodList[i].id3) {
                        merch.push('evar160=' + this.stripProductDelimiters(prodList[i].id3));
                    }
                    if (prodList[i].provider) {
                        merch.push('evar164=' + this.stripProductDelimiters(prodList[i].provider));
                    }
                    if (prodList[i].citationStyle) {
                        merch.push('evar170=' + this.stripProductDelimiters(prodList[i].citationStyle));
                    }

                    var biblio = this.getBibliographicInfo(prodList[i]);
                    if (biblio) {
                        merch.push('evar28=' + biblio);
                    }

                    if (prodList[i].turnawayId) {
                        pageData.eventList.push('product turnaway');
                    }

                    var price = prodList[i].price || '', qty = prodList[i].quantity || '', evts = [];
                    if (price && qty) {
                        qty = parseInt(qty || '1');
                        price = parseFloat(price || '0');
                        price = (price * qty).toFixed(2);

                        if (window.eventData && eventData.eventName && eventData.eventName == 'cartAdd') {
                            evts.push('event20=' + price);
                        }
                    }

                    var type = window.pageData && pageData.page && pageData.page.type ? pageData.page.type : '', evt = window.eventData && eventData.eventName ? eventData.eventName : '';
                    if (type.match(/^CP\-/gi) !== null && (!evt || evt == 'newPage' || evt == 'contentView')) {
                        evts.push('event181=1');
                    }
                    if (evt == 'contentDownload' || type.match(/^CP\-DL/gi) !== null) {
                        evts.push('event182=1');
                    }
                    if (evt == 'contentDownloadRequest') {
                        evts.push('event319=1');
                    }
                    if (evt == 'contentExport') {
                        evts.push('event184=1');
                    }
                    if (this.eventFires('recommendationViews')) {
                        evts.push('event264=1');
                    }

                    if(prodList[i].datapoints) {
                        evts.push('event239=' + prodList[i].datapoints);
                    }
                    if(prodList[i].documents) {
                        evts.push('event240=' + prodList[i].documents);
                    }

                    prods.push([
                        ''					// empty category
                        ,prodList[i].id		// id
                        ,qty				// qty
                        ,price				// price
                        ,evts.join('|')		// events
                        ,merch.join('|')	// merchandising eVars
                    ].join(';'));
                }
            }
        }

        return prods.join(',');
    }
    ,eventFires: function(eventName) {
      var evt = window.eventData && eventData.eventName ? eventData.eventName : '';
      if(evt == eventName) {
        return true;
      }
      // initial pageload and new pages
      if((!window.eventData || evt == 'newPage') && window.pageData && window.pageData.trackEvents) {
        var tEvents = window.pageData.trackEvents;
        for(var i=0; i<tEvents.length; i++) {
          if(tEvents[i] == eventName) {
            return true;
          }
        }
      }
      return false;
    }

    ,md5: function(s){function L(k,d){return(k<<d)|(k>>>(32-d))}function K(G,k){var I,d,F,H,x;F=(G&2147483648);H=(k&2147483648);I=(G&1073741824);d=(k&1073741824);x=(G&1073741823)+(k&1073741823);if(I&d){return(x^2147483648^F^H)}if(I|d){if(x&1073741824){return(x^3221225472^F^H)}else{return(x^1073741824^F^H)}}else{return(x^F^H)}}function r(d,F,k){return(d&F)|((~d)&k)}function q(d,F,k){return(d&k)|(F&(~k))}function p(d,F,k){return(d^F^k)}function n(d,F,k){return(F^(d|(~k)))}function u(G,F,aa,Z,k,H,I){G=K(G,K(K(r(F,aa,Z),k),I));return K(L(G,H),F)}function f(G,F,aa,Z,k,H,I){G=K(G,K(K(q(F,aa,Z),k),I));return K(L(G,H),F)}function D(G,F,aa,Z,k,H,I){G=K(G,K(K(p(F,aa,Z),k),I));return K(L(G,H),F)}function t(G,F,aa,Z,k,H,I){G=K(G,K(K(n(F,aa,Z),k),I));return K(L(G,H),F)}function e(G){var Z;var F=G.length;var x=F+8;var k=(x-(x%64))/64;var I=(k+1)*16;var aa=Array(I-1);var d=0;var H=0;while(H<F){Z=(H-(H%4))/4;d=(H%4)*8;aa[Z]=(aa[Z]| (G.charCodeAt(H)<<d));H++}Z=(H-(H%4))/4;d=(H%4)*8;aa[Z]=aa[Z]|(128<<d);aa[I-2]=F<<3;aa[I-1]=F>>>29;return aa}function B(x){var k="",F="",G,d;for(d=0;d<=3;d++){G=(x>>>(d*8))&255;F="0"+G.toString(16);k=k+F.substr(F.length-2,2)}return k}function J(k){k=k.replace(/rn/g,"n");var d="";for(var F=0;F<k.length;F++){var x=k.charCodeAt(F);if(x<128){d+=String.fromCharCode(x)}else{if((x>127)&&(x<2048)){d+=String.fromCharCode((x>>6)|192);d+=String.fromCharCode((x&63)|128)}else{d+=String.fromCharCode((x>>12)|224);d+=String.fromCharCode(((x>>6)&63)|128);d+=String.fromCharCode((x&63)|128)}}}return d}var C=Array();var P,h,E,v,g,Y,X,W,V;var S=7,Q=12,N=17,M=22;var A=5,z=9,y=14,w=20;var o=4,m=11,l=16,j=23;var U=6,T=10,R=15,O=21;s=J(s);C=e(s);Y=1732584193;X=4023233417;W=2562383102;V=271733878;for(P=0;P<C.length;P+=16){h=Y;E=X;v=W;g=V;Y=u(Y,X,W,V,C[P+0],S,3614090360);V=u(V,Y,X,W,C[P+1],Q,3905402710);W=u(W,V,Y,X,C[P+2],N,606105819);X=u(X,W,V,Y,C[P+3],M,3250441966);Y=u(Y,X,W,V,C[P+4],S,4118548399);V=u(V,Y,X,W,C[P+5],Q,1200080426);W=u(W,V,Y,X,C[P+6],N,2821735955);X=u(X,W,V,Y,C[P+7],M,4249261313);Y=u(Y,X,W,V,C[P+8],S,1770035416);V=u(V,Y,X,W,C[P+9],Q,2336552879);W=u(W,V,Y,X,C[P+10],N,4294925233);X=u(X,W,V,Y,C[P+11],M,2304563134);Y=u(Y,X,W,V,C[P+12],S,1804603682);V=u(V,Y,X,W,C[P+13],Q,4254626195);W=u(W,V,Y,X,C[P+14],N,2792965006);X=u(X,W,V,Y,C[P+15],M,1236535329);Y=f(Y,X,W,V,C[P+1],A,4129170786);V=f(V,Y,X,W,C[P+6],z,3225465664);W=f(W,V,Y,X,C[P+11],y,643717713);X=f(X,W,V,Y,C[P+0],w,3921069994);Y=f(Y,X,W,V,C[P+5],A,3593408605);V=f(V,Y,X,W,C[P+10],z,38016083);W=f(W,V,Y,X,C[P+15],y,3634488961);X=f(X,W,V,Y,C[P+4],w,3889429448);Y=f(Y,X,W,V,C[P+9],A,568446438);V=f(V,Y,X,W,C[P+14],z,3275163606);W=f(W,V,Y,X,C[P+3],y,4107603335);X=f(X,W,V,Y,C[P+8],w,1163531501);Y=f(Y,X,W,V,C[P+13],A,2850285829);V=f(V,Y,X,W,C[P+2],z,4243563512);W=f(W,V,Y,X,C[P+7],y,1735328473);X=f(X,W,V,Y,C[P+12],w,2368359562);Y=D(Y,X,W,V,C[P+5],o,4294588738);V=D(V,Y,X,W,C[P+8],m,2272392833);W=D(W,V,Y,X,C[P+11],l,1839030562);X=D(X,W,V,Y,C[P+14],j,4259657740);Y=D(Y,X,W,V,C[P+1],o,2763975236);V=D(V,Y,X,W,C[P+4],m,1272893353);W=D(W,V,Y,X,C[P+7],l,4139469664);X=D(X,W,V,Y,C[P+10],j,3200236656);Y=D(Y,X,W,V,C[P+13],o,681279174);V=D(V,Y,X,W,C[P+0],m,3936430074);W=D(W,V,Y,X,C[P+3],l,3572445317);X=D(X,W,V,Y,C[P+6],j,76029189);Y=D(Y,X,W,V,C[P+9],o,3654602809);V=D(V,Y,X,W,C[P+12],m,3873151461);W=D(W,V,Y,X,C[P+15],l,530742520);X=D(X,W,V,Y,C[P+2],j,3299628645);Y=t(Y,X,W,V,C[P+0],U,4096336452);V=t(V,Y,X,W,C[P+7],T,1126891415);W=t(W,V,Y,X,C[P+14],R,2878612391);X=t(X,W,V,Y,C[P+5],O,4237533241);Y=t(Y,X,W,V,C[P+12],U,1700485571);V=t(V,Y,X,W,C[P+3],T,2399980690);W=t(W,V,Y,X,C[P+10],R,4293915773);X=t(X,W,V,Y,C[P+1],O,2240044497);Y=t(Y,X,W,V,C[P+8],U,1873313359);V=t(V,Y,X,W,C[P+15],T,4264355552);W=t(W,V,Y,X,C[P+6],R,2734768916);X=t(X,W,V,Y,C[P+13],O,1309151649);Y=t(Y,X,W,V,C[P+4],U,4149444226);V=t(V,Y,X,W,C[P+11],T,3174756917);W=t(W,V,Y,X,C[P+2],R,718787259);X=t(X,W,V,Y,C[P+9],O,3951481745);Y=K(Y,h);X=K(X,E);W=K(W,v);V=K(V,g)}var i=B(Y)+B(X)+B(W)+B(V);return i.toLowerCase()}
    ,stripProductDelimiters: function(val) {
        if (val) {
            return val.replace(/\;|\||\,/gi, '-');
        }
    }

    ,setCookie: function(name, value, seconds, domain) {
        domain = document.location.hostname;
        var expires = '';
        var expiresNow = '';
        var date = new Date();
        date.setTime(date.getTime() + (-1 * 1000));
        expiresNow = "; expires=" + date.toGMTString();

        if (typeof(seconds) != 'undefined') {
            date.setTime(date.getTime() + (seconds * 1000));
            expires = '; expires=' + date.toGMTString();
        }

        var type = typeof(value);
        type = type.toLowerCase();
        if (type != 'undefined' && type != 'string') {
            value = JSON.stringify(value);
        }

        // fix scoping issues
        // keep writing the old cookie, but make it expire
        document.cookie = name + '=' + value + expiresNow + '; path=/';

        // now just set the right one
        document.cookie = name + '=' + value + expires + '; path=/; domain=' + domain;
    }

    ,getCookie: function(name) {
        name = name + '=';
        var carray = document.cookie.split(';'), value;

        for (var i=0; i<carray.length; i++) {
            var c = carray[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1, c.length);
            }
            if (c.indexOf(name) == 0) {
                value = c.substring(name.length, c.length);
                try {
                    value = JSON.parse(value);
                } catch(ex) {}

                return value;
            }
        }

        return null;
    }

    ,deleteCookie: function(name) {
        this.setCookie(name, '', -1);
        this.setCookie(name, '', -1, document.location.hostname);
    }

    ,mapAdobeVars: function(s) {
        var vars = {
            pageName		: 'Page - Analytics Pagename'
            ,channel		: 'Page - Section Name'
            ,campaign		: 'Campaign - ID'
            ,currencyCode	: 'Page - Currency Code'
            ,purchaseID		: 'Order - ID'
            ,prop1			: 'Visitor - Account ID'
            ,prop2			: 'Page - Product Name'
            ,prop4			: 'Page - Type'
            ,prop6			: 'Search - Type'
            ,prop7			: 'Search - Facet List'
            ,prop8			: 'Search - Feature Used'
            ,prop12			: 'Visitor - User ID'
            ,prop13			: 'Search - Sort Type'
            ,prop14			: 'Page - Load Time'
            ,prop15         : 'Support - Topic Name'
            ,prop16			: 'Page - Business Unit'
            ,prop21			: 'Search - Criteria'
            ,prop24			: 'Page - Language'
            ,prop25			: 'Page - Product Feature'
            ,prop28         : 'Support - Search Criteria'
            ,prop30			: 'Visitor - IP Address'
            ,prop33         : 'Page - Product Application Version'
            ,prop34         : 'Page - Website Extensions'
            ,prop60			: 'Search - Data Form Criteria'
            ,prop65         : 'Page - Online State'
            ,prop67         : 'Research Networks'
            ,prop40: 'Page - UX Properties'

            ,eVar3			: 'Search - Total Results'
            ,eVar7			: 'Visitor - Account Name'
            ,eVar15			: 'Event - Search Results Click Position'
            ,eVar19			: 'Search - Advanced Criteria'
            ,eVar21			: 'Promo - Clicked ID'
            ,eVar22			: 'Page - Test ID'
            ,eVar27			: 'Event - AutoSuggest Search Data'
            ,eVar157		: 'Event - AutoSuggest Search Typed Term'
            ,eVar156		: 'Event - AutoSuggest Search Selected Term'
            ,eVar162		: 'Event - AutoSuggest Search Category'
            ,eVar163		: 'Event - AutoSuggest Search Details'
            ,eVar33			: 'Visitor - Access Type'
            ,eVar34			: 'Order - Promo Code'
            ,eVar39			: 'Order - Payment Method'
            ,eVar41			: 'Visitor - Industry'
            ,eVar42			: 'Visitor - SIS ID'
            ,eVar43			: 'Page - Error Type'
            ,eVar44			: 'Event - Updated User Fields'
            ,eVar48			: 'Email - Recipient ID'
            ,eVar51			: 'Email - Message ID'
            ,eVar52			: 'Visitor - Department ID'
            ,eVar53			: 'Visitor - Department Name'
            ,eVar60			: 'Search - Within Content Criteria'
            ,eVar61			: 'Search - Within Results Criteria'
            ,eVar62			: 'Search - Result Types'
            ,eVar74			: 'Page - Journal Info'
            ,eVar76			: 'Email - Broadlog ID'
            ,eVar78			: 'Visitor - Details'
            ,eVar80         : 'Visitor - Usage Path Info'
            ,eVar102		: 'Form - Name'
            ,eVar103        : 'Event - Conversion Driver'
            ,eVar105        : 'Search - Current Page'
            ,eVar106        : 'Visitor - App Session ID'
            ,eVar107        : 'Page - Secondary Product Name'
            ,eVar117        : 'Search - Database'
            ,eVar126        : 'Page - Environment'
            ,eVar141        : 'Search - Criteria Original'
            ,eVar143        : 'Page - Tabs'
            ,eVar161        : 'Search - Channel'
            ,eVar169        : 'Search - Facet Operation'
            ,eVar173        : 'Search - Details'
            ,eVar174        : 'Campaign - Spredfast ID'
            ,eVar175        : 'Visitor - TMX Device ID'
            ,eVar176        : 'Visitor - TMX Request ID'
            ,eVar148        : 'Visitor - Platform Name'
            ,eVar149        : 'Visitor - Platform ID'
            ,eVar152        : 'Visitor - Product ID'
            ,eVar153        : 'Visitor - Superaccount ID'
            ,eVar154        : 'Visitor - Superaccount Name'
            ,eVar177        : 'Page - Context Domain'
            ,eVar189    : 'Page - Experimentation User Id'
            ,eVar190    : 'Page - Identity User'
            ,eVar199    : 'Page - ID+ Parameters'

            ,list2			: 'Page - Widget Names'
            ,list3			: 'Promo - IDs'
        };

        for (var i in vars) {
            s[i] = s[i] ? s[i] : _satellite.getVar(vars[i]);
        }
    }
};

// async support fallback
(function(w) {
	var eventBuffer = [];
	if(w.appData) {
		if(Array.isArray(w.appData)) {
			eventBuffer = w.appData;
		} else {
			console.error('Elsevier DataLayer "window.appData" must be specified as array');
			return;
		}
    }

	w.appData = [];

	var oldPush = w.appData.push;

	var appDataPush = function() {
        oldPush.apply(w.appData, arguments);
        for(var i=0; i<arguments.length; i++) {
            var data = arguments[i];
            if(data.event) {
                if(data.event == 'pageLoad') {
                    w.pageDataTracker.trackPageLoad(data);
                } else {
                    w.pageDataTracker.trackEvent(data.event, data);
                }
            }
        }
	};

	w.appData.push = appDataPush;
	for(var i=0; i<eventBuffer.length; i++) {
	    var data = eventBuffer[i];
	    w.appData.push(data);
	}
})(window);

</script>
<script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/core-js.es.minified.js.download" type="text/javascript"></script>
<script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/react.production.min.js.download" type="text/javascript"></script>
<script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/react-dom.production.min.js.download" type="text/javascript"></script>
<script async="" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/arp.js.download" type="text/javascript"></script>
<script type="text/javascript">
function runPendo() {
  (function(apiKey){(function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=[];v=['initialize','identify','updateOptions','pageLoad'];for(w=0,x=v.length;w<x;++w)(function(m){o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');
  var f={visitor:{id:pageDataTracker.getVisitorId(),pageName:'SD:product:journal:article',pageType:'CP-CA',pageProduct:'SD',pageLanguage:'en',pageEnvironment:'prod',accessType:'GUEST',},account:{id:'ae:228598',name:'ae:ScienceDirectGuests',},events:{ready:function(){pendo.addBodyMutationListener();}}};
  if(f.visitor.id){
    pendo.initialize(f);
    pendo.addAltText = function(guideId) {
      var badgeId = pendo.badgesShown[guideId].domJson.children[1].props.id;
      var pendoInputElement = pendo.dom("#"+badgeId+ " input")[0];
      if (pendoInputElement) {
        pendoInputElement.setAttribute('type', 'image');
        var guideName = pendo.guides.filter(function(elem){return elem.id==guideId;})[0].name;
        if (guideName.includes("#[")) {
          var guideNameAltText = guideName.substring(guideName.indexOf("#[")+2, guideName.indexOf("]"));
        }

        if (guideName == "Resource Center") {
          pendoInputElement.setAttribute('alt', "Resource Center");
        } else if (guideNameAltText) {
          pendoInputElement.setAttribute('alt', guideNameAltText);
        } else {
          pendoInputElement.setAttribute('alt', "tooltip badge");
        }
      }
    }

    pendo.addBodyMutationListener = function() {
      var target = document.querySelector('body');
      var observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          if (mutation.addedNodes.length && mutation.addedNodes[0].className.includes("_pendo-badge") && pendo.badgesShown) {
            var badgeList = pendo.badgesShown;
            Object.keys(badgeList).forEach(function(gid){pendo.addAltText(gid);});
            observer.disconnect();
          }
        })
      })
      var config = {
        attributeFilter: ['data-layout'],
        attributes: true,
        childList: true,
        characterData: true,
        subtree: false
      };
      observer.observe(target, config);
    }
    _satellite.logger.log('pendo: initialized');
  } else {
    _satellite.logger.log('pendo: not initialized due missing data');
  }})('d6c1d995-bc7e-4e53-77f1-2ea4ecbb9565');
}

(function watchAndRunPendo(nextDelay, retryAttempt) {
  if (pageDataTracker && pageDataTracker.getVisitorId()) {
    return runPendo();
  }
  if (retryAttempt > 0) {
    return setTimeout(function() {
      watchAndRunPendo(nextDelay * 2, retryAttempt - 1);
    }, nextDelay);
  }
})(100, 12);
 </script>
<noscript><iframe style="width: 100px; height: 100px; border: 0; position: absolute; top: -5000px;" src="https://nav.sciencedirect.com/fp/tags.js?org_id=72k6ns9a&session_id=deee373c-5fdc-4339-abe6-c23c1b297765&page_id=402"></iframe></noscript>
<script type="text/x-mathjax-config;executed=true">
        MathJax.Hub.Config({
          displayAlign: 'left',
          "fast-preview": {
            disabled: true
          },
          CommonHTML: { linebreaks: { automatic: true } },
          PreviewHTML: { linebreaks: { automatic: true } },
          'HTML-CSS': { linebreaks: { automatic: true } },
          SVG: {
            scale: 90,
            linebreaks: { automatic: true }
          }
        });
      </script>
<script async="" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/MathJax.js.download" type="text/javascript"></script>
<script async="" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/gpt.js.download" type="text/javascript"></script>
<script async="" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/f.txt" type="text/javascript"></script>

<iframe src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/saved_resource.html" id="tmx_tags_iframe" title="empty" tabindex="-1" aria-disabled="true" aria-hidden="true" style="width: 0px; height: 0px; border: 0px; position: absolute; top: -5000px;"></iframe><div class="js-react-modal"></div><div class="js-react-modal"></div><div class="js-react-modal"></div><div class="js-react-modal"></div><div class="js-react-modal"></div><div class="js-react-modal"></div><script src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/widget-summary.js.download" async=""></script><iframe sandbox="allow-scripts allow-same-origin" title="Adobe ID Syncing iFrame" id="destination_publishing_iframe_elsevier_0" name="destination_publishing_iframe_elsevier_0_name" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/dest5.html" class="aamIframeLoaded" style="display: none; width: 0px; height: 0px;"></iframe><iframe id="tdz_ifrm" title="empty" name="" width="0px" height="0px" marginwidth="0" marginheight="0" frameborder="0" style="display:none !important; z-index:-9999 !important; visibility:hidden !important" aria-disabled="true" aria-hidden="true" tabindex="-1" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/Qx3TEM5H9sQJA0rr.html"></iframe><script>_satellite["_runScript1"](function(event, target, Promise) {
_satellite.logger.log("eventDispatcher: clearing tracking state");try{s.events="",s.linkTrackVars="",s.linkTrackEvents=""}catch(e){_satellite.logger.log("eventDispatcher: s object - could not reset state.")}try{dispatcherData=JSON.parse(event.detail),window.ddqueue=window.ddqueue||[],window.ddqueue.push(dispatcherData),window.eventData=dispatcherData.eventData,window.pageData=dispatcherData.pageData,_satellite.track(dispatcherData.eventName)}catch(e){_satellite.logger.log("eventDispatcher: exception"),_satellite.logger.log(e)}
});</script><iframe id="ps_thnbdgn" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/saved_resource(1).html" style="display: none; position: absolute; top: -999px; left: -999px;"></iframe><div id="_pendo-badge_Kh37E7DGgkYQCtkt6CjhLPpZHb0" data-layout="badgeBlank" class="_pendo-badge _pendo-badge_" style="z-index: 19000; margin: 0px; line-height: 1; height: 32px; width: 128px; font-size: 0px; padding: 0px; box-shadow: rgb(136, 136, 136) 0px 0px 0px 0px; float: none; vertical-align: baseline; display: block; position: absolute; top: 18992px; left: 1903px;"><style type="text/css" scoped="scoped" style="white-space: pre-wrap;"></style><div data-img-id="pendo-image-badge-c2b2bcc0" id="pendo-image-wrapper-98bebc6b" class="pendo-block-wrapper _pendo-image-wrapper" data-_pendo-image-wrapper-1=""><input type="image" id="pendo-image-badge-c2b2bcc0" src="./An Archetype Query Language interpreter into MongoDB_ Managing NoSQL standardized Electronic Health Record extracts systems - ScienceDirect_files/guide-media-0f571845-b6c3-42ce-8d5c-096466bec2a9" data-_pendo-image-1="" class="_pendo-image _pendo-badge-image" alt="Provide feedback" style="display: block; height: 32px; width: 128px; padding: 0px; margin: 0px; line-height: 1; border: none; box-shadow: rgb(136, 136, 136) 0px 0px 0px 0px; float: none; vertical-align: baseline;"></div></div></body></html>